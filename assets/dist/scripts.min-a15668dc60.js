!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=K.type(e);return"function"===n||K.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(K.isFunction(t))return K.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return K.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(oe.test(t))return K.filter(t,e,n);t=K.filter(t,e)}return K.grep(e,function(e){return V.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=pe[e]={};return K.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),K.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+o.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?K.parseJSON(n):n}catch(i){}_e.set(e,t,n)}else n=void 0;return n}function h(){return!0}function c(){return!1}function l(){try{return J.activeElement}catch(e){}}function d(e,t){return K.nodeName(e,"table")&&K.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,s,a,o,u,h;if(1===t.nodeType){if(ve.hasData(e)&&(s=ve.access(e),a=ve.set(t,s),h=s.events)){delete a.handle,a.events={};for(i in h)for(n=0,r=h[i].length;r>n;n++)K.event.add(t,i,h[i][n])}_e.hasData(e)&&(o=_e.access(e),u=K.extend({},o),_e.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&K.nodeName(e,t)?K.merge([e],n):n}function _(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ce.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var r,i=K(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:K.css(i[0],"display");return i.detach(),s}function x(e){var t=J,n=Fe[e];return n||(n=y(e,t),"none"!==n&&n||(Be=(Be||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Be[0].contentDocument,t.write(),t.close(),n=y(e,t),Be.detach()),Fe[e]=n),n}function b(e,t,n){var r,i,s,a,o=e.style;return n=n||We(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||K.contains(e.ownerDocument,e)||(a=K.style(e,t)),He.test(a)&&ze.test(t)&&(r=o.width,i=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=r,o.minWidth=i,o.maxWidth=s)),void 0!==a?a+"":a}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=$e.length;i--;)if(t=$e[i]+n,t in e)return t;return r}function C(e,t,n){var r=Ge.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function T(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=K.css(e,n+we[s],!0,i)),r?("content"===n&&(a-=K.css(e,"padding"+we[s],!0,i)),"margin"!==n&&(a-=K.css(e,"border"+we[s]+"Width",!0,i))):(a+=K.css(e,"padding"+we[s],!0,i),"padding"!==n&&(a+=K.css(e,"border"+we[s]+"Width",!0,i)));return a}function O(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=We(e),a="border-box"===K.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=b(e,t,s),(0>i||null==i)&&(i=e.style[t]),He.test(i))return i;r=a&&(Z.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(a?"border":"content"),r,s)+"px"}function k(e,t){for(var n,r,i,s=[],a=0,o=e.length;o>a;a++)r=e[a],r.style&&(s[a]=ve.get(r,"olddisplay"),n=r.style.display,t?(s[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Se(r)&&(s[a]=ve.access(r,"olddisplay",x(r.nodeName)))):(i=Se(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:K.css(r,"display"))));for(a=0;o>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[a]||"":"none"));return e}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function P(){return setTimeout(function(){Ze=void 0}),Ze=K.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=we[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function I(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),s=0,a=i.length;a>s;s++)if(r=i[s].call(n,t,e))return r}function L(e,t,n){var r,i,s,a,o,u,h,c,l=this,d={},f=e.style,p=e.nodeType&&Se(e),g=ve.get(e,"fxshow");n.queue||(o=K._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--,K.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],h=K.css(e,"display"),c="none"===h?ve.get(e,"olddisplay")||x(e.nodeName):h,"inline"===c&&"none"===K.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",l.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Qe.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||K.style(e,r)}else h=void 0;if(K.isEmptyObject(d))"inline"===("none"===h?x(e.nodeName):h)&&(f.display=h);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(e,"fxshow",{}),s&&(g.hidden=!p),p?K(e).show():l.done(function(){K(e).hide()}),l.done(function(){var t;ve.remove(e,"fxshow");for(t in d)K.style(e,t,d[t])});for(r in d)a=I(p?g[r]:0,r,l),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function N(e,t){var n,r,i,s,a;for(n in e)if(r=K.camelCase(n),i=t[r],s=e[n],K.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){s=a.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function E(e,t,n){var r,i,s=0,a=tt.length,o=K.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ze||P(),n=Math.max(0,h.startTime+h.duration-t),r=n/h.duration||0,s=1-r,a=0,u=h.tweens.length;u>a;a++)h.tweens[a].run(s);return o.notifyWith(e,[h,s,n]),1>s&&u?n:(o.resolveWith(e,[h]),!1)},h=o.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ze||P(),duration:n.duration,tweens:[],createTween:function(t,n){var r=K.Tween(e,h.opts,t,n,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(r),r},stop:function(t){var n=0,r=t?h.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)h.tweens[n].run(1);return t?o.resolveWith(e,[h,t]):o.rejectWith(e,[h,t]),this}}),c=h.props;for(N(c,h.opts.specialEasing);a>s;s++)if(r=tt[s].call(h,e,c,h.opts))return r;return K.map(c,I,h),K.isFunction(h.opts.start)&&h.opts.start.call(e,h),K.fx.timer(K.extend(u,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(fe)||[];if(K.isFunction(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(o){var u;return s[o]=!0,K.each(e[o]||[],function(e,o){var h=o(t,n,r);return"string"!=typeof h||a||s[h]?a?!(u=h):void 0:(t.dataTypes.unshift(h),i(h),!1)}),u}var s={},a=e===yt;return i(t.dataTypes[0])||!s["*"]&&i("*")}function D(e,t){var n,r,i=K.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&K.extend(!0,e,r),e}function U(e,t,n){for(var r,i,s,a,o=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in o)if(o[i]&&o[i].test(r)){u.unshift(i);break}if(u[0]in n)s=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){s=i;break}a||(a=i)}s=s||a}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function B(e,t,n,r){var i,s,a,o,u,h={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)h[a.toLowerCase()]=e.converters[a];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=s,s=c.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(a=h[u+" "+s]||h["* "+s],!a)for(i in h)if(o=i.split(" "),o[1]===s&&(a=h[u+" "+o[0]]||h["* "+o[0]])){a===!0?a=h[i]:h[i]!==!0&&(s=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(l){return{state:"parsererror",error:a?l:"No conversion from "+u+" to "+s}}}return{state:"success",data:t}}function F(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||Ct.test(e)?r(e,i):F(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)F(e+"["+i+"]",t[i],n,r)}function z(e){return K.isWindow(e)?e:9===e.nodeType&&e.defaultView}var H=[],W=H.slice,q=H.concat,G=H.push,V=H.indexOf,X={},Y=X.toString,$=X.hasOwnProperty,Z={},J=e.document,Q="2.1.4",K=function(e,t){return new K.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};K.fn=K.prototype={jquery:Q,constructor:K,selector:"",length:0,toArray:function(){return W.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:W.call(this)},pushStack:function(e){var t=K.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return K.each(this,e,t)},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:H.sort,splice:H.splice},K.extend=K.fn.extend=function(){var e,t,n,r,i,s,a=arguments[0]||{},o=1,u=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[o]||{},o++),"object"==typeof a||K.isFunction(a)||(a={}),o===u&&(a=this,o--);u>o;o++)if(null!=(e=arguments[o]))for(t in e)n=a[t],r=e[t],a!==r&&(h&&r&&(K.isPlainObject(r)||(i=K.isArray(r)))?(i?(i=!1,s=n&&K.isArray(n)?n:[]):s=n&&K.isPlainObject(n)?n:{},a[t]=K.extend(h,s,r)):void 0!==r&&(a[t]=r));return a},K.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!K.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==K.type(e)||e.nodeType||K.isWindow(e)?!1:e.constructor&&!$.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=K.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,s=0,a=e.length,o=n(e);if(r){if(o)for(;a>s&&(i=t.apply(e[s],r),i!==!1);s++);else for(s in e)if(i=t.apply(e[s],r),i===!1)break}else if(o)for(;a>s&&(i=t.call(e[s],s,e[s]),i!==!1);s++);else for(s in e)if(i=t.call(e[s],s,e[s]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?K.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,a=e.length,o=!n;a>s;s++)r=!t(e[s],s),r!==o&&i.push(e[s]);return i},map:function(e,t,r){var i,s=0,a=e.length,o=n(e),u=[];if(o)for(;a>s;s++)i=t(e[s],s,r),null!=i&&u.push(i);else for(s in e)i=t(e[s],s,r),null!=i&&u.push(i);return q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),K.isFunction(e)?(r=W.call(arguments,2),i=function(){return e.apply(t||this,r.concat(W.call(arguments)))},i.guid=e.guid=e.guid||K.guid++,i):void 0},now:Date.now,support:Z}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,s,a,o,u,h,l,f,p,g;if((t?t.ownerDocument||t:F)!==L&&I(t),t=t||L,n=n||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!r&&E){if(11!==o&&(i=_e.exec(e)))if(a=i[1]){if(9===o){if(s=t.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&U(t,s)&&s.id===a)return n.push(s),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&b.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!j||!j.test(e))){if(f=l=B,p=t,g=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(h=T(e),(l=t.getAttribute("id"))?f=l.replace(xe,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=h.length;u--;)h[u]=f+d(h[u]);p=ye.test(e)&&c(t.parentNode)||t,g=h.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{l||t.removeAttribute("id")}}}return k(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function h(e){return r(function(t){return t=+t,r(function(n,r){for(var i,s=e([],n.length,t),a=s.length;a--;)n[i=s[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function l(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=H++;return t.first?function(t,n,s){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,a){var o,u,h=[z,s];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[B]||(t[B]={}),(o=u[r])&&o[0]===z&&o[1]===s)return h[2]=o[2];if(u[r]=h,h[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,s=n.length;s>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var s,a=[],o=0,u=e.length,h=null!=t;u>o;o++)(s=e[o])&&(!n||n(s,r,i))&&(a.push(s),h&&t.push(o));return a}function v(e,t,n,i,s,a){return i&&!i[B]&&(i=v(i)),s&&!s[B]&&(s=v(s,a)),r(function(r,a,o,u){var h,c,l,d=[],f=[],p=a.length,v=r||g(t||"*",o.nodeType?[o]:o,[]),_=!e||!r&&t?v:m(v,d,e,o,u),y=n?s||(r?e:p||i)?[]:a:_;if(n&&n(_,y,o,u),i)for(h=m(y,f),i(h,[],o,u),c=h.length;c--;)(l=h[c])&&(y[f[c]]=!(_[f[c]]=l));if(r){if(s||e){if(s){for(h=[],c=y.length;c--;)(l=y[c])&&h.push(_[c]=l);s(null,y=[],h,u)}for(c=y.length;c--;)(l=y[c])&&(h=s?ee(r,l):d[c])>-1&&(r[h]=!(a[h]=l))}}else y=m(y===a?y.splice(p,y.length):y),s?s(null,a,y,u):Q.apply(a,y)})}function _(e){for(var t,n,r,i=e.length,s=w.relative[e[0].type],a=s||w.relative[" "],o=s?1:0,u=f(function(e){return e===t},a,!0),h=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!s&&(r||n!==M)||((t=n).nodeType?u(e,n,r):h(e,n,r));return t=null,i}];i>o;o++)if(n=w.relative[e[o].type])c=[f(p(c),n)];else{if(n=w.filter[e[o].type].apply(null,e[o].matches),n[B]){for(r=++o;i>r&&!w.relative[e[r].type];r++);return v(o>1&&p(c),o>1&&d(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ue,"$1"),n,r>o&&_(e.slice(o,r)),i>r&&_(e=e.slice(r)),i>r&&d(e))}c.push(n)}return p(c)}function y(e,n){var i=n.length>0,s=e.length>0,a=function(r,a,o,u,h){var c,l,d,f=0,p="0",g=r&&[],v=[],_=M,y=r||s&&w.find.TAG("*",h),x=z+=null==_?1:Math.random()||.1,b=y.length;for(h&&(M=a!==L&&a);p!==b&&null!=(c=y[p]);p++){if(s&&c){for(l=0;d=e[l++];)if(d(c,a,o)){u.push(c);break}h&&(z=x)}i&&((c=!d&&c)&&f--,r&&g.push(c))}if(f+=p,i&&p!==f){for(l=0;d=n[l++];)d(g,v,a,o);if(r){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(u));v=m(v)}Q.apply(u,v),h&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return h&&(z=x,M=_),g};return i?r(a):a}var x,b,w,S,C,T,O,k,M,P,A,I,L,N,E,j,R,D,U,B="sizzle"+1*new Date,F=e.document,z=0,H=0,W=n(),q=n(),G=n(),V=function(e,t){return e===t&&(A=!0),0},X=1<<31,Y={}.hasOwnProperty,$=[],Z=$.pop,J=$.push,Q=$.push,K=$.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),se="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),he=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Se=function(){I()};try{Q.apply($=K.call(F.childNodes),F.childNodes),$[F.childNodes.length].nodeType}catch(Ce){Q={apply:$.length?function(e,t){J.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,N=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),E=!C(r),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ve.test(r.getElementsByClassName),b.getById=i(function(e){return N.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),b.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},w.find.CLASS=b.getElementsByClassName&&function(e,t){return E?t.getElementsByClassName(e):void 0},R=[],j=[],(b.qsa=ve.test(r.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||j.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(b.matchesSelector=ve.test(D=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){b.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),R.push("!=",ae)}),j=j.length&&new RegExp(j.join("|")),R=R.length&&new RegExp(R.join("|")),t=ve.test(N.compareDocumentPosition),U=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===F&&U(F,e)?-1:t===r||t.ownerDocument===F&&U(F,t)?1:P?ee(P,e)-ee(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,s=e.parentNode,o=t.parentNode,u=[e],h=[t];if(!s||!o)return e===r?-1:t===r?1:s?-1:o?1:P?ee(P,e)-ee(P,t):0;if(s===o)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)h.unshift(n);for(;u[i]===h[i];)i++;return i?a(u[i],h[i]):u[i]===F?-1:h[i]===F?1:0},r):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&I(e),n=n.replace(le,"='$1']"),!(!b.matchesSelector||!E||R&&R.test(n)||j&&j.test(n)))try{var r=D.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&I(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&I(e);var n=w.attrHandle[t.toLowerCase()],r=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:b.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!b.detectDuplicates,P=!b.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return P=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var s=t.attr(i,e);return null==s?"!="===n:n?(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s.replace(oe," ")+" ").indexOf(r)>-1:"|="===n?s===r||s.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var h,c,l,d,f,p,g=s!==a?"nextSibling":"previousSibling",m=t.parentNode,v=o&&t.nodeName.toLowerCase(),_=!u&&!o;if(m){if(s){for(;g;){for(l=t;l=l[g];)if(o?l.nodeName.toLowerCase()===v:1===l.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&_){for(c=m[B]||(m[B]={}),h=c[e]||[],f=h[0]===z&&h[1],d=h[0]===z&&h[2],l=f&&m.childNodes[f];l=++f&&l&&l[g]||(d=f=0)||p.pop();)if(1===l.nodeType&&++d&&l===t){c[e]=[z,f,d];break}}else if(_&&(h=(t[B]||(t[B]={}))[e])&&h[0]===z)d=h[1];else for(;(l=++f&&l&&l[g]||(d=f=0)||p.pop())&&((o?l.nodeName.toLowerCase()!==v:1!==l.nodeType)||!++d||(_&&((l[B]||(l[B]={}))[e]=[z,d]),l!==t)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var i,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[B]?s(n):s.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=s(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return s(e,0,i)}):s}},pseudos:{not:r(function(e){var t=[],n=[],i=O(e.replace(ue,"$1"));return i[B]?r(function(e,t,n,r){for(var s,a=i(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=E?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,n){return[0>n?n+t:n]}),even:h(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:h(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:h(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:h(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=o(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=u(x);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,T=t.tokenize=function(e,n){var r,i,s,a,o,u,h,c=q[e+" "];if(c)return n?0:c.slice(0);for(o=e,u=[],h=w.preFilter;o;){(!r||(i=he.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),u.push(s=[])),r=!1,(i=ce.exec(o))&&(r=i.shift(),s.push({value:r,type:i[0].replace(ue," ")}),o=o.slice(r.length));for(a in w.filter)!(i=pe[a].exec(o))||h[a]&&!(i=h[a](i))||(r=i.shift(),s.push({value:r,type:a,matches:i}),o=o.slice(r.length));if(!r)break}return n?o.length:o?t.error(e):q(e,u).slice(0)},O=t.compile=function(e,t){var n,r=[],i=[],s=G[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)s=_(t[n]),s[B]?r.push(s):i.push(s);s=G(e,y(i,r)),s.selector=e}return s},k=t.select=function(e,t,n,r){var i,s,a,o,u,h="function"==typeof e&&e,l=!r&&T(e=h.selector||e);if(n=n||[],1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&b.getById&&9===t.nodeType&&E&&w.relative[s[1].type]){if(t=(w.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;h&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=pe.needsContext.test(e)?0:s.length;i--&&(a=s[i],!w.relative[o=a.type]);)if((u=w.find[o])&&(r=u(a.matches[0].replace(be,we),ye.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(i,1),e=r.length&&d(s),!e)return Q.apply(n,r),n;break}}return(h||O(e,l))(r,t,!E,n,ye.test(e)&&c(t.parentNode)||t),n},b.sortStable=B.split("").sort(V).join("")===B,b.detectDuplicates=!!A,I(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);K.find=ie,K.expr=ie.selectors,K.expr[":"]=K.expr.pseudos,K.unique=ie.uniqueSort,K.text=ie.getText,K.isXMLDoc=ie.isXML,K.contains=ie.contains;var se=K.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^.[^:#\[\.,]*$/;K.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?K.find.matchesSelector(r,e)?[r]:[]:K.find.matches(e,K.grep(t,function(e){return 1===e.nodeType}))},K.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;

if("string"!=typeof e)return this.pushStack(K(e).filter(function(){for(t=0;n>t;t++)if(K.contains(i[t],this))return!0}));for(t=0;n>t;t++)K.find(e,i[t],r);return r=this.pushStack(n>1?K.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&se.test(e)?K(e):e||[],!1).length}});var ue,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=K.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:he.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof K?t[0]:t,K.merge(this,K.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ae.test(n[1])&&K.isPlainObject(t))for(n in t)K.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):K.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(K):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))};ce.prototype=K.fn,ue=K(J);var le=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&K(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),K.fn.extend({has:function(e){var t=K(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(K.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],a=se.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?K.unique(s):s)},index:function(e){return e?"string"==typeof e?V.call(K(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(K.unique(K.merge(this.get(),K(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return e.contentDocument||K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),this.length>1&&(de[e]||K.unique(i),le.test(e)&&i.reverse()),this.pushStack(i)}});var fe=/\S+/g,pe={};K.Callbacks=function(e){e="string"==typeof e?pe[e]||s(e):K.extend({},e);var t,n,r,i,a,o,u=[],h=!e.once&&[],c=function(s){for(t=e.memory&&s,n=!0,o=i||0,i=0,a=u.length,r=!0;u&&a>o;o++)if(u[o].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(h?h.length&&c(h.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;!function s(t){K.each(t,function(t,n){var r=K.type(n);"function"===r?e.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),r?a=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,o>=n&&o--)}),this},has:function(e){return e?K.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=h=t=void 0,this},disabled:function(){return!u},lock:function(){return h=void 0,t||l.disable(),this},locked:function(){return!h},fireWith:function(e,t){return!u||n&&!h||(t=t||[],t=[e,t.slice?t.slice():t],r?h.push(t):c(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,s){var a=K.isFunction(e[t])&&e[t];i[s[1]](function(){var e=a&&a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,s){var a=s[2],o=s[3];r[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,s=W.call(arguments),a=s.length,o=1!==a||e&&K.isFunction(e.promise)?a:0,u=1===o?e:K.Deferred(),h=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?W.call(arguments):i,r===t?u.notifyWith(n,r):--o||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)s[i]&&K.isFunction(s[i].promise)?s[i].promise().done(h(i,r,s)).fail(u.reject).progress(h(i,n,t)):--o;return o||u.resolveWith(r,s),u.promise()}});var ge;K.fn.ready=function(e){return K.ready.promise().done(e),this},K.extend({isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){(e===!0?--K.readyWait:K.isReady)||(K.isReady=!0,e!==!0&&--K.readyWait>0||(ge.resolveWith(J,[K]),K.fn.triggerHandler&&(K(J).triggerHandler("ready"),K(J).off("ready"))))}}),K.ready.promise=function(t){return ge||(ge=K.Deferred(),"complete"===J.readyState?setTimeout(K.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ge.promise(t)},K.ready.promise();var me=K.access=function(e,t,n,r,i,s,a){var o=0,u=e.length,h=null==n;if("object"===K.type(n)){i=!0;for(o in n)K.access(e,t,o,n[o],!0,s,a)}else if(void 0!==r&&(i=!0,K.isFunction(r)||(a=!0),h&&(a?(t.call(e,r),t=null):(h=t,t=function(e,t,n){return h.call(K(e),n)})),t))for(;u>o;o++)t(e[o],n,a?r:r.call(e[o],o,t(e[o],n)));return i?e:h?t.call(e):u?t(e[0],n):s};K.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=K.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,K.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if("string"==typeof t)s[t]=n;else if(K.isEmptyObject(s))K.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,K.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),a=this.cache[s];if(void 0===t)this.cache[s]={};else{K.isArray(t)?r=t.concat(t.map(K.camelCase)):(i=K.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(fe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!K.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new o,_e=new o,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;K.extend({hasData:function(e){return _e.hasData(e)||ve.hasData(e)},data:function(e,t,n){return _e.access(e,t,n)},removeData:function(e,t){_e.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),K.fn.extend({data:function(e,t){var n,r,i,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(i=_e.get(s),1===s.nodeType&&!ve.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=K.camelCase(r.slice(5)),u(s,r,i[r])));ve.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){_e.set(this,e)}):me(this,function(t){var n,r=K.camelCase(e);if(s&&void 0===t){if(n=_e.get(s,e),void 0!==n)return n;if(n=_e.get(s,r),void 0!==n)return n;if(n=u(s,r,void 0),void 0!==n)return n}else this.each(function(){var n=_e.get(this,r);_e.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&_e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){_e.remove(this,e)})}}),K.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||K.isArray(n)?r=ve.access(e,t,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),s=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,a,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:K.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),K.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?K.queue(this[0],e):void 0===t?this:this.each(function(){var n=K.queue(this,e,t);K._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=K.Deferred(),s=this,a=this.length,o=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(s[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(o));return o(),i.promise(t)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";Z.focusinBubbles="onfocusin"in e;var Oe=/^key/,ke=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(e,t,n,r,i){var s,a,o,u,h,c,l,d,f,p,g,m=ve.get(e);if(m)for(n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=K.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof K!==Te&&K.event.triggered!==t.type?K.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],h=t.length;h--;)o=Pe.exec(t[h])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f&&(l=K.event.special[f]||{},f=(i?l.delegateType:l.bindType)||f,l=K.event.special[f]||{},c=K.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:p.join(".")},s),(d=u[f])||(d=u[f]=[],d.delegateCount=0,l.setup&&l.setup.call(e,r,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),l.add&&(l.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),K.event.global[f]=!0)},remove:function(e,t,n,r,i){var s,a,o,u,h,c,l,d,f,p,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(fe)||[""],h=t.length;h--;)if(o=Pe.exec(t[h])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f){for(l=K.event.special[f]||{},f=(r?l.delegateType:l.bindType)||f,d=u[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)c=d[s],!i&&g!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,l.remove&&l.remove.call(e,c));a&&!d.length&&(l.teardown&&l.teardown.call(e,p,m.handle)!==!1||K.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)K.event.remove(e,f+t[h],n,r,!0);K.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var s,a,o,u,h,c,l,d=[r||J],f=$.call(t,"type")?t.type:t,p=$.call(t,"namespace")?t.namespace.split("."):[];if(a=o=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Me.test(f+K.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),h=f.indexOf(":")<0&&"on"+f,t=t[K.expando]?t:new K.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:K.makeArray(n,[t]),l=K.event.special[f]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!K.isWindow(r)){for(u=l.delegateType||f,Me.test(u+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),o=a;o===(r.ownerDocument||J)&&d.push(o.defaultView||o.parentWindow||e)}for(s=0;(a=d[s++])&&!t.isPropagationStopped();)t.type=s>1?u:l.bindType||f,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=h&&a[h],c&&c.apply&&K.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||l._default&&l._default.apply(d.pop(),n)!==!1||!K.acceptData(r)||h&&K.isFunction(r[f])&&!K.isWindow(r)&&(o=r[h],o&&(r[h]=null),K.event.triggered=f,r[f](),K.event.triggered=void 0,o&&(r[h]=o)),t.result}},dispatch:function(e){e=K.event.fix(e);var t,n,r,i,s,a=[],o=W.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],h=K.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,e)!==!1){for(a=K.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((K.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,o),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,a=[],o=t.delegateCount,u=e.target;if(o&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;o>n;n++)s=t[n],i=s.selector+" ",void 0===r[i]&&(r[i]=s.needsContext?K(i,this).index(u)>=0:K.find(i,this,null,[u]).length),r[i]&&r.push(s);r.length&&a.push({elem:u,handlers:r})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r,i=e.type,s=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=ke.test(i)?this.mouseHooks:Oe.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new K.Event(s),t=r.length;t--;)n=r[t],e[n]=s[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return K.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:c):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(e,t)},K.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!K.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),Z.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),K.fn.extend({on:function(e,t,n,r,i){var s,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(s=r,r=function(e){return K().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=K.guid++)),this.each(function(){K.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,K(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){K.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?K.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Le=/<|&#?\w+;/,Ne=/<(?:script|style|link)/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,K.extend({clone:function(e,t,n){var r,i,s,a,o=e.cloneNode(!0),u=K.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(a=v(o),s=v(e),r=0,i=s.length;i>r;r++)_(s[r],a[r]);if(t)if(n)for(s=s||v(e),a=a||v(o),r=0,i=s.length;i>r;r++)m(s[r],a[r]);else m(e,o);return a=v(o,"script"),a.length>0&&g(a,!u&&v(e,"script")),o},buildFragment:function(e,t,n,r){for(var i,s,a,o,u,h,c=t.createDocumentFragment(),l=[],d=0,f=e.length;f>d;d++)if(i=e[d],i||0===i)if("object"===K.type(i))K.merge(l,i.nodeType?[i]:i);else if(Le.test(i)){for(s=s||c.appendChild(t.createElement("div")),a=(Ie.exec(i)||["",""])[1].toLowerCase(),o=Ue[a]||Ue._default,s.innerHTML=o[1]+i.replace(Ae,"<$1></$2>")+o[2],h=o[0];h--;)s=s.lastChild;K.merge(l,s.childNodes),s=c.firstChild,s.textContent=""}else l.push(t.createTextNode(i));for(c.textContent="",d=0;i=l[d++];)if((!r||-1===K.inArray(i,r))&&(u=K.contains(i.ownerDocument,i),s=v(c.appendChild(i),"script"),u&&g(s),n))for(h=0;i=s[h++];)je.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,s=K.event.special,a=0;void 0!==(n=e[a]);a++){if(K.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)s[r]?K.event.remove(n,r):K.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete _e.cache[n[_e.expando]]}}}),K.fn.extend({text:function(e){return me(this,function(e){return void 0===e?K.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?K.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||K.cleanData(v(n)),n.parentNode&&(t&&K.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(K.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Ue[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(K.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,K.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var n,r,i,s,a,o,u=0,h=this.length,c=this,l=h-1,d=e[0],g=K.isFunction(d);if(g||h>1&&"string"==typeof d&&!Z.checkClone&&Ee.test(d))return this.each(function(n){var r=c.eq(n);g&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(h&&(n=K.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=K.map(v(n,"script"),f),s=i.length;h>u;u++)a=n,u!==l&&(a=K.clone(a,!0,!0),s&&K.merge(i,v(a,"script"))),t.call(this[u],a,u);if(s)for(o=i[i.length-1].ownerDocument,K.map(i,p),u=0;s>u;u++)a=i[u],je.test(a.type||"")&&!ve.access(a,"globalEval")&&K.contains(o,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(De,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(e){for(var n,r=[],i=K(e),s=i.length-1,a=0;s>=a;a++)n=a===s?this:this.clone(!0),K(i[a])[t](n),G.apply(r,n.get());return this.pushStack(r)}});var Be,Fe={},ze=/^margin/,He=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),We=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(s);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(s)}var n,r,i=J.documentElement,s=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(a),e.getComputedStyle&&K.extend(Z,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(s),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(s),a.removeChild(n),t}}))}(),K.swap=function(e,t,n,r){var i,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=a[s];return i};var qe=/^(none|table(?!-c[ea]).+)/,Ge=new RegExp("^("+be+")(.*)$","i"),Ve=new RegExp("^([+-])=("+be+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},$e=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=b(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,a,o=K.camelCase(t),u=e.style;return t=K.cssProps[o]||(K.cssProps[o]=S(u,o)),a=K.cssHooks[t]||K.cssHooks[o],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(s=typeof n,"string"===s&&(i=Ve.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||K.cssNumber[o]||(n+="px"),Z.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,s,a,o=K.camelCase(t);return t=K.cssProps[o]||(K.cssProps[o]=S(e.style,o)),a=K.cssHooks[t]||K.cssHooks[o],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=b(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(s=parseFloat(i),n===!0||K.isNumeric(s)?s||0:i):i}}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){return n?qe.test(K.css(e,"display"))&&0===e.offsetWidth?K.swap(e,Xe,function(){return O(e,t,r)}):O(e,t,r):void 0},set:function(e,n,r){var i=r&&We(e);return C(e,n,r?T(e,t,r,"border-box"===K.css(e,"boxSizing",!1,i),i):0)}}}),K.cssHooks.marginRight=w(Z.reliableMarginRight,function(e,t){return t?K.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+we[r]+t]=s[r]||s[r-2]||s[0];return i}},ze.test(e)||(K.cssHooks[e+t].set=C)}),K.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,s={},a=0;if(K.isArray(t)){for(r=We(e),i=t.length;i>a;a++)s[t[a]]=K.css(e,t[a],!1,r);return s}return void 0!==n?K.style(e,t,n):K.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?K(this).show():K(this).hide()})}}),K.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(K.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.fx=M.prototype.init,K.fx.step={};var Ze,Je,Qe=/^(?:toggle|show|hide)$/,Ke=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[L],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ke.exec(t),s=i&&i[3]||(K.cssNumber[e]?"":"px"),a=(K.cssNumber[e]||"px"!==s&&+r)&&Ke.exec(K.css(n.elem,e)),o=1,u=20;if(a&&a[3]!==s){s=s||a[3],i=i||[],a=+r||1;do o=o||".5",a/=o,K.style(n.elem,e,a+s);while(o!==(o=n.cur()/r)&&1!==o&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=s,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(E,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),s=K.speed(t,n,r),a=function(){var t=E(this,K.extend({},e),s);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=K.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&K.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=K.timers,a=r?r.length:0;for(n.finish=!0,K.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),
t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),K.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.timers=[],K.fx.tick=function(){var e,t=0,n=K.timers;for(Ze=K.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||K.fx.stop(),Ze=void 0},K.fx.timer=function(e){K.timers.push(e),e()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Je||(Je=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Je),Je=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=n.selected,t.disabled=!0,Z.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var rt,it,st=K.expr.attrHandle;K.fn.extend({attr:function(e,t){return me(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})}}),K.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Te?K.prop(e,t,n):(1===s&&K.isXMLDoc(e)||(t=t.toLowerCase(),r=K.attrHooks[t]||(K.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=K.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void K.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(fe);if(s&&1===e.nodeType)for(;n=s[i++];)r=K.propFix[n]||n,K.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?K.removeAttr(e,n):e.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),function(e,t){var n=st[t]||K.find.attr;st[t]=function(e,t,r){var i,s;return r||(s=st[t],st[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,st[t]=s),i}});var at=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(e,t){return me(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[K.propFix[e]||e]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!K.isXMLDoc(e),s&&(t=K.propFix[t]||t,i=K.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(K.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var ot=/[\t\r\n\f]/g;K.fn.extend({addClass:function(e){var t,n,r,i,s,a,o="string"==typeof e&&e,u=0,h=this.length;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(fe)||[];h>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):" ")){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=K.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,s,a,o=0===arguments.length||"string"==typeof e&&e,u=0,h=this.length;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(fe)||[];h>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):"")){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?K.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(K.isFunction(e)?function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=K(this),s=e.match(fe)||[];t=s[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ot," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;K.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=K.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,K(this).val()):e,null==i?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,function(e){return null==e?"":e+""})),t=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(e){var t=K.find.attr(e,"value");return null!=t?t:K.trim(K.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,a=s?null:[],o=s?i+1:r.length,u=0>i?o:s?i:0;o>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&K.nodeName(n.parentNode,"optgroup"))){if(t=K(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,s=K.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=K.inArray(r.value,s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}},Z.checkOn||(K.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),K.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ht=K.now(),ct=/\?/;K.parseJSON=function(e){return JSON.parse(e+"")},K.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+e),t};var lt=/#.*$/,dt=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,_t={},yt={},xt="*/".concat("*"),bt=e.location.href,wt=vt.exec(bt.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt,type:"GET",isLocal:pt.test(wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,K.ajaxSettings),t):D(K.ajaxSettings,e)},ajaxPrefilter:j(_t),ajaxTransport:j(yt),ajax:function(e,t){function n(e,t,n,a){var u,c,v,_,x,w=t;2!==y&&(y=2,o&&clearTimeout(o),r=void 0,s=a||"",b.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(_=U(l,b,n)),_=B(l,_,b,u),u?(l.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(K.lastModified[i]=x),x=b.getResponseHeader("etag"),x&&(K.etag[i]=x)),204===e||"HEAD"===l.type?w="nocontent":304===e?w="notmodified":(w=_.state,c=_.data,v=_.error,u=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),b.status=e,b.statusText=(t||w)+"",u?p.resolveWith(d,[c,w,b]):p.rejectWith(d,[b,w,v]),b.statusCode(m),m=void 0,h&&f.trigger(u?"ajaxSuccess":"ajaxError",[b,l,u?c:v]),g.fireWith(d,[b,w]),h&&(f.trigger("ajaxComplete",[b,l]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,a,o,u,h,c,l=K.ajaxSetup({},t),d=l.context||l,f=l.context&&(d.nodeType||d.jquery)?K(d):K.event,p=K.Deferred(),g=K.Callbacks("once memory"),m=l.statusCode||{},v={},_={},y=0,x="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=ft.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=_[n]=_[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),n(0,t),this}};if(p.promise(b).complete=g.add,b.success=b.done,b.error=b.fail,l.url=((e||l.url||bt)+"").replace(lt,"").replace(mt,wt[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=K.trim(l.dataType||"*").toLowerCase().match(fe)||[""],null==l.crossDomain&&(u=vt.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===wt[1]&&u[2]===wt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(wt[3]||("http:"===wt[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=K.param(l.data,l.traditional)),R(_t,l,t,b),2===y)return b;h=K.event&&l.global,h&&0===K.active++&&K.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!gt.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(ct.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=dt.test(i)?i.replace(dt,"$1_="+ht++):i+(ct.test(i)?"&":"?")+"_="+ht++)),l.ifModified&&(K.lastModified[i]&&b.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&b.setRequestHeader("If-None-Match",K.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",l.contentType),b.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+xt+"; q=0.01":""):l.accepts["*"]);for(c in l.headers)b.setRequestHeader(c,l.headers[c]);if(l.beforeSend&&(l.beforeSend.call(d,b,l)===!1||2===y))return b.abort();x="abort";for(c in{success:1,error:1,complete:1})b[c](l[c]);if(r=R(yt,l,t,b)){b.readyState=1,h&&f.trigger("ajaxSend",[b,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){b.abort("timeout")},l.timeout));try{y=1,r.send(v,n)}catch(w){if(!(2>y))throw w;n(-1,w)}}else n(-1,"No Transport");return b},getJSON:function(e,t,n){return K.get(e,t,n,"json")},getScript:function(e,t){return K.get(e,void 0,t,"script")}}),K.each(["get","post"],function(e,t){K[t]=function(e,n,r,i){return K.isFunction(n)&&(i=i||r,r=n,n=void 0),K.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),K._evalUrl=function(e){return K.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(e){var t;return K.isFunction(e)?this.each(function(t){K(this).wrapAll(e.call(this,t))}):(this[0]&&(t=K(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(K.isFunction(e)?function(t){K(this).wrapInner(e.call(this,t))}:function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)};var St=/%20/g,Ct=/\[\]$/,Tt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;K.param=function(e,t){var n,r=[],i=function(e,t){t=K.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){i(this.name,this.value)});else for(n in e)F(n,e[n],t,i);return r.join("&").replace(St,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=K.prop(this,"elements");return e?K.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!K(this).is(":disabled")&&kt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mt=0,Pt={},At={0:200,1223:204},It=K.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Pt)Pt[e]()}),Z.cors=!!It&&"withCredentials"in It,Z.ajax=It=!!It,K.ajaxTransport(function(e){var t;return Z.cors||It&&!e.crossDomain?{send:function(n,r){var i,s=e.xhr(),a=++Mt;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Pt[a],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status,s.statusText):r(At[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Pt[a]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(o){if(t)throw o}},abort:function(){t&&t()}}:void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),K.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=K("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Lt=[],Nt=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||K.expando+"_"+ht++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,a,o=t.jsonp!==!1&&(Nt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=K.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Nt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||K.error(i+" was not called"),a[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,Lt.push(i)),a&&K.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),K.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=K.buildFragment([e],t,i),i&&i.length&&K(i).remove(),K.merge([],r.childNodes))};var Et=K.fn.load;K.fn.load=function(e,t,n){if("string"!=typeof e&&Et)return Et.apply(this,arguments);var r,i,s,a=this,o=e.indexOf(" ");return o>=0&&(r=K.trim(e.slice(o)),e=e.slice(0,o)),K.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&K.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,a.html(r?K("<div>").append(K.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,s||[e.responseText,t,e])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length};var jt=e.document.documentElement;K.offset={setOffset:function(e,t,n){var r,i,s,a,o,u,h,c=K.css(e,"position"),l=K(e),d={};"static"===c&&(e.style.position="relative"),o=l.offset(),s=K.css(e,"top"),u=K.css(e,"left"),h=("absolute"===c||"fixed"===c)&&(s+u).indexOf("auto")>-1,h?(r=l.position(),a=r.top,i=r.left):(a=parseFloat(s)||0,i=parseFloat(u)||0),K.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+a),null!=t.left&&(d.left=t.left-o.left+i),"using"in t?t.using.call(e,d):l.css(d)}},K.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){K.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(s)return t=s.documentElement,K.contains(t,r)?(typeof r.getBoundingClientRect!==Te&&(i=r.getBoundingClientRect()),n=z(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===K.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),K.nodeName(e[0],"html")||(r=e.offset()),r.top+=K.css(e[0],"borderTopWidth",!0),r.left+=K.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-K.css(n,"marginTop",!0),left:t.left-r.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||jt;e&&!K.nodeName(e,"html")&&"static"===K.css(e,"position");)e=e.offsetParent;return e||jt})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;K.fn[t]=function(i){return me(this,function(t,i,s){var a=z(t);return void 0===s?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:s,r?s:e.pageYOffset):t[i]=s)},t,i,arguments.length,null)}}),K.each(["top","left"],function(e,t){K.cssHooks[t]=w(Z.pixelPosition,function(e,n){return n?(n=b(e,t),He.test(n)?K(e).position()[t]+"px":n):void 0})}),K.each({Height:"height",Width:"width"},function(e,t){K.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){K.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return K.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?K.css(t,n,a):K.style(t,n,r,a)},t,s?r:void 0,s,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var Rt=e.jQuery,Dt=e.$;return K.noConflict=function(t){return e.$===K&&(e.$=Dt),t&&e.jQuery===K&&(e.jQuery=Rt),K},typeof t===Te&&(e.jQuery=e.$=K),K}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.prototypo=e()}}(function(){var e;return function t(e,n,r){function i(a,o){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=function(){this.nodes={}};r.prototype.add=function(e,t){t?t instanceof Array||(t=[t]):t=[],this.nodes[e]=t},r.prototype.resolveNode=function(e,t,n){var r=this;t=t||[],n=n||{};var i=this.nodes[e]||[];return n[e]=!0,i.forEach(function(e){if(-1==t.indexOf(e)){if(n[e])throw new Error("Circular dependency: "+e);r.resolveNode(e,t,n)}}),-1==t.indexOf(e)&&(n[e]=!1,t.push(e)),t},r.prototype.resolve=function(){var e=[];for(var t in this.nodes)this.resolveNode(t,e);return e},t.exports=r},{}],2:[function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var s=Object.keys(Object(i)),a=0,o=s.length;o>a;a++){var u=s[a],h=Object.getOwnPropertyDescriptor(i,u);void 0!==h&&h.enumerable&&(n[u]=i[u])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}t.exports={assign:r,polyfill:i}},{}],3:[function(e,t,n){function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=r},{}],4:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=r},{}],5:[function(e,t,n){function r(e,t){return null==t?e:i(t,s(t),e)}var i=e("./baseCopy"),s=e("../object/keys");t.exports=r},{"../object/keys":32,"./baseCopy":7}],6:[function(e,t,n){function r(e,t,n,p,g,m,v){var y;if(n&&(y=g?n(e,p,g):n(e)),void 0!==y)return y;if(!d(e))return e;var x=l(e);if(x){if(y=u(e),!t)return i(e,y)}else{var w=U.call(e),S=w==_;if(w!=b&&w!=f&&(!S||g))return R[w]?h(e,w,t):g?e:{};if(y=c(S?{}:e),!t)return a(y,e)}m||(m=[]),v||(v=[]);for(var C=m.length;C--;)if(m[C]==e)return v[C];return m.push(e),v.push(y),(x?s:o)(e,function(i,s){y[s]=r(i,t,n,s,e,m,v)}),y}var i=e("./arrayCopy"),s=e("./arrayEach"),a=e("./baseAssign"),o=e("./baseForOwn"),u=e("./initCloneArray"),h=e("./initCloneByTag"),c=e("./initCloneObject"),l=e("../lang/isArray"),d=e("../lang/isObject"),f="[object Arguments]",p="[object Array]",g="[object Boolean]",m="[object Date]",v="[object Error]",_="[object Function]",y="[object Map]",x="[object Number]",b="[object Object]",w="[object RegExp]",S="[object Set]",C="[object String]",T="[object WeakMap]",O="[object ArrayBuffer]",k="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",A="[object Int16Array]",I="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",j="[object Uint32Array]",R={};R[f]=R[p]=R[O]=R[g]=R[m]=R[k]=R[M]=R[P]=R[A]=R[I]=R[x]=R[b]=R[w]=R[C]=R[L]=R[N]=R[E]=R[j]=!0,R[v]=R[_]=R[y]=R[S]=R[T]=!1;var D=Object.prototype,U=D.toString;t.exports=r},{"../lang/isArray":28,"../lang/isObject":31,"./arrayCopy":3,"./arrayEach":4,"./baseAssign":5,"./baseForOwn":9,"./initCloneArray":16,"./initCloneByTag":17,"./initCloneObject":18}],7:[function(e,t,n){function r(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var s=t[r];n[s]=e[s]}return n}t.exports=r},{}],8:[function(e,t,n){var r=e("./createBaseFor"),i=r();t.exports=i},{"./createBaseFor":13}],9:[function(e,t,n){function r(e,t){return i(e,t,s)}var i=e("./baseFor"),s=e("../object/keys");t.exports=r},{"../object/keys":32,"./baseFor":8}],10:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],11:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)};case 5:return function(n,r,i,s,a){return e.call(t,n,r,i,s,a)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=r},{"../utility/identity":34}],12:[function(e,t,n){(function(e){function n(e){var t=new r(e.byteLength),n=new i(t);return n.set(new i(e)),t}var r=e.ArrayBuffer,i=e.Uint8Array;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){function r(e){return function(t,n,r){for(var s=i(t),a=r(t),o=a.length,u=e?o:-1;e?u--:++u<o;){var h=a[u];if(n(s[h],h,s)===!1)break}return t}}var i=e("./toObject");t.exports=r},{"./toObject":25}],14:[function(e,t,n){var r=e("./baseProperty"),i=r("length");t.exports=i},{"./baseProperty":10}],15:[function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=e("../lang/isNative");t.exports=r},{"../lang/isNative":30}],16:[function(e,t,n){function r(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&s.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var i=Object.prototype,s=i.hasOwnProperty;t.exports=r},{}],17:[function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case c:return i(e);case s:case a:return new r(+e);case l:case d:case f:case p:case g:case m:case v:case _:case y:var b=e.buffer;return new r(n?i(b):b,e.byteOffset,e.length);case o:case h:return new r(e);case u:var w=new r(e.source,x.exec(e));w.lastIndex=e.lastIndex}return w}var i=e("./bufferClone"),s="[object Boolean]",a="[object Date]",o="[object Number]",u="[object RegExp]",h="[object String]",c="[object ArrayBuffer]",l="[object Float32Array]",d="[object Float64Array]",f="[object Int8Array]",p="[object Int16Array]",g="[object Int32Array]",m="[object Uint8Array]",v="[object Uint8ClampedArray]",_="[object Uint16Array]",y="[object Uint32Array]",x=/\w*$/;t.exports=r},{"./bufferClone":12}],18:[function(e,t,n){function r(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=r},{}],19:[function(e,t,n){function r(e){return null!=e&&s(i(e))}var i=e("./getLength"),s=e("./isLength");t.exports=r},{"./getLength":14,"./isLength":22}],20:[function(e,t,n){function r(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?s:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,s=9007199254740991;t.exports=r},{}],21:[function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&s(t,n.length):"string"==r&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}var i=e("./isArrayLike"),s=e("./isIndex"),a=e("../lang/isObject");t.exports=r},{"../lang/isObject":31,"./isArrayLike":19,"./isIndex":20}],22:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=r},{}],23:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}t.exports=r},{}],24:[function(e,t,n){function r(e){for(var t=u(e),n=t.length,r=n&&e.length,h=!!r&&o(r)&&(s(e)||i(e)),l=-1,d=[];++l<n;){var f=t[l];(h&&a(f,r)||c.call(e,f))&&d.push(f)}return d}var i=e("../lang/isArguments"),s=e("../lang/isArray"),a=e("./isIndex"),o=e("./isLength"),u=e("../object/keysIn"),h=Object.prototype,c=h.hasOwnProperty;t.exports=r},{"../lang/isArguments":27,"../lang/isArray":28,"../object/keysIn":33,"./isIndex":20,"./isLength":22}],25:[function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=e("../lang/isObject");t.exports=r},{"../lang/isObject":31}],26:[function(e,t,n){function r(e,t,n,r){return t&&"boolean"!=typeof t&&a(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?i(e,t,s(n,r,1)):i(e,t)}var i=e("../internal/baseClone"),s=e("../internal/bindCallback"),a=e("../internal/isIterateeCall");t.exports=r},{"../internal/baseClone":6,"../internal/bindCallback":11,"../internal/isIterateeCall":21}],27:[function(e,t,n){function r(e){return s(e)&&i(e)&&o.call(e,"callee")&&!u.call(e,"callee")}var i=e("../internal/isArrayLike"),s=e("../internal/isObjectLike"),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable;t.exports=r},{"../internal/isArrayLike":19,"../internal/isObjectLike":23}],28:[function(e,t,n){var r=e("../internal/getNative"),i=e("../internal/isLength"),s=e("../internal/isObjectLike"),a="[object Array]",o=Object.prototype,u=o.toString,h=r(Array,"isArray"),c=h||function(e){return s(e)&&i(e.length)&&u.call(e)==a};t.exports=c},{"../internal/getNative":15,"../internal/isLength":22,"../internal/isObjectLike":23}],29:[function(e,t,n){function r(e){return i(e)&&o.call(e)==s}var i=e("./isObject"),s="[object Function]",a=Object.prototype,o=a.toString;t.exports=r},{"./isObject":31}],30:[function(e,t,n){function r(e){return null==e?!1:i(e)?c.test(u.call(e)):s(e)&&a.test(e)}var i=e("./isFunction"),s=e("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,o=Object.prototype,u=Function.prototype.toString,h=o.hasOwnProperty,c=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{"../internal/isObjectLike":23,"./isFunction":29}],31:[function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=r},{}],32:[function(e,t,n){var r=e("../internal/getNative"),i=e("../internal/isArrayLike"),s=e("../lang/isObject"),a=e("../internal/shimKeys"),o=r(Object,"keys"),u=o?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):s(e)?o(e):[]}:a;t.exports=u},{"../internal/getNative":15,"../internal/isArrayLike":19,"../internal/shimKeys":24,"../lang/isObject":31}],33:[function(e,t,n){function r(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(s(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,h="function"==typeof n&&n.prototype===e,l=Array(t),d=t>0;++r<t;)l[r]=r+"";for(var f in e)d&&a(f,t)||"constructor"==f&&(h||!c.call(e,f))||l.push(f);return l}var i=e("../lang/isArguments"),s=e("../lang/isArray"),a=e("../internal/isIndex"),o=e("../internal/isLength"),u=e("../lang/isObject"),h=Object.prototype,c=h.hasOwnProperty;t.exports=r},{"../internal/isIndex":20,"../internal/isLength":22,"../lang/isArguments":27,"../lang/isArray":28,"../lang/isObject":31}],34:[function(e,t,n){function r(e){return e}t.exports=r},{}],35:[function(t,n,r){!function(t){if("object"==typeof r&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.plumin=t()}}(function(){var e;return function n(e,r,i){function s(o,u){if(!r[o]){if(!e[o]){var h="function"==typeof t&&t;if(!u&&h)return h(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return s(n?n:t)},l,l.exports,n,e,r,i)}return r[o].exports}for(var a="function"==typeof t&&t,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,n,r){!function(t){if("object"==typeof r&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.opentype=t()}}(function(){return function e(n,r,i){function s(o,u){if(!r[o]){if(!n[o]){var h="function"==typeof t&&t;if(!u&&h)return h(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}
};n[o][0].call(l.exports,function(e){var t=n[o][1][e];return s(t?t:e)},l,l.exports,e,n,r,i)}return r[o].exports}for(var a="function"==typeof t&&t,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){"use strict";n.argument=function(e,t){if(!e)throw new Error(t)},n.assert=n.argument},{}],2:[function(e,t,n){"use strict";function r(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}n.line=r},{}],3:[function(e,t,n){"use strict";function r(e){this.font=e}function i(e){this.cmap=e}function s(e,t){this.encoding=e,this.charset=t}function a(e){var t;switch(e.version){case 1:this.names=n.standardNames.slice();break;case 2:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=e.glyphNameIndex[t]<n.standardNames.length?n.standardNames[e.glyphNameIndex[t]]:e.names[e.glyphNameIndex[t]-n.standardNames.length];break;case 2.5:for(this.names=new Array(e.numberOfGlyphs),t=0;t<e.numberOfGlyphs;t++)this.names[t]=n.standardNames[t+e.glyphNameIndex[t]];break;case 3:this.names=[]}}function o(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var s=r[i],a=n[s];t=e.glyphs[a],t.addUnicode(parseInt(s))}for(i=0;i<e.glyphs.length;i+=1)t=e.glyphs[i],t.name=e.cffEncoding?e.cffEncoding.charset[i]:e.glyphNames.glyphIndexToName(i)}var u=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],h=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],l=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];r.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.font.glyphs;if(!n)return null;for(var r=0;r<n.length;r+=1)for(var i=n[r],s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===t)return r},i.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.charCodeAt(0)]||0},s.prototype.charToGlyphIndex=function(e){var t=e.charCodeAt(0),n=this.encoding[t];return this.charset.indexOf(n)},a.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},a.prototype.glyphIndexToName=function(e){return this.names[e]},n.cffStandardStrings=u,n.cffStandardEncoding=h,n.cffExpertEncoding=c,n.standardNames=l,n.DefaultEncoding=r,n.CmapEncoding=i,n.CffEncoding=s,n.GlyphNames=a,n.addGlyphNames=o},{}],4:[function(e,t,n){"use strict";function r(e){e=e||{},this.familyName=e.familyName||" ",this.styleName=e.styleName||" ",this.designer=e.designer||" ",this.designerURL=e.designerURL||" ",this.manufacturer=e.manufacturer||" ",this.manufacturerURL=e.manufacturerURL||" ",this.license=e.license||" ",this.licenseURL=e.licenseURL||" ",this.version=e.version||"Version 0.1",this.description=e.description||" ",this.copyright=e.copyright||" ",this.trademark=e.trademark||" ",this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.supported=!0,this.glyphs=e.glyphs||[],this.encoding=new a.DefaultEncoding(this),this.tables={}}var i=e("./path"),s=e("./tables/sfnt"),a=e("./encoding");r.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},r.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},r.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs[t];return n||(n=this.glyphs[0]),n},r.prototype.stringToGlyphs=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];t.push(this.charToGlyph(r))}return t},r.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},r.prototype.nameToGlyph=function(e){var t=this.nametoGlyphIndex(e),n=this.glyphs[t];return n||(n=this.glyphs[0]),n},r.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},r.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.getGposKerningValue;return n?n(e,t):this.kerningPairs[e+","+t]||0},r.prototype.forEachGlyph=function(e,t,n,r,i,s){if(this.supported){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=i||{};for(var a=void 0===i.kerning?!0:i.kerning,o=1/this.unitsPerEm*r,u=this.stringToGlyphs(e),h=0;h<u.length;h+=1){var c=u[h];if(s(c,t,n,r,i),c.advanceWidth&&(t+=c.advanceWidth*o),a&&h<u.length-1){var l=this.getKerningValue(c,u[h+1]);t+=l*o}}}},r.prototype.getPath=function(e,t,n,r,s){var a=new i.Path;return this.forEachGlyph(e,t,n,r,s,function(e,t,n,r){var i=e.getPath(t,n,r);a.extend(i)}),a},r.prototype.draw=function(e,t,n,r,i,s){this.getPath(t,n,r,i,s).draw(e)},r.prototype.drawPoints=function(e,t,n,r,i,s){this.forEachGlyph(t,n,r,i,s,function(t,n,r,i){t.drawPoints(e,n,r,i)})},r.prototype.drawMetrics=function(e,t,n,r,i,s){this.forEachGlyph(t,n,r,i,s,function(t,n,r,i){t.drawMetrics(e,n,r,i)})},r.prototype.validate=function(){function e(e,t){e||n.push(t)}function t(t){e(r[t]&&r[t].trim().length>0,"No "+t+" specified.")}var n=[],r=this;t("familyName"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},r.prototype.toTables=function(){return s.fontToTable(this)},r.prototype.toBuffer=function(){for(var e=this.toTables(),t=e.encode(),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t[i];return n},r.prototype.download=function(){var e=this.familyName.replace(/\s/g,"")+"-"+this.styleName+".otf",t=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,t.byteLength,function(n){n.root.getFile(e,{create:!0},function(e){e.createWriter(function(n){var r=new DataView(t),i=new Blob([r],{type:"font/opentype"});n.write(i),n.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw e})},n.Font=r},{"./encoding":3,"./path":8,"./tables/sfnt":23}],5:[function(e,t,n){"use strict";function r(e){this.font=e.font||null,this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],this.xMin=e.xMin||0,this.yMin=e.yMin||0,this.xMax=e.xMax||0,this.yMax=e.yMax||0,this.advanceWidth=e.advanceWidth||0,this.path=e.path||null}var i=e("./check"),s=e("./draw"),a=e("./path");r.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},r.prototype.getPath=function(e,t,n){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;for(var r=1/this.font.unitsPerEm*n,i=new a.Path,s=this.path.commands,o=0;o<s.length;o+=1){var u=s[o];"M"===u.type?i.moveTo(e+u.x*r,t+-u.y*r):"L"===u.type?i.lineTo(e+u.x*r,t+-u.y*r):"Q"===u.type?i.quadraticCurveTo(e+u.x1*r,t+-u.y1*r,e+u.x*r,t+-u.y*r):"C"===u.type?i.curveTo(e+u.x1*r,t+-u.y1*r,e+u.x2*r,t+-u.y2*r,e+u.x*r,t+-u.y*r):"Z"===u.type&&i.closePath()}return i},r.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return i.argument(0===t.length,"There are still points left in the current contour."),e},r.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),("Q"===i.type||"C"===i.type)&&(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var s={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:0};return s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s},r.prototype.draw=function(e,t,n,r){this.getPath(t,n,r).draw(e)},r.prototype.drawPoints=function(e,t,n,r){function i(t,n,r,i){var s=2*Math.PI;e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(n+t[a].x*i,r+t[a].y*i),e.arc(n+t[a].x*i,r+t[a].y*i,2,0,s,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var s=1/this.font.unitsPerEm*r,a=[],o=[],u=this.path,h=0;h<u.commands.length;h+=1){var c=u.commands[h];void 0!==c.x&&a.push({x:c.x,y:-c.y}),void 0!==c.x1&&o.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&o.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(a,t,n,s),e.fillStyle="red",i(o,t,n,s)},r.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24,i=1/this.font.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",s.line(e,t,-1e4,t,1e4),s.line(e,-1e4,n,1e4,n),e.strokeStyle="blue",s.line(e,t+this.xMin*i,-1e4,t+this.xMin*i,1e4),s.line(e,t+this.xMax*i,-1e4,t+this.xMax*i,1e4),s.line(e,-1e4,n+-this.yMin*i,1e4,n+-this.yMin*i),s.line(e,-1e4,n+-this.yMax*i,1e4,n+-this.yMax*i),e.strokeStyle="green",s.line(e,t+this.advanceWidth*i,-1e4,t+this.advanceWidth*i,1e4)},n.Glyph=r},{"./check":1,"./draw":2,"./path":8}],6:[function(e,t,n){"use strict";function r(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r+=1)n[r]=e[r];return t}function i(t,n){var i=e("fs");i.readFile(t,function(e,t){return e?n(e.message):void n(null,r(t))})}function s(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return 200!==n.status?t("Font could not be loaded: "+n.statusText):t(null,n.response)},n.send()}function a(e){var t,n,r,i,s,a,o,c=new h.Font,d=new DataView(e,0),O=l.getFixed(d,0);if(1===O)c.outlinesFormat="truetype";else{if(O=l.getTag(d,0),"OTTO"!==O)throw new Error("Unsupported OpenType version "+O);c.outlinesFormat="cff"}for(var k=l.getUShort(d,4),M=12,P=0;k>P;P+=1){var A=l.getTag(d,M),I=l.getULong(d,M+8);switch(A){case"cmap":c.tables.cmap=f.parse(d,I),c.encoding=new u.CmapEncoding(c.tables.cmap),c.encoding||(c.supported=!1);break;case"head":c.tables.head=v.parse(d,I),c.unitsPerEm=c.tables.head.unitsPerEm,t=c.tables.head.indexToLocFormat;break;case"hhea":c.tables.hhea=_.parse(d,I),c.ascender=c.tables.hhea.ascender,c.descender=c.tables.hhea.descender,c.numberOfHMetrics=c.tables.hhea.numberOfHMetrics;break;case"hmtx":n=I;break;case"maxp":c.tables.maxp=w.parse(d,I),c.numGlyphs=c.tables.maxp.numGlyphs;break;case"name":c.tables.name=S.parse(d,I),c.familyName=c.tables.name.fontFamily,c.styleName=c.tables.name.fontSubfamily;break;case"OS/2":c.tables.os2=C.parse(d,I);break;case"post":c.tables.post=T.parse(d,I),c.glyphNames=new u.GlyphNames(c.tables.post);break;case"glyf":r=I;break;case"loca":i=I;break;case"CFF ":s=I;break;case"kern":a=I;break;case"GPOS":o=I}M+=16}if(r&&i){var L=0===t,N=b.parse(d,i,c.numGlyphs,L);c.glyphs=g.parse(d,r,N,c),y.parse(d,n,c.numberOfHMetrics,c.numGlyphs,c.glyphs),u.addGlyphNames(c)}else s?(p.parse(d,s,c),u.addGlyphNames(c)):c.supported=!1;return c.supported&&(c.kerningPairs=a?x.parse(d,a):{},o&&m.parse(d,o,c)),c}function o(e,t){var n="undefined"==typeof window,r=n?i:s;r(e,function(e,n){if(e)return t(e);var r=a(n);return r.supported?t(null,r):t("Font is not supported (is this a Postscript font?)")})}var u=e("./encoding"),h=e("./font"),c=e("./glyph"),l=e("./parse"),d=e("./path"),f=e("./tables/cmap"),p=e("./tables/cff"),g=e("./tables/glyf"),m=e("./tables/gpos"),v=e("./tables/head"),_=e("./tables/hhea"),y=e("./tables/hmtx"),x=e("./tables/kern"),b=e("./tables/loca"),w=e("./tables/maxp"),S=e("./tables/name"),C=e("./tables/os2"),T=e("./tables/post");n._parse=l,n.Font=h.Font,n.Glyph=c.Glyph,n.Path=d.Path,n.parse=a,n.load=o},{"./encoding":3,"./font":4,"./glyph":5,"./parse":7,"./path":8,"./tables/cff":10,"./tables/cmap":11,"./tables/glyf":12,"./tables/gpos":13,"./tables/head":14,"./tables/hhea":15,"./tables/hmtx":16,"./tables/kern":17,"./tables/loca":18,"./tables/maxp":19,"./tables/name":20,"./tables/os2":21,"./tables/post":22,fs:void 0}],7:[function(e,t,n){"use strict";function r(e,t){this.data=e,this.offset=t,this.relativeOffset=0}n.getByte=function(e,t){return e.getUint8(t)},n.getCard8=n.getByte,n.getUShort=function(e,t){return e.getUint16(t,!1)},n.getCard16=n.getUShort,n.getShort=function(e,t){return e.getInt16(t,!1)},n.getULong=function(e,t){return e.getUint32(t,!1)},n.getFixed=function(e,t){var n=e.getInt16(t,!1),r=e.getUint16(t+2,!1);return n+r/65535},n.getTag=function(e,t){for(var n="",r=t;t+4>r;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},n.getOffset=function(e,t,n){for(var r=0,i=0;n>i;i+=1)r<<=8,r+=e.getUint8(t+i);return r},n.getBytes=function(e,t,n){for(var r=[],i=t;n>i;i+=1)r.push(e.getUint8(i));return r},n.bytesToString=function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t};var i={"byte":1,uShort:2,"short":2,uLong:4,fixed:4,longDateTime:8,tag:4};r.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},r.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},r.prototype.parseCard8=r.prototype.parseByte,r.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},r.prototype.parseCard16=r.prototype.parseUShort,r.prototype.parseSID=r.prototype.parseUShort,r.prototype.parseOffset16=r.prototype.parseUShort,r.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},r.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},r.prototype.parseULong=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},r.prototype.parseFixed=function(){var e=n.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},r.prototype.parseOffset16List=r.prototype.parseUShortList=function(e){for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,s=0;e>s;s++)t[s]=n.getUShort(r,i),i+=2;return this.relativeOffset+=2*e,t},r.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;e>i;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},r.prototype.parseTag=function(){return this.parseString(4)},r.prototype.parseLongDateTime=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,e},r.prototype.parseFixed=function(){var e=n.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e/65536},r.prototype.parseVersion=function(){var e=n.getUShort(this.data,this.offset+this.relativeOffset),t=n.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e+t/4096/10},r.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=i[e]*t},n.Parser=r},{}],8:[function(e,t,n){"use strict";function r(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}r.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},r.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},r.prototype.curveTo=r.prototype.bezierCurveTo=function(e,t,n,r,i,s){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:s})},r.prototype.quadTo=r.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},r.prototype.close=r.prototype.closePath=function(){this.commands.push({type:"Z"})},r.prototype.extend=function(e){e.commands&&(e=e.commands),Array.prototype.push.apply(this.commands,e)},r.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},r.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e="",n=0;n<arguments.length;n+=1){var r=arguments[n];r>=0&&n>0&&(e+=" "),e+=t(r)}return e}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];"M"===s.type?r+="M"+n(s.x,s.y):"L"===s.type?r+="L"+n(s.x,s.y):"C"===s.type?r+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):"Q"===s.type?r+="Q"+n(s.x1,s.y1,s.x,s.y):"Z"===s.type&&(r+="Z")}return r},r.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},n.Path=r},{}],9:[function(e,t,n){"use strict";function r(e,t,n){var r;for(r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n){var s=Object.keys(n);for(r=0;r<s.length;r+=1){var a=s[r],o=n[a];void 0!==this[a]&&(this[a]=o)}}}var i=e("./check"),s=e("./types").encode,a=e("./types").sizeOf;r.prototype.sizeOf=function(){for(var e=0,t=0;t<this.fields.length;t+=1){var n=this.fields[t],r=this[n.name];if(void 0===r&&(r=n.value),"function"==typeof r.sizeOf)e+=r.sizeOf();else{var s=a[n.type];i.assert("function"==typeof s,"Could not find sizeOf function for field"+n.name),e+=s(r)}}return e},r.prototype.encode=function(){return s.TABLE(this)},n.Table=r},{"./check":1,"./types":24}],10:[function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!r(e[n],t[n]))return!1;return!0}return!1}function i(e,t,n){var r,i,s,a=[],o=[],u=j.getCard16(e,t);if(0!==u){var h=j.getByte(e,t+2);i=t+(u+1)*h+2;var c=t+3;for(r=0;u+1>r;r+=1)a.push(j.getOffset(e,c,h)),c+=h;s=i+a[u]}else s=t+2;for(r=0;r<a.length-1;r+=1){var l=j.getBytes(e,i+a[r],i+a[r+1]);n&&(l=n(l)),o.push(l)}return{objects:o,startOffset:t,endOffset:s}}function s(e){for(var t="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),s=i>>4,a=15&i;if(s===n)break;if(t+=r[s],a===n)break;t+=r[a]}return parseFloat(t)}function a(e,t){var n,r,i,a;if(28===t)return n=e.parseByte(),r=e.parseByte(),n<<8|r;if(29===t)return n=e.parseByte(),r=e.parseByte(),i=e.parseByte(),a=e.parseByte(),n<<24|r<<16|i<<8|a;if(30===t)return s(e);if(t>=32&&246>=t)return t-139;if(t>=247&&250>=t)return n=e.parseByte(),256*(t-247)+n+108;if(t>=251&&254>=t)return n=e.parseByte(),256*-(t-251)-n-108;throw new Error("Invalid b0 "+t)}function o(e){for(var t={},n=0;n<e.length;n+=1){var r,i=e[n][0],s=e[n][1];if(r=1===s.length?s[0]:s,t.hasOwnProperty(i))throw new Error("Object "+t+" already has key "+i);t[i]=r}return t}function u(e,t,n){t=void 0!==t?t:0;var r=new j.Parser(e,t),i=[],s=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var u=r.parseByte();21>=u?(12===u&&(u=1200+r.parseByte()),i.push([u,s]),s=[]):s.push(a(r,u))}return o(i)}function h(e,t){return t=390>=t?N.cffStandardStrings[t]:e[t-391]}function c(e,t,n){for(var r={},i=0;i<t.length;i+=1){var s=t[i],a=e[s.op];void 0===a&&(a=void 0!==s.value?s.value:null),"SID"===s.type&&(a=h(n,a)),r[s.name]=a}return r}function l(e,t){var n={};return n.formatMajor=j.getCard8(e,t),n.formatMinor=j.getCard8(e,t+1),n.size=j.getCard8(e,t+2),n.offsetSize=j.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}function d(e,t){var n=u(e,0,e.byteLength);return c(n,U,t)}function f(e,t,n,r){var i=u(e,t,n);return c(i,B,r)}function p(e,t,n,r){var i,s,a,o=new j.Parser(e,t);n-=1;var u=[".notdef"],c=o.parseCard8();if(0===c)for(i=0;n>i;i+=1)s=o.parseSID(),u.push(h(r,s));else if(1===c)for(;u.length<=n;)for(s=o.parseSID(),a=o.parseCard8(),i=0;a>=i;i+=1)u.push(h(r,s)),s+=1;else{if(2!==c)throw new Error("Unknown charset format "+c);for(;u.length<=n;)for(s=o.parseSID(),a=o.parseCard16(),i=0;a>=i;i+=1)u.push(h(r,s)),s+=1}return u}function g(e,t,n){var r,i,s={},a=new j.Parser(e,t),o=a.parseCard8();if(0===o){var u=a.parseCard8();for(r=0;u>r;r+=1)i=a.parseCard8(),s[i]=r}else{if(1!==o)throw new Error("Unknown encoding format "+o);var h=a.parseCard8();for(i=1,r=0;h>r;r+=1)for(var c=a.parseCard8(),l=a.parseCard8(),d=c;c+l>=d;d+=1)s[d]=i,i+=1}return new N.CffEncoding(s,n)}function m(e,t,n){function r(e,t){g&&c.closePath(),c.moveTo(e,t),g=!0}function i(){var e;e=l.length%2!==0,e&&!f&&(p=l.shift()+t.nominalWidthX),d+=l.length>>1,l.length=0,f=!0}function s(e){for(var _,y,x,b,w,S,C,T,O,k,M,P,A=0;A<e.length;){var I=e[A];switch(A+=1,I){case 1:i();break;case 3:i();break;case 4:l.length>1&&!f&&(p=l.shift()+t.nominalWidthX,f=!0),v+=l.pop(),r(m,v);break;case 5:for(;l.length>0;)m+=l.shift(),v+=l.shift(),c.lineTo(m,v);break;case 6:for(;l.length>0&&(m+=l.shift(),c.lineTo(m,v),0!==l.length);)v+=l.shift(),c.lineTo(m,v);break;case 7:for(;l.length>0&&(v+=l.shift(),c.lineTo(m,v),0!==l.length);)m+=l.shift(),c.lineTo(m,v);break;case 8:for(;l.length>0;)a=m+l.shift(),o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),m=u+l.shift(),v=h+l.shift(),c.curveTo(a,o,u,h,m,v);break;case 10:w=l.pop()+t.subrsBias,S=t.subrs[w],S&&s(S);break;case 11:return;case 12:switch(I=e[A],A+=1,I){case 35:a=m+l.shift(),o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),C=u+l.shift(),T=h+l.shift(),O=C+l.shift(),k=T+l.shift(),M=O+l.shift(),P=k+l.shift(),m=M+l.shift(),v=P+l.shift(),l.shift(),c.curveTo(a,o,u,h,C,T),c.curveTo(O,k,M,P,m,v);break;case 34:a=m+l.shift(),o=v,u=a+l.shift(),h=o+l.shift(),C=u+l.shift(),T=h,O=C+l.shift(),k=h,M=O+l.shift(),P=v,m=M+l.shift(),c.curveTo(a,o,u,h,C,T),c.curveTo(O,k,M,P,m,v);break;case 36:a=m+l.shift(),o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),C=u+l.shift(),T=h,O=C+l.shift(),k=h,M=O+l.shift(),P=k+l.shift(),m=M+l.shift(),c.curveTo(a,o,u,h,C,T),c.curveTo(O,k,M,P,m,v);break;case 37:a=m+l.shift(),o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),C=u+l.shift(),T=h+l.shift(),O=C+l.shift(),k=T+l.shift(),M=O+l.shift(),P=k+l.shift(),Math.abs(M-m)>Math.abs(P-v)?m=M+l.shift():v=P+l.shift(),c.curveTo(a,o,u,h,C,T),c.curveTo(O,k,M,P,m,v);break;default:console.log("Glyph "+n+": unknown operator 1200"+I),l.length=0}break;case 14:l.length>0&&!f&&(p=l.shift()+t.nominalWidthX,
f=!0),g&&(c.closePath(),g=!1);break;case 18:i();break;case 19:case 20:i(),A+=d+7>>3;break;case 21:l.length>2&&!f&&(p=l.shift()+t.nominalWidthX,f=!0),v+=l.pop(),m+=l.pop(),r(m,v);break;case 22:l.length>1&&!f&&(p=l.shift()+t.nominalWidthX,f=!0),m+=l.pop(),r(m,v);break;case 23:i();break;case 24:for(;l.length>2;)a=m+l.shift(),o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),m=u+l.shift(),v=h+l.shift(),c.curveTo(a,o,u,h,m,v);m+=l.shift(),v+=l.shift(),c.lineTo(m,v);break;case 25:for(;l.length>6;)m+=l.shift(),v+=l.shift(),c.lineTo(m,v);a=m+l.shift(),o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),m=u+l.shift(),v=h+l.shift(),c.curveTo(a,o,u,h,m,v);break;case 26:for(l.length%2&&(m+=l.shift());l.length>0;)a=m,o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),m=u,v=h+l.shift(),c.curveTo(a,o,u,h,m,v);break;case 27:for(l.length%2&&(v+=l.shift());l.length>0;)a=m+l.shift(),o=v,u=a+l.shift(),h=o+l.shift(),m=u+l.shift(),v=h,c.curveTo(a,o,u,h,m,v);break;case 28:_=e[A],y=e[A+1],l.push((_<<24|y<<16)>>16),A+=2;break;case 29:w=l.pop()+t.gsubrsBias,S=t.gsubrs[w],S&&s(S);break;case 30:for(;l.length>0&&(a=m,o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),m=u+l.shift(),v=h+(1===l.length?l.shift():0),c.curveTo(a,o,u,h,m,v),0!==l.length);)a=m+l.shift(),o=v,u=a+l.shift(),h=o+l.shift(),v=h+l.shift(),m=u+(1===l.length?l.shift():0),c.curveTo(a,o,u,h,m,v);break;case 31:for(;l.length>0&&(a=m+l.shift(),o=v,u=a+l.shift(),h=o+l.shift(),v=h+l.shift(),m=u+(1===l.length?l.shift():0),c.curveTo(a,o,u,h,m,v),0!==l.length);)a=m,o=v+l.shift(),u=a+l.shift(),h=o+l.shift(),m=u+l.shift(),v=h+(1===l.length?l.shift():0),c.curveTo(a,o,u,h,m,v);break;default:32>I?console.log("Glyph "+n+": unknown operator "+I):247>I?l.push(I-139):251>I?(_=e[A],A+=1,l.push(256*(I-247)+_+108)):255>I?(_=e[A],A+=1,l.push(256*-(I-251)-_-108)):(_=e[A],y=e[A+1],x=e[A+2],b=e[A+3],A+=4,l.push((_<<24|y<<16|x<<8|b)/65536))}}}var a,o,u,h,c=new R.Path,l=[],d=0,f=!1,p=t.defaultWidthX,g=!1,m=0,v=0;s(e);var _=new E.Glyph({font:t,index:n});return _.path=c,_.advanceWidth=p,_}function v(e){var t;return t=e.length<1240?107:e.length<33900?1131:32768}function _(e,t,n){n.tables.cff={};var r=l(e,t),s=i(e,r.endOffset,j.bytesToString),a=i(e,s.endOffset),o=i(e,a.endOffset,j.bytesToString),u=i(e,o.endOffset);n.gsubrs=u.objects,n.gsubrsBias=v(n.gsubrs);var h=new DataView(new Uint8Array(a.objects[0]).buffer),c=d(h,o.objects);n.tables.cff.topDict=c;var _=t+c["private"][1],y=f(e,_,c["private"][0],o.objects);if(n.defaultWidthX=y.defaultWidthX,n.nominalWidthX=y.nominalWidthX,0!==y.subrs){var x=_+y.subrs,b=i(e,x);n.subrs=b.objects,n.subrsBias=v(n.subrs)}else n.subrs=[],n.subrsBias=0;var w=i(e,t+c.charStrings);n.nGlyphs=w.objects.length;var S=p(e,t+c.charset,n.nGlyphs,o.objects);n.cffEncoding=0===c.encoding?new N.CffEncoding(N.cffStandardEncoding,S):1===c.encoding?new N.CffEncoding(N.cffExpertEncoding,S):g(e,t+c.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=[];for(var C=0;C<n.nGlyphs;C+=1){var T=w.objects[C];n.glyphs.push(m(T,n,C))}}function y(e,t){var n,r=N.cffStandardStrings.indexOf(e);return r>=0&&(n=r),r=t.indexOf(e),r>=0?n=r+N.cffStandardStrings.length:(n=N.cffStandardStrings.length+t.length,t.push(e)),n}function x(){return new D.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function b(e){var t=new D.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}function w(e,t,n){for(var i={},s=0;s<e.length;s+=1){var a=e[s],o=t[a.name];void 0===o||r(o,a.value)||("SID"===a.type&&(o=y(o,n)),i[a.op]={name:a.name,type:a.type,value:o})}return i}function S(e,t){var n=new D.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=w(U,e,t),n}function C(e){var t=new D.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function T(e){var t=new D.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}function O(){return new D.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function k(e,t){for(var n=new D.Table("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=e[r],s=y(i,t);n.fields.push({name:"glyph_"+r,type:"SID",value:s})}return n}function M(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,s=0;s<n.commands.length;s+=1){var a,o,u=n.commands[s];if("Q"===u.type){var h=1/3,c=2/3;u={type:"C",x:u.x,y:u.y,x1:h*r+c*u.x1,y1:h*i+c*u.y1,x2:h*u.x+c*u.x1,y2:h*u.y+c*u.y1}}if("M"===u.type)a=Math.round(u.x-r),o=Math.round(u.y-i),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(u.x),i=Math.round(u.y);else if("L"===u.type)a=Math.round(u.x-r),o=Math.round(u.y-i),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(u.x),i=Math.round(u.y);else if("C"===u.type){var l=Math.round(u.x1-r),d=Math.round(u.y1-i),f=Math.round(u.x2-u.x1),p=Math.round(u.y2-u.y1);a=Math.round(u.x-u.x2),o=Math.round(u.y-u.y2),t.push({name:"dx1",type:"NUMBER",value:l}),t.push({name:"dy1",type:"NUMBER",value:d}),t.push({name:"dx2",type:"NUMBER",value:f}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(u.x),i=Math.round(u.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function P(e){for(var t=new D.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e[n],i=M(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}function A(e,t){var n=new D.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=w(B,e,t),n}function I(e){var t=new D.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return t.privateDicts=[{name:"privateDict_0",type:"TABLE",value:e}],t}function L(e,t){for(var n=new D.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),r={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,charset:999,encoding:0,charStrings:999,"private":[0,999]},i={},s=[],a=1;a<e.length;a+=1)s.push(e[a].name);var o=[];n.header=x(),n.nameIndex=b([t.postScriptName]);var u=S(r,o);n.topDictIndex=C(u),n.globalSubrIndex=O(),n.charsets=k(s,o),n.charStringsIndex=P(e);var h=A(i,o);n.privateDictIndex=I(h),n.stringIndex=T(o);var c=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return r.charset=c,r.encoding=0,r.charStrings=r.charset+n.charsets.sizeOf(),r["private"][1]=r.charStrings+n.charStringsIndex.sizeOf(),u=S(r,o),n.topDictIndex=C(u),n}var N=e("../encoding"),E=e("../glyph"),j=e("../parse"),R=e("../path"),D=e("../table"),U=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],B=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];n.parse=_,n.make=L},{"../encoding":3,"../glyph":5,"../parse":7,"../path":8,"../table":9}],11:[function(e,t,n){"use strict";function r(e,t){var n,r={};r.version=u.getUShort(e,t),o.argument(0===r.version,"cmap table version should be 0."),r.numTables=u.getUShort(e,t+2);var i=-1;for(n=0;n<r.numTables;n+=1){var s=u.getUShort(e,t+4+8*n),a=u.getUShort(e,t+4+8*n+2);if(3===s&&(1===a||0===a)){i=u.getULong(e,t+4+8*n+4);break}}if(-1===i)return null;var h=new u.Parser(e,t+i);r.format=h.parseUShort(),o.argument(4===r.format,"Only format 4 cmap tables are supported."),r.length=h.parseUShort(),r.language=h.parseUShort();var c;r.segCount=c=h.parseUShort()>>1,h.skip("uShort",3),r.glyphIndexMap={};var l=new u.Parser(e,t+i+14),d=new u.Parser(e,t+i+16+2*c),f=new u.Parser(e,t+i+16+4*c),p=new u.Parser(e,t+i+16+6*c),g=t+i+16+8*c;for(n=0;c-1>n;n+=1)for(var m,v=l.parseUShort(),_=d.parseUShort(),y=f.parseShort(),x=p.parseUShort(),b=_;v>=b;b+=1)0!==x?(g=p.offset+p.relativeOffset-2,g+=x,g+=2*(b-_),m=u.getUShort(e,g),0!==m&&(m=m+y&65535)):m=b+y&65535,r.glyphIndexMap[b]=m;return r}function i(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0})}function s(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function a(e){var t,n=new h.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(n.segments=[],t=0;t<e.length;t+=1){for(var r=e[t],a=0;a<r.unicodes.length;a+=1)i(n,r.unicodes[a],t);n.segments=n.segments.sort(function(e,t){return e.start-t.start})}s(n);var o;o=n.segments.length,n.segCountX2=2*o,n.searchRange=2*Math.pow(2,Math.floor(Math.log(o)/Math.log(2))),n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange;var u=[],c=[],l=[],d=[],f=[];for(t=0;o>t;t+=1){var p=n.segments[t];u=u.concat({name:"end_"+t,type:"USHORT",value:p.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:p.start}),l=l.concat({name:"idDelta_"+t,type:"SHORT",value:p.delta}),d=d.concat({name:"idRangeOffset_"+t,type:"USHORT",value:p.offset}),void 0!==p.glyphId&&(f=f.concat({name:"glyph_"+t,type:"USHORT",value:p.glyphId}))}return n.fields=n.fields.concat(u),n.fields.push({name:"reservedPad",type:"USHORT",value:0}),n.fields=n.fields.concat(c),n.fields=n.fields.concat(l),n.fields=n.fields.concat(d),n.fields=n.fields.concat(f),n.length=14+2*u.length+2+2*c.length+2*l.length+2*d.length+2*f.length,n}var o=e("../check"),u=e("../parse"),h=e("../table");n.parse=r,n.make=a},{"../check":1,"../parse":7,"../table":9}],12:[function(e,t,n){"use strict";function r(e,t,n,r,i){var s;return(t&r)>0?(s=e.parseByte(),0===(t&i)&&(s=-s),s=n+s):s=(t&i)>0?n:n+e.parseShort(),s}function i(e,t,n,i){var s=new l.Parser(e,t),a=new c.Glyph({font:i,index:n});a.numberOfContours=s.parseShort(),a.xMin=s.parseShort(),a.yMin=s.parseShort(),a.xMax=s.parseShort(),a.yMax=s.parseShort();var o,u;if(a.numberOfContours>0){var d,f=a.endPointIndices=[];for(d=0;d<a.numberOfContours;d+=1)f.push(s.parseUShort());for(a.instructionLength=s.parseUShort(),a.instructions=[],d=0;d<a.instructionLength;d+=1)a.instructions.push(s.parseByte());var p=f[f.length-1]+1;for(o=[],d=0;p>d;d+=1)if(u=s.parseByte(),o.push(u),(8&u)>0)for(var g=s.parseByte(),m=0;g>m;m+=1)o.push(u),d+=1;if(h.argument(o.length===p,"Bad flags."),f.length>0){var v,_=[];if(p>0){for(d=0;p>d;d+=1)u=o[d],v={},v.onCurve=!!(1&u),v.lastPointOfContour=f.indexOf(d)>=0,_.push(v);var y=0;for(d=0;p>d;d+=1)u=o[d],v=_[d],v.x=r(s,u,y,2,16),y=v.x;var x=0;for(d=0;p>d;d+=1)u=o[d],v=_[d],v.y=r(s,u,x,4,32),x=v.y}a.points=_}else a.points=[]}else if(0===a.numberOfContours)a.points=[];else{a.isComposite=!0,a.points=[],a.components=[];for(var b=!0;b;){o=s.parseUShort();var w={glyphIndex:s.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&o)>0?(w.dx=s.parseShort(),w.dy=s.parseShort()):(w.dx=s.parseChar(),w.dy=s.parseChar()),(8&o)>0?w.xScale=w.yScale=s.parseF2Dot14():(64&o)>0?(w.xScale=s.parseF2Dot14(),w.yScale=s.parseF2Dot14()):(128&o)>0&&(w.xScale=s.parseF2Dot14(),w.scale01=s.parseF2Dot14(),w.scale10=s.parseF2Dot14(),w.yScale=s.parseF2Dot14()),a.components.push(w),b=!!(32&o)}}return a}function s(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],s={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(s)}return n}function a(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return h.argument(0===n.length,"There are still points left in the current contour."),t}function o(e){var t=new d.Path;if(!e)return t;for(var n=a(e),r=0;r<n.length;r+=1){var i,s,o=n[r],u=o[0],h=o[o.length-1];u.onCurve?(i=null,s=!0):(u=h.onCurve?h:{x:(u.x+h.x)/2,y:(u.y+h.y)/2},i=u,s=!1),t.moveTo(u.x,u.y);for(var c=s?1:0;c<o.length;c+=1){var l=o[c],f=0===c?u:o[c-1];if(f.onCurve&&l.onCurve)t.lineTo(l.x,l.y);else if(f.onCurve&&!l.onCurve)i=l;else if(f.onCurve||l.onCurve){if(f.onCurve||!l.onCurve)throw new Error("Invalid state.");t.quadraticCurveTo(i.x,i.y,l.x,l.y),i=null}else{var p={x:(f.x+l.x)/2,y:(f.y+l.y)/2};t.quadraticCurveTo(f.x,f.y,p.x,p.y),i=l}}u!==h&&(i?t.quadraticCurveTo(i.x,i.y,u.x,u.y):t.lineTo(u.x,u.y))}return t.closePath(),t}function u(e,t,n,r){var a,u=[];for(a=0;a<n.length-1;a+=1){var h=n[a],l=n[a+1];u.push(h!==l?i(e,t+h,a,r):new c.Glyph({font:r,index:a}))}for(a=0;a<u.length;a+=1){var d=u[a];if(d.isComposite)for(var f=0;f<d.components.length;f+=1){var p=d.components[f],g=u[p.glyphIndex];if(g.points){var m=s(g.points,p);d.points=d.points.concat(m)}}d.path=o(d.points)}return u}var h=e("../check"),c=e("../glyph"),l=e("../parse"),d=e("../path");n.parse=u},{"../check":1,"../glyph":5,"../parse":7,"../path":8}],13:[function(e,t,n){"use strict";function r(e,t){for(var n=new c.Parser(e,t),r=n.parseUShort(),i=[],s=0;r>s;s++)i[n.parseTag()]={offset:n.parseUShort()};return i}function i(e,t){var n=new c.Parser(e,t),r=n.parseUShort(),i=n.parseUShort();if(1===r)return n.parseUShortList(i);if(2===r){for(var s=[];i--;)for(var a=n.parseUShort(),o=n.parseUShort(),u=n.parseUShort(),h=a;o>=h;h++)s[u++]=h;return s}}function s(e,t){var n=new c.Parser(e,t),r=n.parseUShort();if(1===r){var i=n.parseUShort(),s=n.parseUShort(),a=n.parseUShortList(s);return function(e){return a[e-i]||0}}if(2===r){for(var o=n.parseUShort(),u=[],h=[],l=[],d=0;o>d;d++)u[d]=n.parseUShort(),h[d]=n.parseUShort(),l[d]=n.parseUShort();return function(e){for(var t=0,n=u.length-1;n>t;){var r=t+n+1>>1;e<u[r]?n=r-1:t=r}return u[t]<=e&&e<=h[t]?l[t]||0:0}}}function a(e,t){var n,r,a=new c.Parser(e,t),o=a.parseUShort(),u=a.parseUShort(),h=i(e,t+u),l=a.parseUShort(),d=a.parseUShort();if(4===l&&0===d){var f={};if(1===o){for(var p=a.parseUShort(),g=[],m=a.parseOffset16List(p),v=0;p>v;v++){var _=m[v],y=f[_];if(!y){y={},a.relativeOffset=_;for(var x=a.parseUShort();x--;){var b=a.parseUShort();l&&(n=a.parseShort()),d&&(r=a.parseShort()),y[b]=n}}g[h[v]]=y}return function(e,t){var n=g[e];return n?n[t]:void 0}}if(2===o){for(var w=a.parseUShort(),S=a.parseUShort(),C=a.parseUShort(),T=a.parseUShort(),O=s(e,t+w),k=s(e,t+S),M=[],P=0;C>P;P++)for(var A=M[P]=[],I=0;T>I;I++)l&&(n=a.parseShort()),d&&(r=a.parseShort()),A[I]=n;var L={};for(P=0;P<h.length;P++)L[h[P]]=1;return function(e,t){if(L[e]){var n=O(e),r=k(t),i=M[n];return i?i[r]:void 0}}}}}function o(e,t){var n=new c.Parser(e,t),r=n.parseUShort(),i=n.parseUShort(),s=16&i,o=n.parseUShort(),u=n.parseOffset16List(o),h={lookupType:r,lookupFlag:i,markFilteringSet:s?n.parseUShort():-1};if(2===r){for(var l=[],d=0;o>d;d++)l.push(a(e,t+u[d]));h.getKerningValue=function(e,t){for(var n=l.length;n--;){var r=l[n](e,t);if(void 0!==r)return r}return 0}}return h}function u(e,t,n){var i=new c.Parser(e,t),s=i.parseFixed();h.argument(1===s,"Unsupported GPOS table version."),r(e,t+i.parseUShort()),r(e,t+i.parseUShort());var a=i.parseUShort();i.relativeOffset=a;for(var u=i.parseUShort(),l=i.parseOffset16List(u),d=t+a,f=0;u>f;f++){var p=o(e,d+l[f]);2!==p.lookupType||n.getGposKerningValue||(n.getGposKerningValue=p.getKerningValue)}}var h=e("../check"),c=e("../parse");n.parse=u},{"../check":1,"../parse":7}],14:[function(e,t,n){"use strict";function r(e,t){var n={},r=new a.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),s.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function i(e){return new o.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var s=e("../check"),a=e("../parse"),o=e("../table");n.parse=r,n.make=i},{"../check":1,"../parse":7,"../table":9}],15:[function(e,t,n){"use strict";function r(e,t){var n={},r=new s.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function i(e){return new a.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var s=e("../parse"),a=e("../table");n.parse=r,n.make=i},{"../parse":7,"../table":9}],16:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var a,o,u=new s.Parser(e,t),h=0;r>h;h+=1){n>h&&(a=u.parseUShort(),o=u.parseShort());var c=i[h];c.advanceWidth=a,c.leftSideBearing=o}}function i(e){for(var t=new a.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e[n],i=r.advanceWidth||0,s=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return t}var s=e("../parse"),a=e("../table");n.parse=r,n.make=i},{"../parse":7,"../table":9}],17:[function(e,t,n){"use strict";function r(e,t){var n={},r=new s.Parser(e,t),a=r.parseUShort();i.argument(0===a,"Unsupported kern table version."),r.skip("uShort",1);var o=r.parseUShort();i.argument(0===o,"Unsupported kern sub-table version."),r.skip("uShort",2);var u=r.parseUShort();r.skip("uShort",3);for(var h=0;u>h;h+=1){var c=r.parseUShort(),l=r.parseUShort(),d=r.parseShort();n[c+","+l]=d}return n}var i=e("../check"),s=e("../parse");n.parse=r},{"../check":1,"../parse":7}],18:[function(e,t,n){"use strict";function r(e,t,n,r){for(var s=new i.Parser(e,t),a=r?s.parseUShort:s.parseULong,o=[],u=0;n+1>u;u+=1){var h=a.call(s);r&&(h*=2),o.push(h)}return o}var i=e("../parse");n.parse=r},{"../parse":7}],19:[function(e,t,n){"use strict";function r(e,t){var n={},r=new s.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function i(e){return new a.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var s=e("../parse"),a=e("../table");n.parse=r,n.make=i},{"../parse":7,"../table":9}],20:[function(e,t,n){"use strict";function r(e,t){var n={},r=new h.Parser(e,t);n.format=r.parseUShort();for(var i=r.parseUShort(),s=r.offset+r.parseUShort(),a=0,o=0;i>o;o++){var u=r.parseUShort(),c=r.parseUShort(),d=r.parseUShort(),f=r.parseUShort(),p=l[f],g=r.parseUShort(),m=r.parseUShort();if(3===u&&1===c&&1033===d){for(var v=[],_=g/2,y=0;_>y;y++,m+=2)v[y]=h.getShort(e,s+m);var x=String.fromCharCode.apply(null,v);p?n[p]=x:(a++,n["unknown"+a]=x)}}return 1===n.format&&(n.langTagCount=r.parseUShort()),n}function i(e,t,n,r,i,s){return new c.Table("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function s(e,t,n,r){var s=u.STRING(n);return e.records.push(i(1,0,0,t,s.length,r)),e.strings.push(s),r+=s.length}function a(e,t,n,r){var s=u.UTF16(n);return e.records.push(i(3,1,1033,t,s.length,r)),e.strings.push(s),r+=s.length}function o(e){var t=new c.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:0},{name:"stringOffset",type:"USHORT",value:0}]);t.records=[],t.strings=[];var n,r,i=0;for(n=0;n<l.length;n+=1)void 0!==e[l[n]]&&(r=e[l[n]],i=s(t,n,r,i));for(n=0;n<l.length;n+=1)void 0!==e[l[n]]&&(r=e[l[n]],i=a(t,n,r,i));for(t.count=t.records.length,t.stringOffset=6+12*t.count,n=0;n<t.records.length;n+=1)t.fields.push({name:"record_"+n,type:"TABLE",value:t.records[n]});for(n=0;n<t.strings.length;n+=1)t.fields.push({name:"string_"+n,type:"LITERAL",value:t.strings[n]});return t}var u=e("../types").encode,h=e("../parse"),c=e("../table"),l=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"];n.parse=r,n.make=o},{"../parse":7,"../table":9,"../types":24}],21:[function(e,t,n){"use strict";function r(e){for(var t=0;t<u.length;t+=1){var n=u[t];if(e>=n.begin&&e<n.end)return t}return-1}function i(e,t){var n={},r=new a.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;10>i;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function s(e){return new o.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var a=e("../parse"),o=e("../table"),u=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];n.unicodeRanges=u,n.getUnicodeRange=r,n.parse=i,n.make=s},{"../parse":7,"../table":9}],22:[function(e,t,n){"use strict";function r(e,t){var n,r={},i=new a.Parser(e,t);switch(r.version=i.parseVersion(),r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=s.standardNames.slice();break;case 2:for(r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs),n=0;n<r.numberOfGlyphs;n++)r.glyphNameIndex[n]=i.parseUShort();for(r.names=[],n=0;n<r.numberOfGlyphs;n++)if(r.glyphNameIndex[n]>=s.standardNames.length){var o=i.parseChar();r.names.push(i.parseString(o))}break;case 2.5:for(r.numberOfGlyphs=i.parseUShort(),r.offset=new Array(r.numberOfGlyphs),n=0;n<r.numberOfGlyphs;n++)r.offset[n]=i.parseChar()}return r}function i(){return new o.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var s=e("../encoding"),a=e("../parse"),o=e("../table");n.parse=r,n.make=i},{"../encoding":3,"../parse":7,"../table":9}],23:[function(e,t,n){
"use strict";function r(e){return Math.log(e)/Math.log(2)|0}function i(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function s(e,t,n,r){return new l.Table("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function a(e){var t=new l.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,r(t.numTables));t.searchRange=16*n,t.entrySelector=r(n),t.rangeShift=16*t.numTables-t.searchRange;for(var a=[],o=[],u=t.sizeOf()+s().sizeOf()*t.numTables;u%4!==0;)u+=1,o.push({name:"padding",type:"BYTE",value:0});for(var h=0;h<e.length;h+=1){var d=e[h];c.argument(4===d.tableName.length,"Table name"+d.tableName+" is invalid.");var f=d.sizeOf(),p=s(d.tableName,i(d.encode()),u,f);for(a.push({name:p.tag+" Table Record",type:"TABLE",value:p}),o.push({name:d.tableName+" table",type:"TABLE",value:d}),u+=f,c.argument(!isNaN(u),"Something went wrong calculating the offset.");u%4!==0;)u+=1,o.push({name:"padding",type:"BYTE",value:0})}return a.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(a),t.fields=t.fields.concat(o),t}function o(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(i>0){var s=e.glyphs[i];return s.getMetrics()}}return n}function u(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}function h(e){for(var t=[],n=[],r=[],s=[],h=[],c=[],l=[],b=null,w=0,S=0,C=0,T=0,O=0,k=0;k<e.glyphs.length;k+=1){var M=e.glyphs[k],P=0|M.unicode;(b>P||null===b)&&(b=P),P>w&&(w=P);var A=y.getUnicodeRange(P);if(32>A)S|=1<<A;else if(64>A)C|=1<<A-32;else if(96>A)T|=1<<A-64;else{if(!(123>A))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");O|=1<<A-96}if(".notdef"!==M.name){var I=M.getMetrics();t.push(I.xMin),n.push(I.yMin),r.push(I.xMax),s.push(I.yMax),c.push(I.leftSideBearing),l.push(I.rightSideBearing),h.push(M.advanceWidth)}}var L={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,h),advanceWidthAvg:u(h),minLeftSideBearing:Math.min.apply(null,c),maxLeftSideBearing:Math.max.apply(null,c),minRightSideBearing:Math.min.apply(null,l)};L.ascender=void 0!==e.ascender?e.ascender:L.yMax,L.descender=void 0!==e.descender?e.descender:L.yMin;var N=p.make({unitsPerEm:e.unitsPerEm,xMin:L.xMin,yMin:L.yMin,xMax:L.xMax,yMax:L.yMax}),E=g.make({ascender:L.ascender,descender:L.descender,advanceWidthMax:L.advanceWidthMax,minLeftSideBearing:L.minLeftSideBearing,minRightSideBearing:L.minRightSideBearing,xMaxExtent:L.maxLeftSideBearing+(L.xMax-L.xMin),numberOfHMetrics:e.glyphs.length}),j=v.make(e.glyphs.length),R=y.make({xAvgCharWidth:Math.round(L.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:b,usLastCharIndex:w,ulUnicodeRange1:S,ulUnicodeRange2:C,ulUnicodeRange3:T,ulUnicodeRange4:O,sTypoAscender:L.ascender,sTypoDescender:L.descender,sTypoLineGap:0,usWinAscent:L.ascender,usWinDescent:-L.descender,sxHeight:o(e,"xyvw",{yMax:0}).yMax,sCapHeight:o(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",L).yMax,usBreakChar:e.hasChar(" ")?32:0}),D=m.make(e.glyphs),U=d.make(e.glyphs),B=e.familyName+" "+e.styleName,F=e.familyName.replace(/\s/g,"")+"-"+e.styleName,z=_.make({copyright:e.copyright,fontFamily:e.familyName,fontSubfamily:e.styleName,uniqueID:e.manufacturer+":"+B,fullName:B,version:e.version,postScriptName:F,trademark:e.trademark,manufacturer:e.manufacturer,designer:e.designer,description:e.description,manufacturerURL:e.manufacturerURL,designerURL:e.designerURL,license:e.license,licenseURL:e.licenseURL,preferredFamily:e.familyName,preferredSubfamily:e.styleName}),H=x.make(),W=f.make(e.glyphs,{version:e.version,fullName:B,familyName:e.familyName,weightName:e.styleName,postScriptName:F}),q=[N,E,j,R,z,U,H,W,D],G=a(q),V=G.encode(),X=i(V),Y=G.fields,$=!1;for(k=0;k<Y.length;k+=1)if("head table"===Y[k].name){Y[k].value.checkSumAdjustment=2981146554-X,$=!0;break}if(!$)throw new Error("Could not find head table with checkSum to adjust.");return G}var c=e("../check"),l=e("../table"),d=e("./cmap"),f=e("./cff"),p=e("./head"),g=e("./hhea"),m=e("./hmtx"),v=e("./maxp"),_=e("./name"),y=e("./os2"),x=e("./post");n.computeCheckSum=i,n.make=a,n.fontToTable=h},{"../check":1,"../table":9,"./cff":10,"./cmap":11,"./head":14,"./hhea":15,"./hmtx":16,"./maxp":19,"./name":20,"./os2":21,"./post":22}],24:[function(e,t,n){"use strict";function r(e){return function(){return e}}var i=e("./check"),s=32768,a=2147483648,o={},u={},h={};u.BYTE=function(e){return i.argument(e>=0&&255>=e,"Byte value should be between 0 and 255."),[e]},h.BYTE=r(1),u.CHAR=function(e){return[e.charCodeAt(0)]},h.BYTE=r(1),u.CHARARRAY=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e.charCodeAt(n));return t},h.CHARARRAY=function(e){return e.length},u.USHORT=function(e){return[e>>8&255,255&e]},h.USHORT=r(2),u.SHORT=function(e){return e>=s&&(e=-(2*s-e)),[e>>8&255,255&e]},h.SHORT=r(2),u.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},h.UINT24=r(3),u.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},h.ULONG=r(4),u.LONG=function(e){return e>=a&&(e=-(2*a-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},h.LONG=r(4),u.FIXED=u.ULONG,h.FIXED=h.ULONG,u.FWORD=u.SHORT,h.FWORD=h.SHORT,u.UFWORD=u.USHORT,h.UFWORD=h.USHORT,u.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]},h.LONGDATETIME=r(8),u.TAG=function(e){return i.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},h.TAG=r(4),u.Card8=u.BYTE,h.Card8=h.BYTE,u.Card16=u.USHORT,h.Card16=h.USHORT,u.OffSize=u.BYTE,h.OffSize=h.BYTE,u.SID=u.USHORT,h.SID=h.USHORT,u.NUMBER=function(e){return e>=-107&&107>=e?[e+139]:e>=108&&1131>=e?(e-=108,[(e>>8)+247,255&e]):e>=-1131&&-108>=e?(e=-e-108,[(e>>8)+251,255&e]):e>=-32768&&32767>=e?u.NUMBER16(e):u.NUMBER32(e)},h.NUMBER=function(e){return u.NUMBER(e).length},u.NUMBER16=function(e){return[28,e>>8&255,255&e]},h.NUMBER16=r(2),u.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},h.NUMBER32=r(4),u.NAME=u.CHARARRAY,h.NAME=h.CHARARRAY,u.STRING=u.CHARARRAY,h.STRING=h.CHARARRAY,u.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(0),t.push(e.charCodeAt(n));return t},h.UTF16=function(e){return 2*e.length},u.INDEX=function(e){var t,n=1,r=[n],i=[],s=0;for(t=0;t<e.length;t+=1){var a=u.OBJECT(e[t]);Array.prototype.push.apply(i,a),s+=a.length,n+=a.length,r.push(n)}if(0===i.length)return[0,0];var o=[],h=1+Math.floor(Math.log(s)/Math.log(2))/8|0,c=[void 0,u.BYTE,u.USHORT,u.UINT24,u.ULONG][h];for(t=0;t<r.length;t+=1){var l=c(r[t]);Array.prototype.push.apply(o,l)}return Array.prototype.concat(u.Card16(e.length),u.OffSize(h),o,i)},h.INDEX=function(e){return u.INDEX(e).length},u.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;r>i;i+=1){var s=parseInt(n[i],0),a=e[s];t=t.concat(u.OPERAND(a.value,a.type)),t=t.concat(u.OPERATOR(s))}return t},h.DICT=function(e){return u.DICT(e).length},u.OPERATOR=function(e){return 1200>e?[e]:[12,e-1200]},u.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)i.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(u.OPERAND(e[r],t[r]));else n=n.concat("SID"===t?u.NUMBER(e):"offset"===t?u.NUMBER32(e):u.NUMBER(e));return n},u.OP=u.BYTE,h.OP=h.BYTE;var c="function"==typeof WeakMap&&new WeakMap;u.CHARSTRING=function(e){if(c&&c.has(e))return c.get(e);for(var t=[],n=e.length,r=0;n>r;r+=1){var i=e[r];t=t.concat(u[i.type](i.value))}return c&&c.set(e,t),t},h.CHARSTRING=function(e){return u.CHARSTRING(e).length},u.OBJECT=function(e){var t=u[e.type];return i.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},u.TABLE=function(e){for(var t=[],n=e.fields.length,r=0;n>r;r+=1){var s=e.fields[r],a=u[s.type];i.argument(void 0!==a,"No encoding function for field type "+s.type);var o=e[s.name];void 0===o&&(o=s.value);var h=a(o);t=t.concat(h)}return t},u.LITERAL=function(e){return e},h.LITERAL=function(e){return e.length},n.decode=o,n.encode=u,n.sizeOf=h},{"./check":1}]},{},[6])(6)})},{}],2:[function(t,n,r){var s=new function(t){var r="object"==typeof process&&process.browser!==!0||"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,a=new function(){function e(e,t,n,r,s){function o(i,o){o=o||(o=h(t,i))&&(o.get?o:o.value),"string"==typeof o&&"#"===o[0]&&(o=e[o.substring(1)]||o);var c,d="function"==typeof o,f=o,p=s||d?o&&o.get?i in e:e[i]:null;s&&p||(d&&p&&(o.base=p),d&&r!==!1&&(c=i.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(u[c[3].toLowerCase()+c[4]]=c[2]),f&&!d&&f.get&&"function"==typeof f.get&&a.isPlainObject(f)||(f={value:f,writable:!0}),(h(e,i)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=n),l(e,i,f))}var u={};if(t){for(var c in t)t.hasOwnProperty(c)&&!i.test(c)&&o(c);for(var c in u){var d=u[c],f=e["set"+d],p=e["get"+d]||f&&e["is"+d];!p||r!==!0&&0!==p.length||o(c,{get:p,set:f})}}return e}function n(e,t,n){return e&&("length"in e&&!e.getLength&&"number"==typeof e.length?s:o).call(e,t,n=n||e),n}function r(e,t,n){for(var r in t)!t.hasOwnProperty(r)||n&&n[r]||(e[r]=t[r]);return e}var i=/^(statics|enumerable|beans|preserve)$/,s=[].forEach||function(e,t){for(var n=0,r=this.length;r>n;n++)e.call(t,this[n],n,this)},o=function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)},u=Object.create||function(e){return{__proto__:e}},h=Object.getOwnPropertyDescriptor||function(e,t){var n=e.__lookupGetter__&&e.__lookupGetter__(t);return n?{get:n,set:e.__lookupSetter__(t),enumerable:!0,configurable:!0}:e.hasOwnProperty(t)?{value:e[t],enumerable:!0,configurable:!0,writable:!0}:null},c=Object.defineProperty||function(e,t,n){return(n.get||n.set)&&e.__defineGetter__?(n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)):e[t]=n.value,e},l=function(e,t,n){return delete e[t],c(e,t,n)};return e(function(){for(var e=0,t=arguments.length;t>e;e++)r(this,arguments[e])},{inject:function(t){if(t){var n=t.statics===!0?t:t.statics,r=t.beans,i=t.preserve;n!==t&&e(this.prototype,t,t.enumerable,r,i),e(this,n,!0,r,i)}for(var s=1,a=arguments.length;a>s;s++)this.inject(arguments[s]);return this},extend:function(){for(var t,n=this,r=0,i=arguments.length;i>r&&!(t=arguments[r].initialize);r++);return t=t||function(){n.apply(this,arguments)},t.prototype=u(this.prototype),t.base=n,l(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),e(t,this,!0),arguments.length?this.inject.apply(t,arguments):t}},!0).inject({inject:function(){for(var t=0,n=arguments.length;n>t;t++){var r=arguments[t];r&&e(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){var e=u(this);return e.inject.apply(e,arguments)},each:function(e,t){return n(this,e,t)},set:function(e){return r(this,e)},clone:function(){return new this.constructor(this)},statics:{each:n,create:u,define:l,describe:h,set:r,clone:function(e){return r(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===a||"Object"===t.name)},pick:function(){for(var e=0,n=arguments.length;n>e;e++)if(arguments[e]!==t)return arguments[e]}}})};"undefined"!=typeof n&&(n.exports=a),a.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+a.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"===n?c.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},exportJSON:function(e){return a.exportJSON(this,e)},toJSON:function(){return a.serialize(this)},_set:function(e,n,r){if(e&&(r||a.isPlainObject(e))){var i=e._filtering||e;for(var s in i)if(i.hasOwnProperty(s)&&(!n||!n[s])){var o=e[s];o!==t&&(this[s]=o)}return!0}},statics:{exports:{enumerable:!0},extend:function oe(){var e=oe.base.apply(this,arguments),t=e.prototype._class;return t&&!a.exports[t]&&(a.exports[t]=e),e},equals:function(e,t){function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0,i=e.length;i>r;r++)if(!a.equals(e[r],t[r]))return!1;return!0}if(e&&"object"==typeof e&&t&&"object"==typeof t){if(!n(e,t)||!n(t,e))return!1;for(var r in e)if(e.hasOwnProperty(r)&&!a.equals(e[r],t[r]))return!1;return!0}return!1},read:function(e,n,r,i){if(this===a){var s=this.peek(e,n);return e.__index++,s}var o=this.prototype,u=o._readIndex,h=n||u&&e.__index||0;i||(i=e.length-h);var c=e[h];return c instanceof this||r&&r.readNull&&null==c&&1>=i?(u&&(e.__index=h+1),c&&r&&r.clone?c.clone():c):(c=a.create(this.prototype),u&&(c.__read=!0),c=c.initialize.apply(c,h>0||i<e.length?Array.prototype.slice.call(e,h,h+i):e)||c,u&&(e.__index=h+c.__read,c.__read=t),c)},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readAll:function(e,t,n){for(var r,i=[],s=t||0,a=e.length;a>s;s++)i.push(Array.isArray(r=e[s])?this.read(r,0,n):this.read(e,s,n,1));return i},readNamed:function(e,n,r,i,s){var o=this.getNamed(e,n),u=o!==t;if(u){var h=e._filtered;h||(h=e._filtered=a.create(e[0]),h._filtering=e[0]),h[n]=t}return this.read(u?[o]:e,r,i,s)},getNamed:function(e,n){var r=e[0];return e._hasObject===t&&(e._hasObject=1===e.length&&a.isPlainObject(r)),e._hasObject?n?r[n]:e._filtered||r:void 0},hasNamed:function(e,t){return!!this.getNamed(e,t)},isPlainValue:function(e,t){return this.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,r){t=t||{};var i,s=!r;if(s&&(t.formatter=new c(t.precision),r={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,r=this.references[n];if(!r){this.length++;var i=t.call(e),s=e._class;s&&i[0]!==s&&i.unshift(s),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),e&&e._serialize){i=e._serialize(t,r);var o=e._class;!o||n||i._compact||i[0]===o||i.unshift(o)}else if(Array.isArray(e)){i=[];for(var u=0,h=e.length;h>u;u++)i[u]=a.serialize(e[u],t,n,r);n&&(i._compact=!0)}else if(a.isPlainObject(e)){i={};for(var u in e)e.hasOwnProperty(u)&&(i[u]=a.serialize(e[u],t,n,r))}else i="number"==typeof e?t.formatter.number(e,t.precision):e;return s&&r.length>0?[["dictionary",r.definitions],i]:i},deserialize:function(e,t,n){var r=e,i=!n;if(n=n||{},Array.isArray(e)){var s=e[0],o="dictionary"===s;if(!o){if(n.dictionary&&1==e.length&&/^#/.test(s))return n.dictionary[s];s=a.exports[s]}r=[];for(var u=s?1:0,h=e.length;h>u;u++)r.push(a.deserialize(e[u],t,n));if(o)n.dictionary=r[0];else if(s){var c=r;t?r=t(s,c):(r=a.create(s.prototype),s.apply(r,c))}}else if(a.isPlainObject(e)){r={};for(var l in e)r[l]=a.deserialize(e[l],t,n)}return i&&e&&e.length&&"dictionary"===e[0][0]?r[1]:r},exportJSON:function(e,t){var n=a.serialize(e,t);return t&&t.asString===!1?n:JSON.stringify(n)},importJSON:function(e,t){return a.deserialize("string"==typeof e?JSON.parse(e):e,function(e,n){var r=t&&t.constructor===e?t:a.create(e.prototype),i=r===t;if(1===n.length&&r instanceof C&&(i||!(r instanceof O))){var s=n[0];a.isPlainObject(s)&&(s.insert=!1)}return e.apply(r,n),i&&(t=null),r})},splice:function(e,n,r,i){var s=n&&n.length,a=r===t;r=a?e.length:r,r>e.length&&(r=e.length);for(var o=0;s>o;o++)n[o]._index=r+o;if(a)return e.push.apply(e,n),[];var u=[r,i];n&&u.push.apply(u,n);for(var h=e.splice.apply(e,u),o=0,c=h.length;c>o;o++)h[o]._index=t;for(var o=r+s,c=e.length;c>o;o++)e[o]._index=o;return h},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var o={on:function(e,t){if("string"!=typeof e)a.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes[e];if(n){var r=this._callbacks=this._callbacks||{};r=r[e]=r[e]||[],-1===r.indexOf(t)&&(r.push(t),n.install&&1==r.length&&n.install.call(this,e))}}return this},off:function(e,t){if("string"!=typeof e)return void a.each(e,function(e,t){this.off(t,e)},this);var n,r=this._eventTypes[e],i=this._callbacks&&this._callbacks[e];return r&&i&&(!t||-1!==(n=i.indexOf(t))&&1===i.length?(r.uninstall&&r.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&i.splice(n,1)),this},once:function(e,t){return this.on(e,function(){t.apply(this,arguments),this.off(e,t)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;for(var r=[].slice.call(arguments,1),i=0,s=n.length;s>i;i++)if(n[i].apply(this,r)===!1&&t&&t.stop){t.stop();break}return!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._callbacks,n=e?"install":"uninstall";for(var r in t)if(t[r].length>0){var i=this._eventTypes[r],s=i[n];s&&s.call(this,r)}},statics:{inject:function ue(e){var t=e._events;if(t){var n={};a.each(t,function(t,r){var i="string"==typeof t,s=i?t:r,o=a.capitalize(s),u=s.substring(2).toLowerCase();n[u]=i?{}:t,s="_"+s,e["get"+o]=function(){return this[s]},e["set"+o]=function(e){var t=this[s];t&&this.off(u,t),e&&this.on(u,e),this[s]=e}}),e._eventTypes=n}return ue.base.apply(this,arguments)}}},u=a.extend({_class:"PaperScope",initialize:function he(){s=this,this.settings=new a({applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=he._id++,he._scopes[this._id]=this;var e=he.prototype;if(!r){if(!this.support){var t=re.getContext(1,1);e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:ie.nativeModes},re.release(t)}if(!this.browser){var n=e.browser={};navigator.userAgent.toLowerCase().replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(e,t,r,i,s){if(!n.chrome){var a="opera"===t?i:r;"trident"===t&&(a=s,t="msie"),n.version=a,n.versionNumber=parseFloat(a),n.name=t,n[t]=!0}}),n.chrome&&delete n.webkit,n.atom&&delete n.chrome}}},version:"0.9.22",getView:function(){return this.project&&this.project.getView()},getPaper:function(){return this},execute:function(e,t,n){s.PaperScript.execute(e,this,t,n),$.updateFocus()},install:function(e){var t=this;a.each(["project","view","tool"],function(n){a.define(e,n,{configurable:!0,get:function(){return t[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return s=this,this.project=new w(e),this},activate:function(){s=this},clear:function(){for(var e=this.projects.length-1;e>=0;e--)this.projects[e].remove();for(var e=this.tools.length-1;e>=0;e--)this.tools[e].remove();for(var e=this.palettes.length-1;e>=0;e--)this.palettes[e].remove()},remove:function(){this.clear(),delete u._scopes[this._id]},statics:new function(){function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),h=a.extend(o,{initialize:function(e){this._scope=s,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null==this._index?!1:(a.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)}}),c=a.extend({initialize:function(e){this.precision=e||5,this.multiplier=Math.pow(10,this.precision)},number:function(e){return Math.round(e*this.multiplier)/this.multiplier},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});c.instance=new c;var d=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,r=Math.sqrt,i=Math.pow,s=1e-6,a=1e-12,o=1.12e-16;return{TOLERANCE:s,EPSILON:a,MACHINE_EPSILON:o,KAPPA:4*(r(2)-1)/3,isZero:function(e){return n(e)<=a},integrate:function(n,r,i,s){for(var a=e[s-2],o=t[s-2],u=.5*(i-r),h=u+r,c=0,l=s+1>>1,d=1&s?o[c++]*n(h):0;l>c;){var f=u*a[c];d+=o[c++]*(n(h+f)+n(h-f))}return u*d},findRoot:function(e,t,r,i,s,a,o){for(var u=0;a>u;u++){var h=e(r),c=h/t(r),l=r-c;if(n(c)<o)return l;h>0?(s=r,r=i>=l?.5*(i+s):l):(i=r,r=l>=s?.5*(i+s):l)}return r},solveQuadratic:function(e,t,i,s,a,u){var h,c,l=0,d=1/0,f=t;if(t/=2,c=t*t-e*i,n(c)<o){var p=Math.pow,g=p(n(e*t*i),1/3);if(1e-8>g){var m=p(10,n(Math.floor(Math.log(g)*Math.LOG10E)));isFinite(m)||(m=0),e*=m,t*=m,i*=m,c=t*t-e*i}}if(n(e)<o){if(n(f)<o)return n(i)<o?-1:0;h=-i/f}else if(c>=-o){c=0>c?0:c;var v=r(c);if(t>=o&&o>=t)h=n(e)>=n(i)?v/e:-i/v,d=-h;else{var _=-(t+(0>t?-1:1)*v);h=_/e,d=i/_}}return isFinite(h)&&(null==a||h>=a&&u>=h)&&(s[l++]=h),d!==h&&isFinite(d)&&(null==a||d>=a&&u>=d)&&(s[l++]=d),l},solveCubic:function(e,t,s,a,u,h,c){var l,f,p,g=0;if(0===e)e=t,f=s,p=a,l=1/0;else if(0===a)f=t,p=s,l=0;else{var m,v,_,y,x,b,w,S=1+o;if(l=-(t/e)/3,w=e*l,f=w+t,p=f*l+s,_=(w+f)*l+p,v=p*l+a,y=v/e,x=i(n(y),1/3),b=0>y?-1:1,y=-_/e,x=y>0?1.3247179572*Math.max(x,r(y)):x,m=l-b*x,m!==l){do if(l=m,w=e*l,f=w+t,p=f*l+s,_=(w+f)*l+p,v=p*l+a,m=0===_?l:l-v/_/S,m===l){l=m;break}while(b*m>b*l);n(e)*l*l>n(a/l)&&(p=-a/l,f=(p-s)/l)}}var g=d.solveQuadratic(e,f,p,u,h,c);return isFinite(l)&&(0===g||l!==u[g-1])&&(null==h||l>=h&&c>=l)&&(u[g++]=l),g}}},f=a.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var n=typeof e;if("number"===n){var r="number"==typeof t;this.x=e,this.y=r?t:e,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===e?(this.x=this.y=0,this.__read&&(this.__read=null===e?1:0)):(Array.isArray(e)?(this.x=e[0],this.y=e.length>1?e[1]:e[0]):null!=e.x?(this.x=e.x,this.y=e.y):null!=e.width?(this.x=e.width,this.y=e.height):null!=e.angle?(this.x=e.length,this.y=0,this.setAngle(e.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new f(this.x,this.y)},toString:function(){var e=c.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this.set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();d.isZero(n)&&this.getAngle(),this.set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=f.read(arguments),t=this.getLength()*e.getLength();if(d.isZero(t))return 0/0;var n=this.dot(e)/t;return Math.acos(-1>n?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this.set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=f.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=f.read(arguments),t=e.x-this.x,n=e.y-this.y,r=t*t+n*n,i=a.read(arguments);return i?r:Math.sqrt(r)},normalize:function(e){e===t&&(e=1);var n=this.getLength(),r=0!==n?e/n:0,i=new f(this.x*r,this.y*r);return r>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new f(n.x*i-n.y*r,n.x*r+n.y*i),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=f.read(arguments);return new f(this.x+e.x,this.y+e.y)},subtract:function(){var e=f.read(arguments);return new f(this.x-e.x,this.y-e.y)},multiply:function(){var e=f.read(arguments);return new f(this.x*e.x,this.y*e.y)},divide:function(){var e=f.read(arguments);return new f(this.x/e.x,this.y/e.y)},modulo:function(){var e=f.read(arguments);return new f(this.x%e.x,this.y%e.y)},negate:function(){return new f(-this.x,-this.y)},isInside:function(){return _.read(arguments).contains(this)},isClose:function(e,t){return this.getDistance(e)<t},isColinear:function(e){return Math.abs(this.cross(e))<1e-12},isOrthogonal:function(e){return Math.abs(this.dot(e))<1e-12},isZero:function(){return d.isZero(this.x)&&d.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},dot:function(){var e=f.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=f.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=f.read(arguments);if(e.isZero())return new f(0,0);var t=this.dot(e)/e.dot(e);return new f(e.x*t,e.y*t)},statics:{min:function(){var e=f.read(arguments),t=f.read(arguments);return new f(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=f.read(arguments),t=f.read(arguments);return new f(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new f(Math.random(),Math.random())}}},a.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new f(t(this.x),t(this.y))}},{})),p=f.extend({initialize:function(e,t,n,r){this._x=e,this._y=t,this._owner=n,this._setter=r},set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)}}),g=a.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var n=typeof e;if("number"===n){var r="number"==typeof t;this.width=e,this.height=r?t:e,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===e?(this.width=this.height=0,this.__read&&(this.__read=null===e?1:0)):(Array.isArray(e)?(this.width=e[0],this.height=e.length>1?e[1]:e[0]):null!=e.width?(this.width=e.width,this.height=e.height):null!=e.x?(this.width=e.x,this.height=e.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new g(this.width,this.height)},toString:function(){var e=c.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=g.read(arguments);return new g(this.width+e.width,this.height+e.height)},subtract:function(){var e=g.read(arguments);return new g(this.width-e.width,this.height-e.height)},multiply:function(){var e=g.read(arguments);return new g(this.width*e.width,this.height*e.height)},divide:function(){var e=g.read(arguments);return new g(this.width/e.width,this.height/e.height)},modulo:function(){var e=g.read(arguments);return new g(this.width%e.width,this.height%e.height)},negate:function(){return new g(-this.width,-this.height)},isZero:function(){return d.isZero(this.width)&&d.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new g(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new g(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new g(Math.random(),Math.random())}}},a.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new g(t(this.width),t(this.height))}},{})),v=g.extend({initialize:function(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r},set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),_=a.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,n,r,i){var s=typeof e,o=0;if("number"===s?(this.x=e,this.y=n,this.width=r,this.height=i,o=4):"undefined"===s||null===e?(this.x=this.y=this.width=this.height=0,o=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3],o=1):e.x!==t||e.width!==t?(this.x=e.x||0,this.y=e.y||0,this.width=e.width||0,this.height=e.height||0,o=1):e.from===t&&e.to===t&&(this.x=this.y=this.width=this.height=0,this._set(e),o=1)),!o){var u=f.readNamed(arguments,"from"),h=a.peek(arguments);

if(this.x=u.x,this.y=u.y,h&&h.x!==t||a.hasNamed(arguments,"to")){var c=f.readNamed(arguments,"to");this.width=c.x-u.x,this.height=c.y-u.y,this.width<0&&(this.x=c.x,this.width=-this.width),this.height<0&&(this.y=c.y,this.height=-this.height)}else{var l=g.read(arguments);this.width=l.width,this.height=l.height}o=arguments.__index}this.__read&&(this.__read=o)},set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},clone:function(){return new _(this.x,this.y,this.width,this.height)},equals:function(e){var t=a.isPlainValue(e)?_.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=c.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?f:p;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=f.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?g:v;return new t(this.width,this.height,this,"setSize")},setSize:function(){var e=g.read(arguments);this._fixX&&(this.x+=(this.width-e.width)*this._fixX),this._fixY&&(this.y+=(this.height-e.height)*this._fixY),this.width=e.width,this.height=e.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(e){this._fixW||(this.width-=e-this.x),this.x=e,this._fixX=0},getTop:function(){return this.y},setTop:function(e){this._fixH||(this.height-=e-this.y),this.y=e,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(e){this._fixX!==t&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=e-this.width:this.width=e-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(e){this._fixY!==t&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=e-this.height:this.height=e-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(e){this.x=e-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(e){this.y=e-.5*this.height,this._fixY=.5},getCenter:function(e){var t=e?f:p;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=f.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==t||4==(Array.isArray(e)?e:arguments).length?this._containsRectangle(_.read(arguments)):this._containsPoint(f.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=_.read(arguments);return e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x+this.width&&e.y<this.y+this.height},touches:function(){var e=_.read(arguments);return e.x+e.width>=this.x&&e.y+e.height>=this.y&&e.x<=this.x+this.width&&e.y<=this.y+this.height},intersect:function(){var e=_.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);return new _(t,n,r-t,i-n)},unite:function(){var e=_.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);return new _(t,n,r-t,i-n)},include:function(){var e=f.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);return new _(t,n,r-t,i-n)},expand:function(){var e=g.read(arguments),t=e.width,n=e.height;return new _(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,n){return this.expand(this.width*e-this.width,this.height*(n===t?e:n)-this.height)}},a.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),r=/^[RL]/.test(n);t>=4&&(e[1]+=r?"Y":"X");var i=e[r?0:1],s=e[r?1:0],a="get"+i,o="get"+s,u="set"+i,h="set"+s,c="get"+n,l="set"+n;this[c]=function(e){var t=e?f:p;return new t(this[a](),this[o](),this,l)},this[l]=function(){var e=f.read(arguments);this[u](e.x),this[h](e.y)}},{beans:!0})),y=_.extend({initialize:function(e,t,n,r,i,s){this.set(e,t,n,r,!0),this._owner=i,this._setter=s},set:function(e,t,n,r,i){return this._x=e,this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var e=_.prototype;return a.each(["x","y","width","height"],function(e){var t=a.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},a.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected},setSelected:function(e){var t=this._owner;t.setSelected&&(t._boundsSelected=e,t.setSelected(e||t._selectedSegmentState>0))}}))}),x=a.extend({_class:"Matrix",initialize:function ce(e){var t=arguments.length,n=!0;if(6===t?this.set.apply(this,arguments):1===t?e instanceof ce?this.set(e._a,e._c,e._b,e._d,e._tx,e._ty):Array.isArray(e)?this.set.apply(this,e):n=!1:0===t?this.reset():n=!1,!n)throw new Error("Unsupported matrix parameters")},set:function(e,t,n,r,i,s,a){return this._a=e,this._c=t,this._b=n,this._d=r,this._tx=i,this._ty=s,a||this._changed(),this},_serialize:function(e){return a.serialize(this.getValues(),e)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(9))},clone:function(){return new x(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty||!1},toString:function(){var e=c.instance;return"[["+[e.number(this._a),e.number(this._b),e.number(this._tx)].join(", ")+"], ["+[e.number(this._c),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return n?(n.transform(null,!0,a.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=f.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._b,this._ty+=t*this._c+n*this._d,this._changed(),this},scale:function(){var e=f.read(arguments),t=f.read(arguments,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._c*=e.x,this._b*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=f.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),s=Math.sin(e),a=n-n*i+r*s,o=r-n*s-r*i,u=this._a,h=this._b,c=this._c,l=this._d;return this._a=i*u+s*h,this._b=-s*u+i*h,this._c=i*c+s*l,this._d=-s*c+i*l,this._tx+=a*u+o*h,this._ty+=a*c+o*l,this._changed(),this},shear:function(){var e=f.read(arguments),t=f.read(arguments,0,{readNull:!0});t&&this.translate(t);var n=this._a,r=this._c;return this._a+=e.y*this._b,this._c+=e.y*this._d,this._b+=e.x*n,this._d+=e.x*r,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var e=f.read(arguments),t=f.read(arguments,0,{readNull:!0}),n=Math.PI/180,r=new f(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(r,t)},concatenate:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,s=e._a,a=e._b,o=e._c,u=e._d,h=e._tx,c=e._ty;return this._a=s*t+o*n,this._b=a*t+u*n,this._c=s*r+o*i,this._d=a*r+u*i,this._tx+=h*t+c*n,this._ty+=h*r+c*i,this._changed(),this},preConcatenate:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,s=this._tx,a=this._ty,o=e._a,u=e._b,h=e._c,c=e._d,l=e._tx,d=e._ty;return this._a=o*t+u*r,this._b=o*n+u*i,this._c=h*t+c*r,this._d=h*n+c*i,this._tx=o*s+u*a+l,this._ty=h*s+c*a+d,this._changed(),this},chain:function(e){var t=this._a,n=this._b,r=this._c,i=this._d,s=this._tx,a=this._ty,o=e._a,u=e._b,h=e._c,c=e._d,l=e._tx,d=e._ty;return new x(o*t+h*n,o*r+h*i,u*t+c*n,u*r+c*i,s+l*t+d*n,a+l*r+d*i)},isIdentity:function(){return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty},orNullIfIdentity:function(){return this.isIdentity()?null:this},isInvertible:function(){return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(f.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return t||(t=new f),t.set(r*this._a+i*this._b+this._tx,r*this._c+i*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var r=0,i=0,s=2*n;s>r;){var a=e[r++],o=e[r++];t[i++]=a*this._a+o*this._b+this._tx,t[i++]=a*this._c+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,s=[t,n,r,n,r,i,t,i];return this._transformCoordinates(s,s,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),s=r.slice(),a=2;8>a;a++){var o=r[a],u=1&a;o<i[u]?i[u]=o:o>s[u]&&(s[u]=o)}return t||(t=new _),t.set(i[0],i[1],s[0]-i[0],s[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(f.read(arguments))},_getDeterminant:function(){var e=this._a*this._d-this._b*this._c;return isFinite(e)&&!d.isZero(e)&&isFinite(this._tx)&&isFinite(this._ty)?e:null},_inverseTransform:function(e,t,n){var r=this._getDeterminant();if(!r)return null;var i=e.x-this._tx,s=e.y-this._ty;return t||(t=new f),t.set((i*this._d-s*this._b)/r,(s*this._a-i*this._c)/r,n)},decompose:function(){var e=this._a,t=this._b,n=this._c,r=this._d;if(d.isZero(e*r-t*n))return null;var i=Math.sqrt(e*e+t*t);e/=i,t/=i;var s=e*n+t*r;n-=e*s,r-=t*s;var a=Math.sqrt(n*n+r*r);return n/=a,r/=a,s/=a,t*n>e*r&&(e=-e,t=-t,s=-s,i=-i),{scaling:new f(i,a),rotation:180*-Math.atan2(t,e)/Math.PI,shearing:s}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty]},getTranslation:function(){return new f(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},inverted:function(){var e=this._getDeterminant();return e&&new x(this._d/e,-this._c/e,-this._b/e,this._a/e,(this._b*this._ty-this._d*this._tx)/e,(this._c*this._tx-this._a*this._ty)/e)},shiftless:function(){return new x(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(e){e.transform(this._a,this._c,this._b,this._d,this._tx,this._ty)}},a.each(["a","c","b","d","tx","ty"],function(e){var t=a.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}},{})),b=a.extend({_class:"Line",initialize:function(e,t,n,r,i){var s=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=r,s=i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,s=n),s||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new f(this._px,this._py)},getVector:function(){return new f(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return b.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e){return b.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},getDistance:function(e){return Math.abs(b.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0))},statics:{intersect:function(e,t,n,r,i,s,a,o,u,h){u||(n-=e,r-=t,a-=i,o-=s);var c=n*o-r*a;if(!d.isZero(c)){var l=e-i,p=t-s,g=(a*p-o*l)/c,m=(n*p-r*l)/c;if(h||g>=0&&1>=g&&m>=0&&1>=m)return new f(e+g*n,t+g*r)}},getSide:function(e,t,n,r,i,s,a){a||(n-=e,r-=t);var o=i-e,u=s-t,h=o*r-u*n;return 0===h&&(h=o*n+u*r,h>0&&(o-=n,u-=r,h=o*n+u*r,0>h&&(h=0))),0>h?-1:h>0?1:0},getSignedDistance:function(e,t,n,r,i,s,a){return a||(n-=e,r-=t),d.isZero(n)?r>=0?e-i:i-e:d.isZero(r)?n>=0?s-t:t-s:(n*(s-t)-r*(i-e))/Math.sqrt(n*n+r*r)}}}),w=h.extend({_class:"Project",_list:"projects",_reference:"project",initialize:function(e){h.call(this,!0),this.layers=[],this._activeLayer=null,this.symbols=[],this._currentStyle=new V(null,null,this),this._view=$.create(this,e||re.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,this._updateVersion=0},_serialize:function(e,t){return a.serialize(this.layers,e,!0,t)},clear:function(){for(var e=this.layers.length-1;e>=0;e--)this.layers[e].remove();this.symbols=[]},isEmpty:function(){return 0===this.layers.length},remove:function le(){return le.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.initialize(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getActiveLayer:function(){return this._activeLayer||new O({project:this})},getSelectedItems:function(){var e=[];for(var t in this._selectedItems){var n=this._selectedItems[t];n.isInserted()&&e.push(n)}return e},insertChild:function(e,t,n){return t instanceof O?(t._remove(!1,!0),a.splice(this.layers,[t],e,0),t._setProject(this,!0),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)):t instanceof C?(this._activeLayer||this.insertChild(e,new O(C.NO_INSERT))).insertChild(e,t,n):t=null,t},addChild:function(e,n){return this.insertChild(t,e,n)},_updateSelection:function(e){var t=e._id,n=this._selectedItems;e._selected?n[t]!==e&&(this._selectedItemCount++,n[t]=e):n[t]===e&&(this._selectedItemCount--,delete n[t])},selectAll:function(){for(var e=this.layers,t=0,n=e.length;n>t;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectedItems;for(var t in e)e[t].setFullySelected(!1)},hitTest:function(){for(var e=f.read(arguments),t=I.getOptions(a.read(arguments)),n=this.layers.length-1;n>=0;n--){var r=this.layers[n]._hitTest(e,t);if(r)return r}return null},getItems:function(e){return C._getItems(this.layers,e)},getItem:function(e){return C._getItems(this.layers,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return a.importJSON(e,t&&t.isEmpty()&&t)},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var r=new a({offset:new f(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new x],updateMatrix:!0}),i=0,s=this.layers,o=s.length;o>i;i++)s[i].draw(e,r);if(e.restore(),this._selectedItemCount>0){e.save(),e.strokeWidth=1;var u=this._selectedItems,h=this._scope.settings.handleSize,c=this._updateVersion;for(var l in u)u[l]._drawSelection(e,t,h,u,c);e.restore()}}}),S=a.extend({_class:"Symbol",initialize:function de(e,t){this._id=de._id=(de._id||0)+1,this.project=s.project,this.project.symbols.push(this),e&&this.setDefinition(e,t)},_serialize:function(e,t){return t.add(this,function(){return a.serialize([this._class,this._definition],e,!1,t)})},_changed:function(e){8&e&&C._clearBoundsCache(this),1&e&&(this.project._needsUpdate=!0)},getDefinition:function(){return this._definition},setDefinition:function(e,t){e._parentSymbol&&(e=e.clone()),this._definition&&(this._definition._parentSymbol=null),this._definition=e,e.remove(),e.setSelected(!1),t||e.setPosition(new f),e._parentSymbol=this,this._changed(9)},place:function(e){return new A(this,e)},clone:function(){return new S(this._definition.clone(!1))},equals:function(e){return e===this||e&&this.definition.equals(e.definition)||!1}}),C=a.extend(o,{statics:{extend:function fe(e){return e._serializeFields&&(e._serializeFields=new a(this.prototype._serializeFields,e._serializeFields)),fe.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,_canApplyMatrix:!0,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new x,pivot:null,locked:!1,visible:!0,blendMode:"normal",opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(e,t){var n=e&&a.isPlainObject(e),r=n&&e.internal===!0,i=this._matrix=new x,o=n&&e.project||s.project;return r||(this._id=C._id=(C._id||0)+1),this._applyMatrix=this._canApplyMatrix&&s.settings.applyMatrix,t&&i.translate(t),i._owner=this,this._style=new V(o._currentStyle,this,o),this._project||(r||n&&e.insert===!1?this._setProject(o):n&&e.parent?this.setParent(e.parent):(o._activeLayer||new O).addChild(this)),n&&e!==C.NO_INSERT&&this._set(e,{insert:!0,parent:!0},!0),n},_events:new function(){var e={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},t={install:function(t){var n=this.getView()._eventCounters;if(n)for(var r in e)n[r]=(n[r]||0)+(e[r][t]||0)},uninstall:function(t){var n=this.getView()._eventCounters;if(n)for(var r in e)n[r]-=e[r][t]||0}};return a.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(e){this[e]=t},{onFrame:{install:function(){this._animateItem(!0)},uninstall:function(){this._animateItem(!1)}},onLoad:{}})},_animateItem:function(e){this.getView()._animateItem(this,e)},_serialize:function(e,t){function n(n){for(var s in n){var o=i[s];a.equals(o,"leading"===s?1.2*n.fontSize:n[s])||(r[s]=a.serialize(o,e,"data"!==s,t))}}var r={},i=this;return n(this._serializeFields),this instanceof T||n(this._style._defaults),[this._class,r]},_changed:function(e){var n=this._parentSymbol,r=this._parent||n,i=this._project;if(8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=this._currentPath=t),r&&40&e&&C._clearBoundsCache(r),2&e&&C._clearBoundsCache(this),i&&(1&e&&(i._needsUpdate=!0),i._changes)){var s=i._changesById[this._id];s?s.flags|=e:(s={item:this,flags:e},i._changesById[this._id]=s,i._changes.push(s))}n&&n._changed(e)},set:function(e){return e&&this._set(e),this},getId:function(){return this._id},getName:function(){return this._name},setName:function(e,n){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._parent;if(e&&r){for(var i=r._children,s=r._namedChildren,a=e,o=1;n&&i[e];)e=a+" "+o++;(s[e]=s[e]||[]).push(this),i[e]=this}this._name=e||t,this._changed(128)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},a.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=a.capitalize(e),e="_"+e;this["get"+t]=function(){return this[e]},this["set"+t]=function(t){t!=this[e]&&(this[e]=t,this._changed("_locked"===e?128:129))}},{}),{beans:!0,_locked:!1,_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;n>t;t++)if(e[t].isSelected())return!0;return this._selected},setSelected:function(e,t){if(!t&&this._selectChildren)for(var n=this._children,r=0,i=n.length;i>r;r++)n[r].setSelected(e);(e=!!e)^this._selected&&(this._selected=e,this._project._updateSelection(this),this._changed(129))},_selected:!1,isFullySelected:function(){var e=this._children;if(e&&this._selected){for(var t=0,n=e.length;n>t;t++)if(!e[t].isFullySelected())return!1;return!0}return this._selected},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,r=t.length;r>n;n++)t[n].setFullySelected(e);this.setSelected(e,!0)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=this._position,n=e?f:p;if(!t){var r=this._pivot;t=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0)}return new n(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(f.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(e){var t=this._pivot;if(t){var n=e?f:p;t=new n(t.x,t.y,this,"setPivot")}return t},setPivot:function(){this._pivot=f.read(arguments),this._position=t},_pivot:null,getRegistration:"#getPivot",setRegistration:"#setPivot"},a.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalRoughBounds"],function(e){var t="get"+a.capitalize(e),n=e.match(/^internal(.*)$/),r=n?"get"+n[1]:null;this[t]=function(n){var i=this._boundsGetter,s=!r&&("string"==typeof i?i:i&&i[t])||t,a=this._getCachedBounds(s,n,this,r);return"bounds"===e?new y(a.x,a.y,a.width,a.height,this,"setBounds"):a}},{beans:!0,_getBounds:function(e,t,n){var r=this._children;if(!r||0==r.length)return new _;for(var i=1/0,s=-i,a=i,o=s,u=0,h=r.length;h>u;u++){var c=r[u];if(c._visible&&!c.isEmpty()){var l=c._getCachedBounds(e,t&&t.chain(c._matrix),n);i=Math.min(l.x,i),a=Math.min(l.y,a),s=Math.max(l.x+l.width,s),o=Math.max(l.y+l.height,o)}}return isFinite(i)?new _(i,a,s-i,o-a):new _},setBounds:function(){var e=_.read(arguments),t=this.getBounds(),n=new x,r=e.getCenter();n.translate(r),(e.width!=t.width||e.height!=t.height)&&n.scale(0!=t.width?e.width/t.width:1,0!=t.height?e.height/t.height:1),r=t.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getCachedBounds:function(e,t,n,r){t=t&&t.orNullIfIdentity();var i=r?null:this._matrix.orNullIfIdentity(),s=(!t||t.equals(i))&&e,a=this._parent||this._parentSymbol;if(a){var o=n._id,u=a._boundsCache=a._boundsCache||{ids:{},list:[]};u.ids[o]||(u.list.push(n),u.ids[o]=n)}if(s&&this._bounds&&this._bounds[s])return this._bounds[s].clone();var h=this._getBounds(r||e,t||i,n);if(s){this._bounds||(this._bounds={});var c=this._bounds[s]=h.clone();c._internal=!!r}return h},statics:{_clearBoundsCache:function(e){var n=e._boundsCache;if(n){e._bounds=e._position=e._boundsCache=t;for(var r=0,i=n.list,s=i.length;s>r;r++){var a=i[r];a!==e&&(a._bounds=a._position=t,a._boundsCache&&C._clearBoundsCache(a))}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose()},getRotation:function(){var e=this._decomposed||this._decompose();return e&&e.rotation},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n.rotation=e,this._decomposed=n}},getScaling:function(e){var t=this._decomposed||this._decompose(),n=t&&t.scaling,r=e?f:p;return n&&new r(n.x,n.y,this,"setScaling")},setScaling:function(){var e=this.getScaling();if(e){var t=f.read(arguments,0,{clone:!0}),n=this._decomposed;this.scale(t.x/e.x,t.y/e.y),n.scaling=t,this._decomposed=n}},getMatrix:function(){return this._matrix},setMatrix:function(e){this._matrix.initialize(e),this._applyMatrix?this.transform(null,!0):this._changed(9)},getGlobalMatrix:function(e){var t=this._globalMatrix,n=this._project._updateVersion;if(t&&t._updateVersion!==n&&(t=null),!t){t=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&t.preConcatenate(r.getGlobalMatrix(!0)),t._updateVersion=n}return e?t:t.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,r=0,i=n&&n.length;i>r;r++)n[r]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project.getView()},_installEvents:function pe(e){pe.base.call(this,e);for(var t=this._children,n=0,r=t&&t.length;r>n;n++)t[n]._installEvents(e)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof O)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){return this._parent&&this._parent._children[this._index+1]||null},getPreviousSibling:function(){return this._parent&&this._parent._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return a.equals(this._children,e._children)},clone:function(e){return this._clone(new this.constructor(C.NO_INSERT),e)},_clone:function(e,n){if(e.setStyle(this._style),this._children)for(var r=0,i=this._children.length;i>r;r++)e.addChild(this._children[r].clone(!1),!0);(n||n===t)&&e.insertAbove(this);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide","_applyMatrix"],r=0,i=s.length;i>r;r++){var o=s[r];this.hasOwnProperty(o)&&(e[o]=this[o])}return e._matrix.initialize(this._matrix),e._data=this._data?a.clone(this._data):null,e.setSelected(this._selected),this._name&&e.setName(this._name,!0),e},copyTo:function(e){return e.addChild(this.clone(!1))},rasterize:function(e){var t=this.getStrokeBounds(),n=(e||this.getView().getResolution())/72,r=t.getTopLeft().floor(),i=t.getBottomRight().ceil(),s=new g(i.subtract(r)),o=re.getCanvas(s.multiply(n)),u=o.getContext("2d"),h=(new x).scale(n).translate(r.negate());u.save(),h.applyToContext(u),this.draw(u,new a({matrices:[h]})),u.restore();var c=new P(C.NO_INSERT);return c.setCanvas(o),c.transform((new x).translate(r.add(s.divide(2))).scale(1/n)),c.insertAbove(this),c},contains:function(){return!!this._contains(this._matrix._inverseTransform(f.read(arguments)))},_contains:function(e){if(this._children){for(var t=this._children.length-1;t>=0;t--)if(this._children[t].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return _.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new D.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof C?this._asPathItem().getIntersections(e._asPathItem(),t||e._matrix).length>0:!1},hitTest:function(){return this._hitTest(f.read(arguments),I.getOptions(a.read(arguments)))},_hitTest:function(e,t){function n(t,n){var r=d["get"+n]();return e.subtract(r).divide(u).length<=1?new I(t,l,{name:a.hyphenate(n),point:r}):void 0}if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var r=this._matrix,i=t._totalMatrix,s=this.getView(),o=t._totalMatrix=i?i.chain(r):this.getGlobalMatrix().preConcatenate(s._matrix),u=t._tolerancePadding=new g(D._getPenPadding(1,o.inverted())).multiply(Math.max(t.tolerance,1e-6));if(e=r._inverseTransform(e),!this._children&&!this.getInternalRoughBounds().expand(u.multiply(2))._containsPoint(e))return null;var h,c=!(t.guides&&!this._guide||t.selected&&!this._selected||t.type&&t.type!==a.hyphenate(this._class)||t["class"]&&!(this instanceof t["class"])),l=this;if(c&&(t.center||t.bounds)&&this._parent){var d=this.getInternalBounds();if(t.center&&(h=n("center","Center")),!h&&t.bounds)for(var f=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],p=0;8>p&&!h;p++)h=n("bounds",f[p])}var m=!h&&this._children;if(m)for(var v=this._getChildHitTestOptions(t),p=m.length-1;p>=0&&!h;p--)h=m[p]._hitTest(e,v);return!h&&c&&(h=this._hitTestSelf(e,t)),h&&h.point&&(h.point=r.transform(h.point)),t._totalMatrix=i,h},_getChildHitTestOptions:function(e){return e},_hitTestSelf:function(e,t){return t.fill&&this.hasFill()&&this._contains(e)?new I("fill",this):void 0},matches:function(e,t){function n(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],s=t[r];if(a.isPlainObject(i)&&a.isPlainObject(s)){if(!n(i,s))return!1}else if(!a.equals(i,s))return!1}return!0}if("object"==typeof e){for(var r in e)if(e.hasOwnProperty(r)&&!this.matches(r,e[r]))return!1}else{var i=/^(empty|editable)$/.test(e)?this["is"+a.capitalize(e)]():"type"===e?a.hyphenate(this._class):this[e];if(/^(constructor|class)$/.test(e)){if(!(this instanceof t))return!1}else if(t instanceof RegExp){if(!t.test(i))return!1}else if("function"==typeof t){if(!t(i))return!1}else if(a.isPlainObject(t)){if(!n(t,i))return!1}else if(!a.equals(i,t))return!1}return!0},getItems:function(e){return C._getItems(this._children,e,this._matrix)},getItem:function(e){return C._getItems(this._children,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function ge(e,t,n,r,i){if(!r){var s=t.overlapping,o=t.inside,u=s||o,h=u&&_.read([u]);r={items:[],inside:h,overlapping:s&&new D.Rectangle({rectangle:h,insert:!1})},u&&(t=a.set({},t,{inside:!0,overlapping:!0}))}var c=r.items,o=r.inside,s=r.overlapping;n=o&&(n||new x);for(var l=0,d=e&&e.length;d>l;l++){var f=e[l],p=n&&n.chain(f._matrix),g=!0;if(o){var u=f.getBounds(p);if(!o.intersects(u))continue;o&&o.contains(u)||s&&s.intersects(f,p)||(g=!1)}if(g&&f.matches(t)&&(c.push(f),i))break;if(ge(f._children,t,p,r,i),i&&c.length>0)break}return c}}},{importJSON:function(e){var t=a.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e,n){return this.insertChild(t,e,n)},insertChild:function(e,t,n){var r=t?this.insertChildren(e,[t],n):null;return r&&r[0]},addChildren:function(e,t){return this.insertChildren(this._children.length,e,t)},insertChildren:function(e,t,n,r){var i=this._children;if(i&&t&&t.length>0){t=Array.prototype.slice.apply(t);for(var s=t.length-1;s>=0;s--){var o=t[s];if(!r||o instanceof r){var u=o._parent===this&&o._index<e;o._remove(!1,!0)&&u&&e--}else t.splice(s,1)}a.splice(i,t,e,0);for(var h=this._project,c=h&&h._changes,s=0,l=t.length;l>s;s++){var o=t[s];o._parent=this,o._setProject(this._project,!0),o._name&&o.setName(o._name),c&&this._changed(5)}this._changed(11)}else t=null;return t},_insertSibling:function(e,t,n){return this._parent?this._parent.insertChild(e,t,n):null},insertAbove:function(e,t){return e._insertSibling(e._index+1,this,t)},insertBelow:function(e,t){return e._insertSibling(e._index,this,t)},sendToBack:function(){return(this._parent||this instanceof O&&this._project).insertChild(0,this)},bringToFront:function(){return(this._parent||this instanceof O&&this._project).addChild(this)},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",reduce:function(){if(this._children&&1===this._children.length){var e=this._children[0].reduce();return e.insertAbove(this),e.setStyle(this._style),this.remove(),e}return this},_removeNamed:function(){var e=this._parent;if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],s=i?i.indexOf(this):-1;-1!==s&&(t[r]==this&&delete t[r],i.splice(s,1),i.length?t[r]=i[i.length-1]:delete n[r])}},_remove:function(e,t){var n=this._parent;if(n){if(this._name&&this._removeNamed(),null!=this._index&&a.splice(n._children,null,this._index,1),this._installEvents(!1),e){var r=this._project;r&&r._changes&&this._changed(5)}return t&&n._changed(11),this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=a.pick(t,this._children.length);for(var n=a.splice(this._children,null,e,t-e),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();

for(var e=0,t=this._children.length;t>e;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(e){var t=[];do t.unshift(e);while(e=e._parent);return t}for(var n=t(this),r=t(e),i=0,s=Math.min(n.length,r.length);s>i;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t==e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1},translate:function(){var e=new x;return this.transform(e.translate.apply(e,arguments))},rotate:function(e){return this.transform((new x).rotate(e,f.read(arguments,1,{readNull:!0})||this.getPosition(!0)))}},a.each(["scale","shear","skew"],function(e){this[e]=function(){var t=f.read(arguments),n=f.read(arguments,0,{readNull:!0});return this.transform((new x)[e](t,n||this.getPosition(!0)))}},{}),{transform:function(e,t,n,r){e&&e.isIdentity()&&(e=null);var i=this._matrix,s=(t||this._applyMatrix)&&(!i.isIdentity()||e||t&&n&&this._children);if(!e&&!s)return this;if(e&&i.preConcatenate(e),s=s&&this._transformContent(i,n,r)){var a=this._pivot,o=this._style,u=o.getFillColor(!0),h=o.getStrokeColor(!0);a&&i._transformPoint(a,a,!0),u&&u.transform(i),h&&h.transform(i),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,l=this._position;this._changed(9);var d=c&&e&&e.decompose();if(d&&!d.shearing&&d.rotation%90===0){for(var f in c){var p=c[f];(s||!p._internal)&&e._transformBounds(p,p)}var g=this._boundsGetter,p=c[g&&g.getBounds||g||"getBounds"];p&&(this._position=p.getCenter(!0)),this._bounds=c}else e&&l&&(this._position=e._transformPoint(l,l));return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,s=r.length;s>i;i++)r[i].transform(e,!0,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(f.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(f.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(f.read(arguments))},localToParent:function(){return this._matrix._transformPoint(f.read(arguments))},fitBounds:function(e,t){e=_.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,s=(t?r>i:i>r)?e.width/n.width:e.height/n.height,a=new _(new f,new g(n.width*s,n.height*s));a.setCenter(e.getCenter()),this.setBounds(a)},_setStyles:function(e){var t=this._style,n=t.getFillColor(),r=t.getStrokeColor(),i=t.getShadowColor();if(n&&(e.fillStyle=n.toCanvasStyle(e)),r){var a=t.getStrokeWidth();if(a>0){e.strokeStyle=r.toCanvasStyle(e),e.lineWidth=a;var o=t.getStrokeJoin(),u=t.getStrokeCap(),h=t.getMiterLimit();if(o&&(e.lineJoin=o),u&&(e.lineCap=u),h&&(e.miterLimit=h),s.support.nativeDash){var c=t.getDashArray(),l=t.getDashOffset();c&&c.length&&("setLineDash"in e?(e.setLineDash(c),e.lineDashOffset=l):(e.mozDash=c,e.mozDashOffset=l))}}}if(i){var d=t.getShadowBlur();if(d>0){e.shadowColor=i.toCanvasStyle(e),e.shadowBlur=d;var f=this.getShadowOffset();e.shadowOffsetX=f.x,e.shadowOffsetY=f.y}}},draw:function(e,t,n){function r(e){return a?a.chain(e):e}var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var s=t.matrices,a=t.viewMatrix,o=this._matrix,u=s[s.length-1].chain(o);if(u.isInvertible()){s.push(u),t.updateMatrix&&(u._updateVersion=i,this._globalMatrix=u);var h,c,l,d=this._blendMode,f=this._opacity,p="normal"===d,g=ie.nativeModes[d],m=p&&1===f||t.dontStart||t.clip||(g||p&&1>f)&&this._canComposite(),v=t.pixelRatio;if(!m){var _=this.getStrokeBounds(r(u));if(!_.width||!_.height)return;l=t.offset,c=t.offset=_.getTopLeft().floor(),h=e,e=re.getContext(_.getSize().ceil().add(1).multiply(v)),1!==v&&e.scale(v,v)}e.save();var y=n?n.chain(o):!this.getStrokeScaling(!0)&&r(u),x=!m&&t.clipItem,b=!y||x;if(m?(e.globalAlpha=f,g&&(e.globalCompositeOperation=d)):b&&e.translate(-c.x,-c.y),b&&(m?o:r(u)).applyToContext(e),x&&t.clipItem.draw(e,t.extend({clip:!0})),y){e.setTransform(v,0,0,v,0,0);var w=t.offset;w&&e.translate(-w.x,-w.y)}this._draw(e,t,y),e.restore(),s.pop(),t.clip&&!t.dontFinish&&e.clip(),m||(ie.process(d,e,h,f,c.subtract(l).multiply(v)),re.release(e),t.offset=l)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof U)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){if((this._drawSelected||this._boundsSelected)&&this._isUpdated(i)){var s=this.getSelectedColor(!0)||this.getLayer().getSelectedColor(!0),a=t.chain(this.getGlobalMatrix(!0));if(e.strokeStyle=e.fillStyle=s?s.toCanvasStyle(e):"#009dec",this._drawSelected&&this._drawSelected(e,a,r),this._boundsSelected){var o=n/2;coords=a._transformCorners(this.getInternalBounds()),e.beginPath();for(var u=0;8>u;u++)e[0===u?"moveTo":"lineTo"](coords[u],coords[++u]);e.closePath(),e.stroke();for(var u=0;8>u;u++)e.fillRect(coords[u]-o,coords[++u]-o,n,n)}}},_canComposite:function(){return!1}},a.each(["down","drag","up","move"],function(e){this["removeOn"+a.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}})),T=C.extend({_class:"Group",_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function me(e){me.base.call(this,e),1026&e&&(this._clipItem=t)},_getClipItem:function(){var e=this._clipItem;if(e===t){e=null;for(var n=0,r=this._children.length;r>n;n++){var i=this._children[n];if(i._clipMask){e=i;break}}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_draw:function(e,t){var n=t.clip,r=!n&&this._getClipItem(),i=!0;if(t=t.extend({clipItem:r,clip:!1}),n?this._currentPath?(e.currentPath=this._currentPath,i=!1):(e.beginPath(),t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0})),i)for(var s=0,a=this._children.length;a>s;s++){var o=this._children[s];o!==r&&o.draw(e,t)}n&&(this._currentPath=e.currentPath)}}),O=T.extend({_class:"Layer",initialize:function(e){var n=a.isPlainObject(e)?new a(e):{children:Array.isArray(e)?e:arguments},r=n.insert;n.insert=!1,T.call(this,n),(r||r===t)&&(this._project.addChild(this),this.activate())},_remove:function ve(e,t){if(this._parent)return ve.base.call(this,e,t);if(null!=this._index){var n=this._project;return n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),a.splice(n.layers,null,this._index,1),this._installEvents(!1),e&&n._changes&&this._changed(5),t&&(n._needsUpdate=!0),!0}return!1},getNextSibling:function _e(){return this._parent?_e.base.call(this):this._project.layers[this._index+1]||null},getPreviousSibling:function ye(){return this._parent?ye.base.call(this):this._project.layers[this._index-1]||null},isInserted:function xe(){return this._parent?xe.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_insertSibling:function be(e,t,n){return this._parent?be.base.call(this,e,t,n):this._project.insertChild(e,t,n)}}),M=C.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e){this._initialize(e)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&a.equals(this._radius,e._radius)},clone:function(e){var t=new M(C.NO_INSERT);return t.setType(this._type),t.setSize(this._size),t.setRadius(this._radius),this._clone(t,e)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new v(e.width,e.height,this,"setSize")},setSize:function(){var e=g.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,r=e.height;if("rectangle"===t){var i=g.min(this._radius,e.divide(2));this._radius.set(i.width,i.height)}else"circle"===t?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===t&&this._radius.set(n/2,r/2);this._size.set(n,r),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new v(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size.set(n,n)}else if(e=g.read(arguments),this._radius){if(this._radius.equals(e))return;if(this._radius.set(e.width,e.height),"rectangle"===t){var n=g.max(this._size,e.multiply(2));this._size.set(n.width,n.height)}else"ellipse"===t&&this._size.set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var n=new(D[a.capitalize(this._type)])({center:new f,size:this._size,radius:this._radius,insert:!1});return n.setStyle(this._style),n.transform(this._matrix),(e||e===t)&&n.insertAbove(this),n},_draw:function(e,t,n){var r=this._style,i=r.hasFill(),s=r.hasStroke(),a=t.dontFinish||t.clip,o=!n;if(i||s||a){var u=this._type,h=this._radius,c="circle"===u;if(t.dontStart||e.beginPath(),o&&c)e.arc(0,0,h,0,2*Math.PI,!0);else{var l=c?h:h.width,d=c?h:h.height,f=this._size,p=f.width,g=f.height;if(o&&"rect"===u&&0===l&&0===d)e.rect(-p/2,-g/2,p,g);else{var m=p/2,v=g/2,_=.44771525016920644,y=l*_,x=d*_,b=[-m,-v+d,-m,-v+x,-m+y,-v,-m+l,-v,m-l,-v,m-y,-v,m,-v+x,m,-v+d,m,v-d,m,v-x,m-y,v,m-l,v,-m+l,v,-m+y,v,-m,v-x,-m,v-d];n&&n.transform(b,b,32),e.moveTo(b[0],b[1]),e.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]),m!==l&&e.lineTo(b[8],b[9]),e.bezierCurveTo(b[10],b[11],b[12],b[13],b[14],b[15]),v!==d&&e.lineTo(b[16],b[17]),e.bezierCurveTo(b[18],b[19],b[20],b[21],b[22],b[23]),m!==l&&e.lineTo(b[24],b[25]),e.bezierCurveTo(b[26],b[27],b[28],b[29],b[30],b[31])}}e.closePath()}a||!i&&!s||(this._setStyles(e),i&&(e.fill(r.getWindingRule()),e.shadowColor="rgba(0,0,0,0)"),s&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new _(this._size).setCenter(0,0);return"getBounds"!==e&&this.hasStroke()&&(n=n.expand(this.getStrokeWidth())),t?t._transformBounds(n):n}},new function(){function e(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),s=0;4>s;s++){var a=new f(1&s?1:-1,s>1?1:-1),o=a.multiply(i),u=o.subtract(a.multiply(r)),h=new _(o,u);if((n?h.expand(n):h).contains(t))return u}}function t(e,t){var n=e.getAngleInRadians(),r=2*t.width,i=2*t.height,s=r*Math.sin(n),a=i*Math.cos(n);return r*i/(2*Math.sqrt(s*s+a*a))}return{_contains:function n(t){if("rectangle"===this._type){var r=e(this,t);return r?t.subtract(r).divide(this._radius).getLength()<=1:n.base.call(this,t)}return t.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,i){var s=!1;if(this.hasStroke()){var a=this._type,o=this._radius,u=this.getStrokeWidth()+2*i.tolerance;if("rectangle"===a){var h=e(this,n,u);if(h){var c=n.subtract(h);s=2*Math.abs(c.getLength()-t(c,o))<=u}else{var l=new _(this._size).setCenter(0,0),d=l.expand(u),f=l.expand(-u);s=d._containsPoint(n)&&!f._containsPoint(n)}}else"ellipse"===a&&(o=t(n,o)),s=2*Math.abs(n.getLength()-o)<=u}return s?new I("stroke",this):r.base.apply(this,arguments)}}},{statics:new function(){function e(e,t,n,r,i){var s=new M(a.getNamed(i));return s._type=e,s._size=n,s._radius=r,s.translate(t)}return{Circle:function(){var t=f.readNamed(arguments,"center"),n=a.readNamed(arguments,"radius");return e("circle",t,new g(2*n),n,arguments)},Rectangle:function(){var t=_.readNamed(arguments,"rectangle"),n=g.min(g.readNamed(arguments,"radius"),t.getSize(!0).divide(2));return e("rectangle",t.getCenter(!0),t.getSize(!0),n,arguments)},Ellipse:function(){var t=M._readEllipse(arguments),n=t.radius;return e("ellipse",t.center,n.multiply(2),n,arguments)},_readEllipse:function(e){var t,n;if(a.hasNamed(e,"radius"))t=f.readNamed(e,"center"),n=g.readNamed(e,"radius");else{var r=_.readNamed(e,"rectangle");t=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),P=C.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{source:null},initialize:function(e,n){this._initialize(e,n!==t&&f.read(arguments,1))||("string"==typeof e?this.setSource(e):this.setImage(e)),this._size||(this._size=new g,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},clone:function(e){var t=new P(C.NO_INSERT),n=this._image,r=this._canvas;if(n)t.setImage(n);else if(r){var i=re.getCanvas(this._size);i.getContext("2d").drawImage(r,0,0),t.setImage(i)}return this._clone(t,e)},getSize:function(){var e=this._size;return new v(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(){var e=g.read(arguments);if(!e.equals(this._size))if(e.width>0&&e.height>0){var t=this.getElement();this.setImage(re.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height)}else this._canvas&&re.release(this._canvas),this._size=e.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new f(0,0).transform(e),n=new f(1,0).transform(e).subtract(t),r=new f(0,1).transform(e).subtract(t);return new g(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){this._canvas&&re.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=e&&e.complete),this._size=new g(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var e=re.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){re.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(513)),this._context},setContext:function(e){this._context=e},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(e){function t(){var e=r.getView();e&&(s=e._scope,r.setImage(n),r.emit("load"),e.update())}var n,r=this;n=document.getElementById(e)||new Image,n.naturalWidth&&n.naturalHeight?setTimeout(t,0):(Y.add(n,{load:t}),n.src||(n.src=e)),this.setImage(n)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=_.read(arguments),t=re.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=_.read(arguments),t=new P(C.NO_INSERT);return t.setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.preConcatenate(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image&&this._image.src;if(/^data:/.test(e))return e;var t=this.getCanvas();return t?t.toDataURL():null},drawImage:function(e){var t=f.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;e?e instanceof R?(n=e,t=e.getBounds()):e.width?t=new _(e):e.x&&(t=new _(e.x-.5,e.y-.5,1,1)):t=this.getBounds();var r=32,i=Math.min(t.width,r),s=Math.min(t.height,r),o=P._sampleContext;o?o.clearRect(0,0,r+1,r+1):o=P._sampleContext=re.getContext(new g(r)),o.save();var u=(new x).scale(i/t.width,s/t.height).translate(-t.x,-t.y);u.applyToContext(o),n&&n.draw(o,new a({clip:!0,matrices:[u]})),this._matrix.applyToContext(o);var h=this.getElement(),c=this._size;h&&o.drawImage(h,-c.width/2,-c.height/2),o.restore();for(var l=o.getImageData(.5,.5,Math.ceil(i),Math.ceil(s)).data,d=[0,0,0],f=0,p=0,m=l.length;m>p;p+=4){var v=l[p+3];f+=v,v/=255,d[0]+=l[p]*v,d[1]+=l[p+1]*v,d[2]+=l[p+2]*v}for(var p=0;3>p;p++)d[p]/=f;return f?W.read(d):null},getPixel:function(){var e=f.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new W("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=f.read(arguments),t=W.read(arguments),n=t._convert("rgb"),r=t._alpha,i=this.getContext(!0),s=i.createImageData(1,1),a=s.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=r?255*r:255,i.putImageData(s,e.x,e.y)},createImageData:function(){var e=g.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=_.read(arguments);return e.isEmpty()&&(e=new _(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=f.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var n=new _(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new I("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e){var t=this.getElement();t&&(e.globalAlpha=this._opacity,e.drawImage(t,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),A=C.extend({_class:"PlacedSymbol",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==t&&f.read(arguments,1))||this.setSymbol(e instanceof S?e:new S(e))},_equals:function(e){return this._symbol===e._symbol},getSymbol:function(){return this._symbol},setSymbol:function(e){this._symbol=e,this._changed(9)},clone:function(e){var t=new A(C.NO_INSERT);return t.setSymbol(this._symbol),this._clone(t,e)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(e,t,n){var r=this.symbol._definition;return r._getCachedBounds(e,t&&t.chain(r._matrix),n)},_hitTestSelf:function(e,t){var n=this._symbol._definition._hitTest(e,t);return n&&(n.item=this),n},_draw:function(e,t){this.symbol._definition.draw(e,t)}}),I=a.extend({_class:"HitResult",initialize:function(e,t,n){this.type=e,this.item=t,n&&(n.enumerable=!0,this.inject(n))},statics:{getOptions:function(e){return new a({type:null,tolerance:s.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),L=a.extend({_class:"Segment",beans:!0,initialize:function(e,n,r,i,s,a){var o,u,h,c=arguments.length;0===c||(1===c?e.point?(o=e.point,u=e.handleIn,h=e.handleOut):o=e:2===c&&"number"==typeof e?o=arguments:3>=c?(o=e,u=n,h=r):(o=e!==t?[e,n]:null,u=r!==t?[r,i]:null,h=s!==t?[s,a]:null)),new N(o,this,"_point"),new N(u,this,"_handleIn"),new N(h,this,"_handleOut")},_serialize:function(e){return a.serialize(this.isLinear()?this._point:[this._point,this._handleIn,this._handleOut],e,!0)},_changed:function(e){var t=this._path;if(t){var n,r=t._curves,i=this._index;r&&(e&&e!==this._point&&e!==this._handleIn||!(n=i>0?r[i-1]:t._closed?r[r.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=r[i])||n._changed()),t._changed(25)}},getPoint:function(){return this._point},setPoint:function(){var e=f.read(arguments);this._point.set(e.x,e.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){var e=f.read(arguments);this._handleIn.set(e.x,e.y)},getHandleOut:function(){return this._handleOut},setHandleOut:function(){var e=f.read(arguments);this._handleOut.set(e.x,e.y)},isLinear:function(){return this._handleIn.isZero()&&this._handleOut.isZero()},setLinear:function(e){e&&(this._handleIn.set(0,0),this._handleOut.set(0,0))},isColinear:function(e){var t=this.getNext(),n=e.getNext();return this._handleOut.isZero()&&t._handleIn.isZero()&&e._handleOut.isZero()&&n._handleIn.isZero()&&t._point.subtract(this._point).isColinear(n._point.subtract(e._point))},isOrthogonal:function(){var e=this.getPrevious(),t=this.getNext();return e._handleOut.isZero()&&this._handleIn.isZero()&&this._handleOut.isZero()&&t._handleIn.isZero()&&this._point.subtract(e._point).isOrthogonal(t._point.subtract(this._point))},isArc:function(){var e=this.getNext(),t=this._handleOut,n=e._handleIn,r=.5522847498307936;if(t.isOrthogonal(n)){var i=this._point,s=e._point,a=new b(i,t,!0).intersect(new b(s,n,!0),!0);return a&&d.isZero(t.getLength()/a.subtract(i).getLength()-r)&&d.isZero(n.getLength()/a.subtract(s).getLength()-r)}return!1},_selectionState:0,isSelected:function(e){var t=this._selectionState;return e?e===this._point?!!(4&t):e===this._handleIn?!!(1&t):e===this._handleOut?!!(2&t):!1:!!(7&t)},setSelected:function(e,t){var n=this._path,e=!!e,r=this._selectionState,i=r,s=t?t===this._point?4:t===this._handleIn?1:t===this._handleOut?2:0:7;e?r|=s:r&=~s,this._selectionState=r,n&&r!==i&&(n._updateSelection(this,i,r),n._changed(129))},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new j(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},reverse:function(){return new L(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new L(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var r=t._point._x-e._point._x,i=t._point._y-e._point._y,s=t._handleIn._x-e._handleIn._x,a=t._handleIn._y-e._handleIn._y,o=t._handleOut._x-e._handleOut._x,u=t._handleOut._y-e._handleOut._y;this._point._x=e._point._x+r*n,this._point._y=e._point._y+i*n,this._handleIn._x=e._handleIn._x+s*n,this._handleIn._y=e._handleIn._y+a*n,this._handleOut._x=e._handleOut._x+o*n,this._handleOut._y=e._handleOut._y+u*n,this._changed()},_transformCoordinates:function(e,t,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,s=n&&this._handleOut.isZero()?null:this._handleOut,a=r._x,o=r._y,u=2;return t[0]=a,t[1]=o,i&&(t[u++]=i._x+a,t[u++]=i._y+o),s&&(t[u++]=s._x+a,t[u++]=s._y+o),e&&(e._transformCoordinates(t,t,u/2),a=t[0],o=t[1],n?(r._x=a,r._y=o,u=2,i&&(i._x=t[u++]-a,i._y=t[u++]-o),s&&(s._x=t[u++]-a,s._y=t[u++]-o)):(i||(t[u++]=a,t[u++]=o),s||(t[u++]=a,t[u++]=o))),t}}),N=f.extend({initialize:function(e,n,r){var i,s,a;if(e)if((i=e[0])!==t)s=e[1];else{var o=e;(i=o.x)===t&&(o=f.read(arguments),i=o.x),s=o.y,a=o.selected}else i=s=0;this._x=i,this._y=s,this._owner=n,n[r]=this,a&&this.setSelected(!0)},set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},_serialize:function(e){var t=e.formatter,n=t.number(this._x),r=t.number(this._y);return this.isSelected()?{x:n,y:r,selected:!0}:[n,r]},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){return d.isZero(this._x)&&d.isZero(this._y)},setSelected:function(e){this._owner.setSelected(e,this)},isSelected:function(){return this._owner.isSelected(this)}}),E=a.extend({_class:"Curve",initialize:function(e,t,n,r,i,s,a,o){var u=arguments.length;if(3===u)this._path=e,this._segment1=t,this._segment2=n;else if(0===u)this._segment1=new L,this._segment2=new L;else if(1===u)this._segment1=new L(e.segment1),this._segment2=new L(e.segment2);else if(2===u)this._segment1=new L(e),this._segment2=new L(t);else{var h,c,l,d;4===u?(h=e,c=t,l=n,d=r):8===u&&(h=[e,t],d=[a,o],c=[n-e,r-t],l=[i-a,s-o]),this._segment1=new L(h,null,c),this._segment2=new L(d,l,null)}},_changed:function(){this._length=this._bounds=t},getPoint1:function(){return this._segment1._point},setPoint1:function(){var e=f.read(arguments);this._segment1._point.set(e.x,e.y)},getPoint2:function(){return this._segment2._point},setPoint2:function(){var e=f.read(arguments);this._segment2._point.set(e.x,e.y)},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){var e=f.read(arguments);this._segment1._handleOut.set(e.x,e.y)},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var e=f.read(arguments);this._segment2._handleIn.set(e.x,e.y)},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return E.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;8>n;n+=2)t.push(new f(e[n],e[n+1]));return t},getLength:function(){return null==this._length&&(this._length=this.isLinear()?this._segment2._point.getDistance(this._segment1._point):E.getLength(this.getValues(),0,1)),this._length},getArea:function(){return E.getArea(this.getValues())},getPart:function(e,t){return new E(E.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return E.getLength(this.getValues(),e,t)},isLinear:function(){return this._segment1._handleOut.isZero()&&this._segment2._handleIn.isZero()},getIntersections:function(e){return E.filterIntersections(E.getIntersections(this.getValues(),e.getValues(),this,e,[]))},_getParameter:function(e,n){return n?e:e&&e.curve===this?e.parameter:e===t&&n===t?.5:this.getParameterAt(e,0)},divide:function(e,t,n){var r=this._getParameter(e,t),i=1e-6,s=null;if(r>i&&1-i>r){var a=E.subdivide(this.getValues(),r),o=n?!1:this.isLinear(),u=a[0],h=a[1];o||(this._segment1._handleOut.set(u[2]-u[0],u[3]-u[1]),this._segment2._handleIn.set(h[4]-h[6],h[5]-h[7]));var c=u[6],l=u[7],d=new L(new f(c,l),!o&&new f(u[4]-c,u[5]-l),!o&&new f(h[2]-c,h[3]-l));if(this._path)this._segment1._index>0&&0===this._segment2._index?this._path.add(d):this._path.insert(this._segment2._index,d),s=this;else{var p=this._segment2;this._segment2=d,s=new E(d,p)}}return s},split:function(e,t){return this._path?this._path.split(this._segment1._index,this._getParameter(e,t)):null},reverse:function(){return new E(this._segment2.reverse(),this._segment1.reverse())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(n.x,n.y)}return e},clone:function(){return new E(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},statics:{getValues:function(e,t,n){var r=e._point,i=e._handleOut,s=t._handleIn,a=t._point,o=[r._x,r._y,r._x+i._x,r._y+i._y,a._x+s._x,a._y+s._y,a._x,a._y];return n&&n._transformCoordinates(o,o,4),o},evaluate:function(e,t,n){var r,i,s=e[0],a=e[1],o=e[2],u=e[3],h=e[4],c=e[5],l=e[6],d=e[7],p=1e-6;if(0===n&&(p>t||t>1-p)){var g=p>t;r=g?s:l,i=g?a:d}else{var m=3*(o-s),v=3*(h-o)-m,_=l-s-m-v,y=3*(u-a),x=3*(c-u)-y,b=d-a-y-x;if(0===n)r=((_*t+v)*t+m)*t+s,i=((b*t+x)*t+y)*t+a;else if(p>t&&o===s&&u===a||t>1-p&&h===l&&c===d?(r=h-o,i=c-u):p>t?(r=m,i=y):t>1-p?(r=3*(l-h),i=3*(d-c)):(r=(3*_*t+2*v)*t+m,i=(3*b*t+2*x)*t+y),3===n){var w=6*_*t+2*v,S=6*b*t+2*x;return(r*S-i*w)/Math.pow(r*r+i*i,1.5)}}return 2===n?new f(i,-r):new f(r,i)},subdivide:function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],u=e[5],h=e[6],c=e[7];n===t&&(n=.5);var l=1-n,d=l*r+n*s,f=l*i+n*a,p=l*s+n*o,g=l*a+n*u,m=l*o+n*h,v=l*u+n*c,_=l*d+n*p,y=l*f+n*g,x=l*p+n*m,b=l*g+n*v,w=l*_+n*x,S=l*y+n*b;return[[r,i,d,f,_,y,w,S],[w,S,x,b,m,v,h,c]]},solveCubic:function(e,t,n,r,i,s){var a=e[t],o=e[t+2],u=e[t+4],h=e[t+6],c=3*(o-a),l=3*(u-o)-c,f=h-a-c-l,p=d.isZero;return p(f)&&p(l)&&(f=l=0),d.solveCubic(f,l,c,a-n,r,i,s)},getParameterOf:function(e,t,n){var r=1e-6;if(Math.abs(e[0]-t)<r&&Math.abs(e[1]-n)<r)return 0;if(Math.abs(e[6]-t)<r&&Math.abs(e[7]-n)<r)return 1;for(var i,s,a=[],o=[],u=E.solveCubic(e,0,t,a,0,1),h=E.solveCubic(e,1,n,o,0,1),c=0;-1==u||u>c;)if(-1==u||(i=a[c++])>=0&&1>=i){for(var l=0;-1==h||h>l;)if((-1==h||(s=o[l++])>=0&&1>=s)&&(-1==u?i=s:-1==h&&(s=i),Math.abs(i-s)<r))return.5*(i+s);if(-1==u)break}return null},getPart:function(e,t,n){return t>0&&(e=E.subdivide(e,t)[1]),1>n&&(e=E.subdivide(e,(n-t)/(1-t))[0]),e},isLinear:function(e){var t=d.isZero;return t(e[0]-e[2])&&t(e[1]-e[3])&&t(e[4]-e[6])&&t(e[5]-e[7])},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],h=e[7],c=3*i-2*n-u,l=3*s-2*r-h,d=3*a-2*u-n,f=3*o-2*h-r;return Math.max(c*c,d*d)+Math.max(l*l,f*f)<10*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7];return(3*i*t-1.5*i*s-1.5*i*o-3*n*r-1.5*n*s-.5*n*o+1.5*a*t+1.5*a*r-3*a*o+.5*u*t+1.5*u*r+3*u*s)/10},getEdgeSum:function(e){return(e[0]-e[2])*(e[3]+e[1])+(e[2]-e[4])*(e[5]+e[3])+(e[4]-e[6])*(e[7]+e[5])},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;2>i;i++)E._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);return new _(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,s,a,o,u){function h(e,t){var n=e-t,r=e+t;n<a[i]&&(a[i]=n),r>o[i]&&(o[i]=r)}var c=3*(t-n)-e+r,l=2*(e+n)-4*t,f=t-e,p=d.solveQuadratic(c,l,f,u),g=1e-6,m=1-g;h(r,0);for(var v=0;p>v;v++){var _=u[v],y=1-_;_>g&&m>_&&h(y*y*y*e+3*y*y*_*t+3*y*_*_*n+_*_*_*r,s)}}}},a.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=D[e]([this._segment1,this._segment2],!1,this._path.getStyle())),t.clone()}},{}),a.each(["getPoint","getTangent","getNormal","getCurvature"],function(e,t){this[e+"At"]=function(e,n){var r=this.getValues();return E.evaluate(r,n?e:E.getParameterAt(r,e,0),t)},this[e]=function(e){return E.evaluate(this.getValues(),e,t)}},{beans:!1,getParameterAt:function(e,t){return E.getParameterAt(this.getValues(),e,t)},getParameterOf:function(){
var e=f.read(arguments);return E.getParameterOf(this.getValues(),e.x,e.y)},getLocationAt:function(e,t){return t||(e=this.getParameterAt(e)),e>=0&&1>=e&&new j(this,e)},getLocationOf:function(){return this.getLocationAt(this.getParameterOf(f.read(arguments)),!0)},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getNearestLocation:function(){function e(e){if(e>=0&&1>=e){var r=t.getDistance(E.evaluate(n,e,0),!0);if(i>r)return i=r,s=e,!0}}for(var t=f.read(arguments),n=this.getValues(),r=100,i=1/0,s=0,a=0;r>=a;a++)e(a/r);for(var o=1/(2*r);o>1e-6;)e(s-o)||e(s+o)||(o/=2);var u=E.evaluate(n,s,0);return new j(this,s,u,null,null,null,t.getDistance(u))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}}),new function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7],h=9*(r-s)+3*(o-t),c=6*(t+s)-12*r,l=3*(r-t),d=9*(i-a)+3*(u-n),f=6*(n+a)-12*i,p=3*(i-n);return function(e){var t=(h*e+c)*e+l,n=(d*e+f)*e+p;return Math.sqrt(t*t+n*n)}}function n(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}return{statics:!0,getLength:function(r,i,s){i===t&&(i=0),s===t&&(s=1);var a=d.isZero;if(0===i&&1===s&&a(r[0]-r[2])&&a(r[1]-r[3])&&a(r[6]-r[4])&&a(r[7]-r[5])){var o=r[6]-r[0],u=r[7]-r[1];return Math.sqrt(o*o+u*u)}var h=e(r);return d.integrate(h,i,s,n(i,s))},getParameterAt:function(r,i,s){function a(e){return p+=d.integrate(c,s,e,n(s,e)),s=e,p-i}if(s===t&&(s=0>i?1:0),0===i)return s;var o=i>0,u=o?s:0,h=o?1:s,c=e(r),l=d.integrate(c,u,h,n(u,h));if(Math.abs(i)>=l)return o?h:u;var f=i/l,p=0;return d.findRoot(a,c,s+f,u,h,16,1e-6)}}},new function(){function e(e,t,n,r,i,s,a,o){var u=new j(n,r,i,s,a,o);(!t||t(u))&&e.push(u)}function t(i,s,a,o,u,h,c,l,d,f,p,g,m){if(!(m>32)){var v,_,y,x=s[0],w=s[1],S=s[6],C=s[7],T=1e-6,O=b.getSignedDistance,k=O(x,w,S,C,s[2],s[3])||0,M=O(x,w,S,C,s[4],s[5])||0,P=k*M>0?.75:4/9,A=P*Math.min(0,k,M),I=P*Math.max(0,k,M),L=O(x,w,S,C,i[0],i[1]),N=O(x,w,S,C,i[2],i[3]),j=O(x,w,S,C,i[4],i[5]),R=O(x,w,S,C,i[6],i[7]);if(x===S&&T>=f-d&&m>3)_=v=(l+c)/2,y=0;else{var D,U,B=n(L,N,j,R),F=B[0],z=B[1];if(D=r(F,z,A,I),F.reverse(),z.reverse(),U=r(F,z,A,I),null==D||null==U)return;i=E.getPart(i,D,U),y=U-D,v=l*D+c*(1-D),_=l*U+c*(1-U)}if(p>.5&&y>.5)if(_-v>f-d){var H=E.subdivide(i,.5),W=v+(_-v)/2;t(s,H[0],o,a,u,h,d,f,v,W,y,!g,++m),t(s,H[1],o,a,u,h,d,f,W,_,y,!g,m)}else{var H=E.subdivide(s,.5),W=d+(f-d)/2;t(H[0],i,o,a,u,h,d,W,v,_,y,!g,++m),t(H[1],i,o,a,u,h,W,f,v,_,y,!g,m)}else if(Math.max(f-d,_-v)<T){var q=v+(_-v)/2,G=d+(f-d)/2;g?e(u,h,o,G,E.evaluate(s,G,0),a,q,E.evaluate(i,q,0)):e(u,h,a,q,E.evaluate(i,q,0),o,G,E.evaluate(s,G,0))}else y>0&&t(s,i,o,a,u,h,d,f,v,_,y,!g,++m)}}function n(e,t,n,r){var i,s=[0,e],a=[1/3,t],o=[2/3,n],u=[1,r],h=b.getSignedDistance,c=h(0,e,1,r,1/3,t),l=h(0,e,1,r,2/3,n),d=!1;if(0>c*l)i=[[s,a,u],[s,o,u]],d=0>c;else{var f,p=0,g=0===c||0===l;Math.abs(c)>Math.abs(l)?(f=a,p=(r-n-(r-e)/3)*(2*(r-n)-r+t)/3):(f=o,p=(t-e+(e-r)/3)*(-2*(e-t)+e-n)/3),i=0>p||g?[[s,f,u],[s,u]]:[[s,a,o,u],[s,u]],d=c?0>c:0>l}return d?i.reverse():i}function r(e,t,n,r){return e[0][1]<n?i(e,!0,n):t[0][1]>r?i(t,!1,r):e[0][0]}function i(e,t,n){for(var r=e[0][0],i=e[0][1],s=1,a=e.length;a>s;s++){var o=e[s][0],u=e[s][1];if(t?u>=n:n>=u)return r+(n-i)*(o-r)/(u-i);r=o,i=u}return null}function s(t,n,r,i,s,a){for(var o=E.isLinear(t),u=o?n:t,h=o?t:n,c=h[0],l=h[1],d=h[6],f=h[7],p=d-c,g=f-l,m=Math.atan2(-g,p),v=Math.sin(m),_=Math.cos(m),y=p*_-g*v,x=[0,0,0,0,y,0,y,0],b=[],w=0;8>w;w+=2){var S=u[w]-c,C=u[w+1]-l;b.push(S*_-C*v,C*_+S*v)}for(var T=[],O=E.solveCubic(b,1,0,T,0,1),w=0;O>w;w++){var k=T[w],S=E.evaluate(b,k,0).x;if(S>=0&&y>=S){var M=E.getParameterOf(x,S,0),P=o?M:k,A=o?k:M;e(s,a,r,P,E.evaluate(t,P,0),i,A,E.evaluate(n,A,0))}}}function a(t,n,r,i,s,a){var o=b.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);if(o){var u=o.x,h=o.y;e(s,a,r,E.getParameterOf(t,u,h),o,i,E.getParameterOf(n,u,h),o)}}return{statics:{getIntersections:function(n,r,i,o,u,h){var c=E.isLinear(n),l=E.isLinear(r),d=i.getPoint1(),f=i.getPoint2(),p=o.getPoint1(),g=o.getPoint2(),m=1e-6;return d.isClose(p,m)&&e(u,h,i,0,d,o,0,d),d.isClose(g,m)&&e(u,h,i,0,d,o,1,d),(c&&l?a:c||l?s:t)(n,r,i,o,u,h,0,1,0,1,0,!1,0),f.isClose(p,m)&&e(u,h,i,1,f,o,0,f),f.isClose(g,m)&&e(u,h,i,1,f,o,1,f),u},filterIntersections:function(e,t){function n(e,t){var n=e.getPath(),r=t.getPath();return n===r?e.getIndex()+e.getParameter()-(t.getIndex()+t.getParameter()):n._id-r._id}for(var r=e.length-1,i=1-1e-6,s=r;s>=0;s--){var a=e[s],o=a._curve.getNext(),u=a._curve2.getNext();o&&a._parameter>=i&&(a._parameter=0,a._curve=o),u&&a._parameter2>=i&&(a._parameter2=0,a._curve2=u)}if(r>0){e.sort(n);for(var s=r;s>0;s--)e[s].equals(e[s-1])&&(e.splice(s,1),r--)}if(t){for(var s=r;s>=0;s--)e.push(e[s].getIntersection());e.sort(n)}return e}}}}),j=a.extend({_class:"CurveLocation",beans:!0,initialize:function we(e,t,n,r,i,s,a){this._id=we._id=(we._id||0)+1,this._curve=e,this._segment1=e._segment1,this._segment2=e._segment2,this._parameter=t,this._point=n,this._curve2=r,this._parameter2=i,this._point2=s,this._distance=a},getSegment:function(e){if(!this._segment){var t=this.getCurve(),n=this.getParameter();if(1===n)this._segment=t._segment2;else if(0===n||e)this._segment=t._segment1;else{if(null==n)return null;this._segment=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2}}return this._segment},getCurve:function(e){return(!this._curve||e)&&(this._curve=this._segment1.getCurve(),null==this._curve.getParameterOf(this._point)&&(this._curve=this._segment2.getPrevious().getCurve())),this._curve},getIntersection:function(){var e=this._intersection;if(!e&&this._curve2){var t=this._parameter2;this._intersection=e=new j(this._curve2,t,this._point2||this._point,this),e._intersection=this}return e},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getOffset:function(){var e=this.getPath();return e?e._getOffset(this):this.getCurveOffset()},getCurveOffset:function(){var e=this.getCurve(),t=this.getParameter();return null!=t&&e&&e.getPartLength(0,t)},getParameter:function(e){if((null==this._parameter||e)&&this._point){var t=this.getCurve(e);this._parameter=t&&t.getParameterOf(this._point)}return this._parameter},getPoint:function(e){if((!this._point||e)&&null!=this._parameter){var t=this.getCurve(e);this._point=t&&t.getPointAt(this._parameter,!0)}return this._point},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(!0);return e&&e.divide(this.getParameter(!0),!0)},split:function(){var e=this.getCurve(!0);return e&&e.split(this.getParameter(!0),!0)},equals:function(e){var t=Math.abs,n=1e-6;return this===e||e&&this._curve===e._curve&&this._curve2===e._curve2&&t(this._parameter-e._parameter)<=n&&t(this._parameter2-e._parameter2)<=n||!1},toString:function(){var e=[],t=this.getPoint(),n=c.instance;t&&e.push("point: "+t);var r=this.getIndex();null!=r&&e.push("index: "+r);var i=this.getParameter();return null!=i&&e.push("parameter: "+n.number(i)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"}},a.each(["getTangent","getNormal","getCurvature"],function(e){var t=e+"At";this[e]=function(){var e=this.getParameter(),n=this.getCurve();return null!=e&&n&&n[t](e,!0)}},{})),R=C.extend({_class:"PathItem",initialize:function(){},getIntersections:function(e,t,n){this===e&&(e=null);var r=[],i=this.getCurves(),s=e?e.getCurves():i,a=this._matrix.orNullIfIdentity(),o=e?(t||e._matrix).orNullIfIdentity():a,u=i.length,h=e?s.length:u,c=[],l=1e-6,d=1-l;if(e&&!this.getBounds(a).touches(e.getBounds(o)))return[];for(var f=0;h>f;f++)c[f]=s[f].getValues(o);for(var f=0;u>f;f++){var p=i[f],g=e?p.getValues(a):c[f];if(!e){var m=p.getSegment1(),v=p.getSegment2(),_=m._handleOut,y=v._handleIn;if(new b(m._point.subtract(_),_.multiply(2),!0).intersect(new b(v._point.subtract(y),y.multiply(2),!0),!1)){var x=E.subdivide(g);E.getIntersections(x[0],x[1],p,p,r,function(e){return e._parameter<=d?(e._parameter/=2,e._parameter2=.5+e._parameter2/2,!0):void 0})}}for(var w=e?0:f+1;h>w;w++)E.getIntersections(g,c[w],p,s[w],r,!e&&(w===f+1||w===h-1&&0===f)&&function(e){var t=e._parameter;return t>=l&&d>=t})}return E.filterIntersections(r,n)},_asPathItem:function(){return this},setPathData:function(e){function t(e,t){var n=+r[e];return o&&(n+=u[t]),n}function n(e){return new f(t(e,"x"),t(e+1,"y"))}var r,i,s,a=e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,u=new f,h=new f;this.clear();for(var c=0,l=a&&a.length;l>c;c++){var d=a[c],p=d[0],m=p.toLowerCase();r=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var v=r&&r.length;switch(o=p===m,"z"!==i||/[mz]/.test(m)||this.moveTo(u=h),m){case"m":case"l":var _="m"===m;_&&i&&"z"!==i&&this.closePath(!0);for(var y=0;v>y;y+=2)this[0===y&&_?"moveTo":"lineTo"](u=n(y));s=u,_&&(h=u);break;case"h":case"v":for(var x="h"===m?"x":"y",y=0;v>y;y++)u[x]=t(y,x),this.lineTo(u);s=u;break;case"c":for(var y=0;v>y;y+=6)this.cubicCurveTo(n(y),s=n(y+2),u=n(y+4));break;case"s":for(var y=0;v>y;y+=4)this.cubicCurveTo(/[cs]/.test(i)?u.multiply(2).subtract(s):u,s=n(y),u=n(y+2)),i=m;break;case"q":for(var y=0;v>y;y+=4)this.quadraticCurveTo(s=n(y),u=n(y+2));break;case"t":for(var y=0;v>y;y+=2)this.quadraticCurveTo(s=/[qt]/.test(i)?u.multiply(2).subtract(s):u,u=n(y)),i=m;break;case"a":for(var y=0;v>y;y+=7)this.arcTo(u=n(y+5),new g(+r[y],+r[y+1]),+r[y+2],+r[y+4],+r[y+3]);break;case"z":this.closePath(!0)}i=m}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=this._getWinding(e,!1,!0);return!!("evenodd"===this.getWindingRule()?1&t:t)}}),D=R.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[];var n=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==t||e.x===t&&e.point===t?null:arguments;n&&n.length>0?this.setSegments(n):(this._curves=t,this._selectedSegmentState=0,n||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!n&&e)},_equals:function(e){return this._closed===e._closed&&a.equals(this._segments,e._segments)},clone:function(e){var n=new D(C.NO_INSERT);return n.setSegments(this._segments),n._closed=this._closed,this._clockwise!==t&&(n._clockwise=this._clockwise),this._clone(n,e)},_changed:function Se(e){if(Se.base.call(this,e),8&e){var n=this._parent;if(n&&(n._currentPath=t),this._length=this._clockwise=t,this._curves&&!(16&e))for(var r=0,i=this._curves.length;i>r;r++)this._curves[r]._changed();this._monoCurves=t}else 32&e&&(this._bounds=t)},getStyle:function(){var e=this._parent;return(e instanceof U?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var n=this.isFullySelected();this._segments.length=0,this._selectedSegmentState=0,this._curves=t,e&&e.length>0&&this._add(L.readAll(e)),n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var r=0;n>r;r++)e[r]=new E(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new E(this,this._segments[t-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(e,t){function n(t,n){t._transformCoordinates(e,g,!1),r=g[0],i=g[1],m?(v.push("M"+p.pair(r,i)),m=!1):(o=g[2],u=g[3],o===r&&u===i&&h===s&&l===a?n||v.push("l"+p.pair(r-s,i-a)):v.push("c"+p.pair(h-s,l-a)+" "+p.pair(o-s,u-a)+" "+p.pair(r-s,i-a))),s=r,a=i,h=g[4],l=g[5]}var r,i,s,a,o,u,h,l,d=this._segments,f=d.length,p=new c(t),g=new Array(6),m=!0,v=[];if(0===f)return"";for(var _=0;f>_;_++)n(d[_]);return this._closed&&f>0&&(n(d[0],!0),v.push("z")),v.join("")}},{isEmpty:function(){return 0===this._segments.length},isPolygon:function(){for(var e=0,t=this._segments.length;t>e;e++)if(!this._segments[e].isLinear())return!1;return!0},_transformContent:function(e){for(var t=new Array(6),n=0,r=this._segments.length;r>n;n++)this._segments[n]._transformCoordinates(e,t,!0);return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,s=null==t,t=s?n.length:t,a=0;i>a;a++){var o=e[a];o._path&&(o=e[a]=o.clone()),o._path=this,o._index=t+a,o._selectionState&&this._updateSelection(o,0,o._selectionState)}if(s)n.push.apply(n,e);else{n.splice.apply(n,[t,0].concat(e));for(var a=t+i,u=n.length;u>a;a++)n[a]._index=a}if(r||e._curves){r||(r=this._curves=[]);var h=t>0?t-1:t,c=h,l=Math.min(h+i,this._countCurves());e._curves&&(r.splice.apply(r,[h,0].concat(e._curves)),c+=e._curves.length);for(var a=c;l>a;a++)r.splice(a,0,new E(this,null,null));this._adjustCurves(h,l)}return this._changed(25),e},_adjustCurves:function(e,t){for(var n,r=this._segments,i=this._curves,s=e;t>s;s++)n=i[s],n._path=this,n._segment1=r[s],n._segment2=r[s+1]||r[0],n._changed();(n=i[this._closed&&0===e?r.length-1:e-1])&&(n._segment2=r[e]||r[0],n._changed()),(n=i[t])&&(n._segment1=r[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){return arguments.length>1&&"number"!=typeof e?this._add(L.readAll(arguments)):this._add([L.read(arguments)])[0]},insert:function(e,t){return arguments.length>2&&"number"!=typeof t?this._add(L.readAll(arguments,1),e):this._add([L.read(arguments,1)],e)[0]},addSegment:function(){return this._add([L.read(arguments)])[0]},insertSegment:function(e){return this._add([L.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(L.readAll(e))},insertSegments:function(e,t){return this._add(L.readAll(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=a.pick(t,this._segments.length);var r=this._segments,i=this._curves,s=r.length,o=r.splice(e,t-e),u=o.length;if(!u)return o;for(var h=0;u>h;h++){var c=o[h];c._selectionState&&this._updateSelection(c,c._selectionState,0),c._index=c._path=null}for(var h=e,l=r.length;l>h;h++)r[h]._index=h;if(i){var d=e>0&&t===s+(this._closed?1:0)?e-1:e,i=i.splice(d,u);n&&(o._curves=i.slice(1)),this._adjustCurves(d,d)}return this._changed(25),o},clear:"#removeSegments",getLength:function(){if(null==this._length){var e=this.getCurves();this._length=0;for(var t=0,n=e.length;n>t;t++)this._length+=e[t].getLength()}return this._length},getArea:function(){for(var e=this.getCurves(),t=0,n=0,r=e.length;r>n;n++)t+=e[n].getArea();return t},isFullySelected:function(){var e=this._segments.length;return this._selected&&e>0&&this._selectedSegmentState===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelected:function Ce(e){e||this._selectSegments(!1),Ce.base.call(this,e)},_selectSegments:function(e){var t=this._segments.length;this._selectedSegmentState=e?7*t:0;for(var n=0;t>n;n++)this._segments[n]._selectionState=e?7:0},_updateSelection:function(e,t,n){e._selectionState=n;var r=this._selectedSegmentState+=n-t;r>0&&this.setSelected(!0)},flatten:function(e){for(var t=new B(this,64,.1),n=0,r=t.length/Math.ceil(t.length/e),i=t.length+(this._closed?-r:r)/2,s=[];i>=n;)s.push(new L(t.evaluate(n,0))),n+=r;this.setSegments(s)},reduce:function(){for(var e=this.getCurves(),t=e.length-1;t>=0;t--){var n=e[t];n.isLinear()&&0===n.getLength()&&n.remove()}return this},simplify:function(e){if(this._segments.length>2){var t=new F(this,e||2.5);this.setSegments(t.fit())}},split:function(e,t){if(null===t)return null;if(1===arguments.length){var n=e;if("number"==typeof n&&(n=this.getLocationAt(n)),!n)return null;e=n.index,t=n.parameter}var r=1e-6;t>=1-r&&(e++,t--);var i=this.getCurves();if(e>=0&&e<i.length){t>r&&i[e++].divide(t,!0);var s,a=this.removeSegments(e,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):s=this._clone((new D).insertAbove(this,!0)),s._add(a,0),this.addSegment(a[0]),s}return null},isClockwise:function(){return this._clockwise!==t?this._clockwise:D.isClockwise(this._segments)},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse(),this._clockwise=e},reverse:function(){this._segments.reverse();for(var e=0,n=this._segments.length;n>e;e++){var r=this._segments[e],i=r._handleIn;r._handleIn=r._handleOut,r._handleOut=i,r._index=e}this._curves=null,this._clockwise!==t&&(this._clockwise=!this._clockwise),this._changed(9)},join:function(e){if(e){var t=e._segments,n=this.getLastSegment(),r=e.getLastSegment();if(!r)return this;n&&n._point.equals(r._point)&&e.reverse();var i=e.getFirstSegment();if(n&&n._point.equals(i._point))n.setHandleOut(i._handleOut),this._add(t.slice(1));else{var s=this.getFirstSegment();s&&s._point.equals(i._point)&&e.reverse(),r=e.getLastSegment(),s&&s._point.equals(r._point)?(s.setHandleIn(r._handleIn),this._add(t.slice(0,t.length-1),0)):this._add(t.slice())}e.closed&&this._add([t[0]]),e.remove()}var a=this.getFirstSegment(),o=this.getLastSegment();return a!==o&&a._point.equals(o._point)&&(a.setHandleIn(o._handleIn),o.remove(),this.setClosed(!0)),this},interpolate:function(e,t,n){for(var r=0,i=this._segments.length;i>r&&(e._segments[r]&&t._segments[r]);r++)this._segments[r].interpolate(e._segments[r],t._segments[r],n);this._changed(9)},toShape:function(e){function n(e,t){return c[e].isColinear(c[t])}function r(e){return c[e].isOrthogonal()}function i(e){return c[e].isArc()}function s(e,t){return c[e]._point.getDistance(c[t]._point)}if(!this._closed)return null;var a,o,u,h,c=this._segments;if(this.isPolygon()&&4===c.length&&n(0,2)&&n(1,3)&&r(1)?(a=M.Rectangle,o=new g(s(0,3),s(0,1)),h=c[1]._point.add(c[2]._point).divide(2)):8===c.length&&i(0)&&i(2)&&i(4)&&i(6)&&n(1,5)&&n(3,7)?(a=M.Rectangle,o=new g(s(1,6),s(0,3)),u=o.subtract(new g(s(0,7),s(1,2))).divide(2),h=c[3]._point.add(c[4]._point).divide(2)):4===c.length&&i(0)&&i(1)&&i(2)&&i(3)&&(d.isZero(s(0,2)-s(1,3))?(a=M.Circle,u=s(0,2)/2):(a=M.Ellipse,u=new g(s(2,0)/2,s(3,1)/2)),h=c[1]._point),a){var l=this.getPosition(!0),f=new a({center:l,size:o,radius:u,insert:!1});return f.rotate(h.subtract(l).getAngle()+90),f.setStyle(this._style),(e||e===t)&&f.insertAbove(this),f}return null},_hitTestSelf:function(e,t){function n(t,n){return e.subtract(t).divide(n).length<=1}function r(e,r,i){if(!t.selected||r.isSelected()){var s=e._point;if(r!==s&&(r=r.add(s)),n(r,x))return new I(i,p,{segment:e,point:r})}}function i(e,n){return(n||t.segments)&&r(e,e._point,"segment")||!n&&t.handles&&(r(e,e._handleIn,"handle-in")||r(e,e._handleOut,"handle-out"))}function s(e){c.add(e)}function a(t){if(("round"!==o||"round"!==u)&&(c=new D({internal:!0,closed:!0}),_||t._index>0&&t._index<v-1?"round"!==o&&(t._handleIn.isZero()||t._handleOut.isZero())&&D._addBevelJoin(t,o,C,h,s,!0):"round"!==u&&D._addSquareCap(t,u,C,s,!0),!c.isEmpty())){var r;return c.contains(e)||(r=c.getNearestLocation(e))&&n(r.getPoint(),y)}return n(t._point,x)}var o,u,h,c,l,d,p=this,g=this.getStyle(),m=this._segments,v=m.length,_=this._closed,y=t._tolerancePadding,x=y,b=t.stroke&&g.hasStroke(),w=t.fill&&g.hasFill(),S=t.curves,C=b?g.getStrokeWidth()/2:w&&t.tolerance>0||S?0:null;if(null!==C&&(C>0?(o=g.getStrokeJoin(),u=g.getStrokeCap(),h=C*g.getMiterLimit(),x=y.add(new f(C,C))):o=u="round"),!t.ends||t.segments||_){if(t.segments||t.handles)for(var T=0;v>T;T++)if(d=i(m[T]))return d}else if(d=i(m[0],!0)||i(m[v-1],!0))return d;if(null!==C){if(l=this.getNearestLocation(e)){var O=l.getParameter();0===O||1===O&&v>1?a(l.getSegment())||(l=null):n(l.getPoint(),x)||(l=null)}if(!l&&"miter"===o&&v>1)for(var T=0;v>T;T++){var k=m[T];if(e.getDistance(k._point)<=h&&a(k)){l=k.getLocation();break}}}return!l&&w&&this._contains(e)||l&&!b&&!S?new I("fill",this):l?new I(b?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},a.each(["getPoint","getTangent","getNormal","getCurvature"],function(e){this[e+"At"]=function(t,n){var r=this.getLocationAt(t,n);return r&&r[e]()}},{beans:!1,_getOffset:function(e){var t=e&&e.getIndex();if(null!=t){for(var n=this.getCurves(),r=0,i=0;t>i;i++)r+=n[i].getLength();var s=n[t],a=e.getParameter();return a>0&&(r+=s.getPartLength(0,a)),r}return null},getLocationOf:function(){for(var e=f.read(arguments),t=this.getCurves(),n=0,r=t.length;r>n;n++){var i=t[n].getLocationOf(e);if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e,t){var n=this.getCurves(),r=0;if(t){var i=~~e;return n[i].getLocationAt(e-i,!0)}for(var s=0,a=n.length;a>s;s++){var o=r,u=n[s];if(r+=u.getLength(),r>e)return u.getLocationAt(e-o)}return e<=this.getLength()?new j(n[n.length-1],1):null},getNearestLocation:function(){for(var e=f.read(arguments),t=this.getCurves(),n=1/0,r=null,i=0,s=t.length;s>i;i++){var a=t[i].getNearestLocation(e);a._distance<n&&(n=a._distance,r=a)}return r},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}}),new function(){function e(e,t,n,r){function i(t){var n=a[t],r=a[t+1];(l!=n||d!=r)&&(e.beginPath(),e.moveTo(l,d),e.lineTo(n,r),e.stroke(),e.beginPath(),e.arc(n,r,s,0,2*Math.PI,!0),e.fill())}for(var s=r/2,a=new Array(6),o=0,u=t.length;u>o;o++){var h=t[o];h._transformCoordinates(n,a,!1);var c=h._selectionState,l=a[0],d=a[1];if(1&c&&i(2),2&c&&i(4),e.fillRect(l-s,d-s,r,r),!(4&c)){var f=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(l-s+1,d-s+1,r-2,r-2),e.fillStyle=f}}}function t(e,t,n){function r(t){if(n)t._transformCoordinates(n,p,!1),i=p[0],s=p[1];else{var r=t._point;i=r._x,s=r._y}if(g)e.moveTo(i,s),g=!1;else{if(n)u=p[2],h=p[3];else{var d=t._handleIn;u=i+d._x,h=s+d._y}u===i&&h===s&&c===a&&l===o?e.lineTo(i,s):e.bezierCurveTo(c,l,u,h,i,s)}if(a=i,o=s,n)c=p[4],l=p[5];else{var d=t._handleOut;c=a+d._x,l=o+d._y}}for(var i,s,a,o,u,h,c,l,d=t._segments,f=d.length,p=new Array(6),g=!0,m=0;f>m;m++)r(d[m]);t._closed&&f>0&&r(d[0])}return{_draw:function(e,n,r){function i(e){return l[(e%d+d)%d]}var a=n.dontStart,o=n.dontFinish||n.clip,u=this.getStyle(),h=u.hasFill(),c=u.hasStroke(),l=u.getDashArray(),d=!s.support.nativeDash&&c&&l&&l.length;if(a||e.beginPath(),!a&&this._currentPath?e.currentPath=this._currentPath:(h||c&&!d||o)&&(t(e,this,r),this._closed&&e.closePath(),a||(this._currentPath=e.currentPath)),!o&&(h||c)&&(this._setStyles(e),h&&(e.fill(u.getWindingRule()),e.shadowColor="rgba(0,0,0,0)"),c)){if(d){a||e.beginPath();var f,p=new B(this,32,.25,r),g=p.length,m=-u.getDashOffset(),v=0;for(m%=g;m>0;)m-=i(v--)+i(v--);for(;g>m;)f=m+i(v++),(m>0||f>0)&&p.drawPart(e,Math.max(m,0),Math.max(f,0)),m=f+i(v++)}e.stroke()}},_drawSelected:function(n,r){n.beginPath(),t(n,this,r),n.stroke(),e(n,this._segments,r,s.settings.handleSize)}}},new function(){function e(e){var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var s=1;t>s;s++)r[s]=1/i,i=(t-1>s?4:2)-r[s],n[s]=(e[s]-n[s-1])/i;for(var s=1;t>s;s++)n[t-s-1]-=r[t-s]*n[t-s];return n}return{smooth:function(){var t=this._segments,n=t.length,r=this._closed,i=n,s=0;if(!(2>=n)){r&&(s=Math.min(n,4),i+=2*Math.min(n,s));for(var a=[],o=0;n>o;o++)a[o+s]=t[o]._point;if(r)for(var o=0;s>o;o++)a[o]=t[o+n-s]._point,a[o+n+s]=t[o]._point;else i--;for(var u=[],o=1;i-1>o;o++)u[o]=4*a[o]._x+2*a[o+1]._x;u[0]=a[0]._x+2*a[1]._x,u[i-1]=3*a[i-1]._x;for(var h=e(u),o=1;i-1>o;o++)u[o]=4*a[o]._y+2*a[o+1]._y;u[0]=a[0]._y+2*a[1]._y,u[i-1]=3*a[i-1]._y;var c=e(u);if(r){for(var o=0,l=n;s>o;o++,l++){var d=o/s,p=1-d,g=o+s,m=l+s;h[l]=h[o]*d+h[l]*p,c[l]=c[o]*d+c[l]*p,h[m]=h[g]*p+h[m]*d,c[m]=c[g]*p+c[m]*d}i--}for(var v=null,o=s;i-s>=o;o++){var _=t[o-s];v&&_.setHandleIn(v.subtract(_._point)),i>o&&(_.setHandleOut(new f(h[o],c[o]).subtract(_._point)),v=i-1>o?new f(2*a[o+1]._x-h[o+1],2*a[o+1]._y-c[o+1]):new f((a[i]._x+h[i-1])/2,(a[i]._y+c[i-1])/2))}if(r&&v){var _=this._segments[0];_.setHandleIn(v.subtract(_._point))}}}}},new function(){function e(e){var t=e._segments;if(0===t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new L(f.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new L(f.read(arguments))])},cubicCurveTo:function(){var t=f.read(arguments),n=f.read(arguments),r=f.read(arguments),i=e(this);i.setHandleOut(t.subtract(i._point)),this._add([new L(r,n.subtract(r))])},quadraticCurveTo:function(){var t=f.read(arguments),n=f.read(arguments),r=e(this)._point;this.cubicCurveTo(t.add(r.subtract(t).multiply(1/3)),t.add(n.subtract(t).multiply(1/3)),n)},curveTo:function(){var t=f.read(arguments),n=f.read(arguments),r=a.pick(a.read(arguments),.5),i=1-r,s=e(this)._point,o=t.subtract(s.multiply(i*i)).subtract(n.multiply(r*r)).divide(2*r*i);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(o,n)},arcTo:function(){var t,n,r,i,s,o=e(this),u=o._point,h=f.read(arguments),c=a.peek(arguments),l=a.pick(c,!0);if("boolean"==typeof l)var d=u.add(h).divide(2),t=d.add(d.subtract(u).rotate(l?-90:90));else if(a.remain(arguments)<=2)t=h,h=f.read(arguments);else{var p=g.read(arguments);if(p.isZero())return this.lineTo(h);var m=a.read(arguments),l=!!a.read(arguments),v=!!a.read(arguments),d=u.add(h).divide(2),_=u.subtract(d).rotate(-m),y=_.x,w=_.y,S=Math.abs,C=1e-12,T=S(p.width),O=S(p.height),k=T*T,M=O*O,P=y*y,A=w*w,I=Math.sqrt(P/k+A/M);if(I>1&&(T*=I,O*=I,k=T*T,M=O*O),I=(k*M-k*A-M*P)/(k*A+M*P),S(I)<C&&(I=0),0>I)throw new Error("Cannot create an arc with the given arguments");n=new f(T*w/O,-O*y/T).multiply((v===l?-1:1)*Math.sqrt(I)).rotate(m).add(d),s=(new x).translate(n).rotate(m).scale(T,O),i=s._inverseTransform(u),r=i.getDirectedAngle(s._inverseTransform(h)),!l&&r>0?r-=360:l&&0>r&&(r+=360)}if(t){var N=new b(u.add(t).divide(2),t.subtract(u).rotate(90),!0),E=new b(t.add(h).divide(2),h.subtract(t).rotate(90),!0),j=new b(u,h),R=j.getSide(t);if(n=N.intersect(E,!0),!n){if(!R)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}i=u.subtract(n),r=i.getDirectedAngle(h.subtract(n));var D=j.getSide(n);0===D?r=R*Math.abs(r):R===D&&(r+=0>r?360:-360)}for(var U=Math.abs(r),B=U>=360?4:Math.ceil(U/90),F=r/B,z=F*Math.PI/360,H=4/3*Math.sin(z)/(1+Math.cos(z)),W=[],q=0;B>=q;q++){var _=h,G=null;if(B>q&&(G=i.rotate(90).multiply(H),s?(_=s._transformPoint(i),G=s._transformPoint(i.add(G)).subtract(_)):_=n.add(i)),0===q)o.setHandleOut(G);else{var V=i.rotate(-90).multiply(H);s&&(V=s._transformPoint(i.add(V)).subtract(_)),W.push(new L(_,V,G))}i=i.rotate(F)}this._add(W)},lineBy:function(){var t=f.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=f.read(arguments),n=f.read(arguments),r=a.read(arguments),i=e(this)._point;this.curveTo(i.add(t),i.add(n),r)},cubicCurveBy:function(){var t=f.read(arguments),n=f.read(arguments),r=f.read(arguments),i=e(this)._point;this.cubicCurveTo(i.add(t),i.add(n),i.add(r))},quadraticCurveBy:function(){var t=f.read(arguments),n=f.read(arguments),r=e(this)._point;this.quadraticCurveTo(r.add(t),r.add(n))},arcBy:function(){var t=e(this)._point,n=t.add(f.read(arguments)),r=a.pick(a.peek(arguments),!0);"boolean"==typeof r?this.arcTo(n,r):this.arcTo(n,t.add(f.read(arguments)))},closePath:function(e){this.setClosed(!0),e&&this.join()}}},{_getBounds:function(e,t){return D[e](this._segments,this._closed,this.getStyle(),t)},statics:{isClockwise:function(e){for(var t=0,n=0,r=e.length;r>n;n++)t+=E.getEdgeSum(E.getValues(e[n],e[r>n+1?n+1:0]));return t>0},getBounds:function(e,t,n,r,i){function s(e){e._transformCoordinates(r,o,!1);for(var t=0;2>t;t++)E._addBounds(u[t],u[t+4],o[t+2],o[t],t,i?i[t]:0,h,c,l);var n=u;u=o,o=n}var a=e[0];if(!a)return new _;for(var o=new Array(6),u=a._transformCoordinates(r,new Array(6),!1),h=u.slice(0,2),c=h.slice(),l=new Array(2),d=1,f=e.length;f>d;d++)s(e[d]);return t&&s(a),new _(h[0],h[1],c[0]-h[0],c[1]-h[1])},getStrokeBounds:function(e,t,n,r){function i(e){l=l.include(r?r._transformPoint(e,e):e)}function s(e){l=l.unite(m.setCenter(r?r._transformPoint(e._point):e._point))}function a(e,t){var n=e._handleIn,r=e._handleOut;"round"===t||!n.isZero()&&!r.isZero()&&n.isColinear(r)?s(e):D._addBevelJoin(e,t,h,p,i)}function o(e,t){"round"===t?s(e):D._addSquareCap(e,t,h,i)}if(!n.hasStroke())return D.getBounds(e,t,n,r);for(var u=e.length-(t?0:1),h=n.getStrokeWidth()/2,c=D._getPenPadding(h,r),l=D.getBounds(e,t,n,r,c),d=n.getStrokeJoin(),f=n.getStrokeCap(),p=h*n.getMiterLimit(),m=new _(new g(c).multiply(2)),v=1;u>v;v++)a(e[v],d);return t?a(e[0],d):u>0&&(o(e[0],f),o(e[e.length-1],f)),l},_getPenPadding:function(e,t){if(!t)return[e,e];var n=t.shiftless(),r=n.transform(new f(e,0)),i=n.transform(new f(0,e)),s=r.getAngleInRadians(),a=r.getLength(),o=i.getLength(),u=Math.sin(s),h=Math.cos(s),c=Math.tan(s),l=-Math.atan(o*c/a),d=Math.atan(o/(c*a));return[Math.abs(a*Math.cos(l)*h-o*Math.sin(l)*u),Math.abs(o*Math.sin(d)*h+a*Math.cos(d)*u)]},_addBevelJoin:function(e,t,n,r,i,s){var a=e.getCurve(),o=a.getPrevious(),u=a.getPointAt(0,!0),h=o.getNormalAt(1,!0),c=a.getNormalAt(0,!0),l=h.getDirectedAngle(c)<0?-n:n;if(h.setLength(l),c.setLength(l),s&&(i(u),i(u.add(h))),"miter"===t){var d=new b(u.add(h),new f(-h.y,h.x),!0).intersect(new b(u.add(c),new f(-c.y,c.x),!0),!0);if(d&&u.getDistance(d)<=r&&(i(d),!s))return}s||i(u.add(h)),i(u.add(c))},_addSquareCap:function(e,t,n,r,i){var s=e._point,a=e.getLocation(),o=a.getNormal().normalize(n);i&&(r(s.subtract(o)),r(s.add(o))),"square"===t&&(s=s.add(o.rotate(0===a.getParameter()?-90:90))),r(s.add(o)),r(s.subtract(o))},getHandleBounds:function(e,t,n,r,i,s){for(var a=new Array(6),o=1/0,u=-o,h=o,c=u,l=0,d=e.length;d>l;l++){var f=e[l];f._transformCoordinates(r,a,!1);for(var p=0;6>p;p+=2){var g=0===p?s:i,m=g?g[0]:0,v=g?g[1]:0,y=a[p],x=a[p+1],b=y-m,w=y+m,S=x-v,C=x+v;o>b&&(o=b),w>u&&(u=w),h>S&&(h=S),C>c&&(c=C)}}return new _(o,h,u-o,c-h)},getRoughBounds:function(e,t,n,r){var i=n.hasStroke()?n.getStrokeWidth()/2:0,s=i;return i>0&&("miter"===n.getStrokeJoin()&&(s=i*n.getMiterLimit()),"square"===n.getStrokeCap()&&(s=Math.max(s,i*Math.sqrt(2)))),D.getHandleBounds(e,t,n,r,D._getPenPadding(i,r),D._getPenPadding(s,r))}}});D.inject({statics:new function(){function e(e,t,n){var r=a.getNamed(n),i=new D(r&&r.insert===!1&&C.NO_INSERT);return i._add(e),i._closed=t,i.set(r)}function t(t,n,i){for(var s=new Array(4),a=0;4>a;a++){var o=r[a];s[a]=new L(o._point.multiply(n).add(t),o._handleIn.multiply(n),o._handleOut.multiply(n))}return e(s,!0,i)}var n=.5522847498307936,r=[new L([-1,0],[0,n],[0,-n]),new L([0,-1],[-n,0],[n,0]),new L([1,0],[0,-n],[0,n]),new L([0,1],[n,0],[-n,0])];return{Line:function(){return e([new L(f.readNamed(arguments,"from")),new L(f.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var e=f.readNamed(arguments,"center"),n=a.readNamed(arguments,"radius");return t(e,new g(n),arguments)},Rectangle:function(){var t,r=_.readNamed(arguments,"rectangle"),i=g.readNamed(arguments,"radius",0,{readNull:!0}),s=r.getBottomLeft(!0),a=r.getTopLeft(!0),o=r.getTopRight(!0),u=r.getBottomRight(!0);if(!i||i.isZero())t=[new L(s),new L(a),new L(o),new L(u)];else{i=g.min(i,r.getSize(!0).divide(2));var h=i.width,c=i.height,l=h*n,d=c*n;t=[new L(s.add(h,0),null,[-l,0]),new L(s.subtract(0,c),[0,d]),new L(a.add(0,c),null,[0,-d]),new L(a.add(h,0),[-l,0],null),new L(o.subtract(h,0),null,[l,0]),new L(o.add(0,c),[0,-d],null),new L(u.subtract(0,c),null,[0,d]),new L(u.subtract(h,0),[l,0])]}return e(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=M._readEllipse(arguments);return t(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=f.readNamed(arguments,"from"),t=f.readNamed(arguments,"through"),n=f.readNamed(arguments,"to"),r=a.getNamed(arguments),i=new D(r&&r.insert===!1&&C.NO_INSERT);return i.moveTo(e),i.arcTo(t,n),i.set(r)},RegularPolygon:function(){for(var t=f.readNamed(arguments,"center"),n=a.readNamed(arguments,"sides"),r=a.readNamed(arguments,"radius"),i=360/n,s=!(n%3),o=new f(0,s?-r:r),u=s?-1:.5,h=new Array(n),c=0;n>c;c++)h[c]=new L(t.add(o.rotate((c+u)*i)));

return e(h,!0,arguments)},Star:function(){for(var t=f.readNamed(arguments,"center"),n=2*a.readNamed(arguments,"points"),r=a.readNamed(arguments,"radius1"),i=a.readNamed(arguments,"radius2"),s=360/n,o=new f(0,-1),u=new Array(n),h=0;n>h;h++)u[h]=new L(t.add(o.rotate(s*h).multiply(h%2?i:r)));return e(u,!0,arguments)}}}});var U=R.extend({_class:"CompoundPath",_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function Te(e,n,r){n=Te.base.call(this,e,n,r,D);for(var i=0,s=!r&&n&&n.length;s>i;i++){var a=n[i];a._clockwise===t&&a.setClockwise(0===a._index)}return n},reverse:function(){for(var e=this._children,t=0,n=e.length;n>t;t++)e[t].reverse()},smooth:function(){for(var e=0,t=this._children.length;t>e;e++)this._children[e].smooth()},reduce:function Oe(){if(0===this._children.length){var e=new D(C.NO_INSERT);return e.insertAbove(this),e.setStyle(this._style),this.remove(),e}return Oe.base.call(this)},interpolate:function(e,t,n){for(var r=0,i=this._children.length;i>r&&(e._children[r]&&t._children[r]);r++)this._children[r].interpolate(e._children[r],t._children[r],n)},isClockwise:function(){var e=this.getFirstChild();return e&&e.isClockwise()},setClockwise:function(e){this.isClockwise()!==!!e&&this.reverse()},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;r>n;n++)t.push.apply(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getFirstCurve()},getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;r>n;n++)t+=e[n].getArea();return t}},{beans:!0,getPathData:function(e,t){for(var n=this._children,r=[],i=0,s=n.length;s>i;i++){var a=n[i],o=a._matrix;r.push(a.getPathData(e&&!o.isIdentity()?e.chain(o):o,t))}return r.join(" ")}},{_getChildHitTestOptions:function(e){return e["class"]===D||"path"===e.type?e:new a(e,{fill:!1})},_draw:function(e,t,n){var r=this._children;if(0!==r.length){if(this._currentPath)e.currentPath=this._currentPath;else{t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var i=0,s=r.length;s>i;i++)r[i].draw(e,t,n);this._currentPath=e.currentPath}if(!t.clip){this._setStyles(e);var a=this._style;a.hasFill()&&(e.fill(a.getWindingRule()),e.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,s=r.length;s>i;i++){var a=r[i],o=a._matrix;n[a._id]||a._drawSelected(e,o.isIdentity()?t:t.chain(o))}}},new function(){function e(e,t){var n=e._children;if(t&&0===n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}var t={moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new D;n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),r=f.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(t){e(this,!0).closePath(t)}};return a.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(n){t[n]=function(){var t=e(this,!0);t[n].apply(t,arguments)}}),t});R.inject(new function(){function e(e,s,a){function o(e){return e.clone(!1).reduce().reorient().transform(null,!0,!0)}function u(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];f.push.apply(f,r._segments),p.push.apply(p,r._getMonoCurves())}}var h=i[a],c=o(e),l=s&&e!==s&&o(s);l&&/^(subtract|exclude)$/.test(a)^l.isClockwise()!==c.isClockwise()&&l.reverse(),t(c.getIntersections(l,null,!0));var d=[],f=[],p=[],g=1e-6;u(c._children||[c]),l&&u(l._children||[l]),f.sort(function(e,t){var n=e._intersection,r=t._intersection;return!n&&!r||n&&r?0:n?-1:1});for(var v=0,_=f.length;_>v;v++){var y=f[v];if(null==y._winding){d.length=0;var x=y,b=0,w=0;do{var S=y.getCurve().getLength();d.push({segment:y,length:S}),b+=S,y=y.getNext()}while(y&&!y._intersection&&y!==x);for(var T=0;3>T;T++){var S=b*(T+1)/4;for(k=0,m=d.length;k<m;k++){var O=d[k],M=O.length;if(M>=S){(g>=S||g>=M-S)&&(S=M/2);var P=O.segment.getCurve(),A=P.getPointAt(S),I=P.isLinear()&&Math.abs(P.getTangentAt(.5,!0).y)<=g,L=P._path;L._parent instanceof U&&(L=L._parent),w+="subtract"===a&&l&&(L===c&&l._getWinding(A,I)||L===l&&!c._getWinding(A,I))?0:n(A,p,I);break}S-=M}}for(var N=Math.round(w/3),T=d.length-1;T>=0;T--)d[T].segment._winding=N}}var E=new U(C.NO_INSERT);return E.insertAbove(e),E.addChildren(r(f,h),!0),E=E.reduce(),E.setStyle(e._style),E}function t(e){function t(){for(var e=0,t=n.length;t>e;e++)n[e].set(0,0)}for(var n,r,i,s=1e-6,a=1-s,o=e.length-1;o>=0;o--){var u=e[o],h=u._parameter;i&&i._curve===u._curve&&i._parameter>0?h/=i._parameter:(r=u._curve,n&&t(),n=r.isLinear()?[r._segment1._handleOut,r._segment2._handleIn]:null);var c,l;(c=r.divide(h,!0,!0))?(l=c._segment1,r=c.getPrevious(),n&&n.push(l._handleOut,l._handleIn)):l=s>h?r._segment1:h>a?r._segment2:r.getPartLength(0,h)<r.getPartLength(h,1)?r._segment1:r._segment2,l._intersection=u.getIntersection(),u._segment=l,i=u}n&&t()}function n(e,t,r,i){var s=1e-6,a=s,o=1-a,u=e.x,h=e.y,c=0,l=0,p=[],g=Math.abs;if(r){for(var m=-(1/0),v=1/0,_=h-s,y=h+s,x=0,b=t.length;b>x;x++){var w=t[x].values;if(E.solveCubic(w,0,u,p,0,1)>0)for(var S=p.length-1;S>=0;S--){var C=E.evaluate(w,p[S],0).y;_>C&&C>m?m=C:C>y&&v>C&&(v=C)}}m=(m+h)/2,v=(v+h)/2,m>-(1/0)&&(c=n(new f(u,m),t)),1/0>v&&(l=n(new f(u,v),t))}else for(var T=u-s,O=u+s,x=0,b=t.length;b>x;x++){var k,M,P=t[x],w=P.values,A=P.winding;if(A&&(1===A&&h>=w[1]&&h<=w[7]||h>=w[7]&&h<=w[1])&&1===E.solveCubic(w,1,h,p,0,1)){var I=p[0],L=E.evaluate(w,I,0).x,N=E.evaluate(w,I,1).y;I>o&&(x===b-1||P.next!==t[x+1])&&g(E.evaluate(P.next.values,0,0).x-L)<=s||x>0&&P.previous===t[x-1]&&g(M-L)<s&&k>o&&a>I||(d.isZero(N)&&!E.isLinear(w)||a>I&&N*E.evaluate(P.previous.values,1,1).y<0||I>o&&N*E.evaluate(P.next.values,0,1).y<0?i&&L>=T&&O>=L&&(++c,++l):T>=L?c+=A:L>=O&&(l+=A)),k=I,M=L}}return Math.max(g(c),g(l))}function r(e,t,n){for(var r,i,s=[],a=1e-6,o=1-a,u=0,h=e.length;h>u;u++)if(r=i=e[u],!r._visited&&t(r._winding)){var c=new D(C.NO_INSERT),l=r._intersection,d=l&&l._segment,f=!1,p=1;do{var g,m=p>0?r._handleIn:r._handleOut,v=p>0?r._handleOut:r._handleIn;if(f&&(!t(r._winding)||n)&&(l=r._intersection)&&(g=l._segment)&&g!==i){if(n)r._visited=g._visited,r=g,p=1;else{var _=r.getCurve();p>0&&(_=_.getPrevious());var y=_.getTangentAt(1>p?a:o,!0),x=g.getCurve(),b=x.getPrevious(),w=b.getTangentAt(o,!0),S=x.getTangentAt(a,!0),T=y.cross(w),O=y.cross(S);if(T*O!==0){var k=O>T?b:x,M=t(k._segment1._winding)?k:O>T?x:b,P=M._segment1;p=M===b?-1:1,P._visited&&r._path!==P._path||!t(P._winding)?p=1:(r._visited=g._visited,r=g,P._visited&&(p=1))}else p=1}v=p>0?r._handleOut:r._handleIn}c.add(new L(r._point,f&&m,v)),f=!0,r._visited=!0,r=p>0?r.getNext():r.getPrevious()}while(r&&!r._visited&&r!==i&&r!==d&&(r._intersection||t(r._winding)));!r||r!==i&&r!==d?c.lastSegment._handleOut.set(0,0):(c.firstSegment.setHandleIn((r===d?d:r)._handleIn),c.setClosed(!0)),c._segments.length>(c._closed?c.isPolygon()?2:0:1)&&s.push(c)}return s}var i={unite:function(e){return 1===e||0===e},intersect:function(e){return 2===e},subtract:function(e){return 1===e},exclude:function(e){return 1===e}};return{_getWinding:function(e,t,r){return n(e,this._getMonoCurves(),t,r)},unite:function(t){return e(this,t,"unite")},intersect:function(t){return e(this,t,"intersect")},subtract:function(t){return e(this,t,"subtract")},exclude:function(t){return e(this,t,"exclude")},divide:function(e){return new T([this.subtract(e),this.intersect(e)])}}}),D.inject({_getMonoCurves:function(){function e(e){var t=e[1],i=e[7],s={values:e,winding:t===i?0:t>i?-1:1,previous:n,next:null};n&&(n.next=s),r.push(s),n=s}function t(t){if(0!==E.getLength(t)){var n=t[1],r=t[3],i=t[5],s=t[7];if(E.isLinear(t))e(t);else{var a=3*(r-i)-n+s,o=2*(n+i)-4*r,u=r-n,h=1e-6,c=[],l=d.solveQuadratic(a,o,u,c,h,1-h);if(0===l)e(t);else{c.sort();var f=c[0],p=E.subdivide(t,f);e(p[0]),l>1&&(f=(c[1]-f)/(1-f),p=E.subdivide(p[1],f),e(p[0])),e(p[1])}}}}var n,r=this._monoCurves;if(!r){r=this._monoCurves=[];for(var i=this.getCurves(),s=this._segments,a=0,o=i.length;o>a;a++)t(i[a].getValues());if(!this._closed&&s.length>1){var u=s[s.length-1]._point,h=s[0]._point,c=u._x,l=u._y,f=h._x,p=h._y;t([c,l,c,l,f,p,f,p])}if(r.length>0){var g=r[0],m=r[r.length-1];g.previous=m,m.next=g}}return r},getInteriorPoint:function(){var e=this.getBounds(),t=e.getCenter(!0);if(!this.contains(t)){for(var n=this._getMonoCurves(),r=[],i=t.y,s=[],a=0,o=n.length;o>a;a++){var u=n[a].values;if((1===n[a].winding&&i>=u[1]&&i<=u[7]||i>=u[7]&&i<=u[1])&&E.solveCubic(u,1,i,r,0,1)>0)for(var h=r.length-1;h>=0;h--)s.push(E.evaluate(u,r[h],0).x);if(s.length>1)break}t.x=(s[0]+s[1])/2}return t},reorient:function(){return this.setClockwise(!0),this}}),U.inject({_getMonoCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;r>n;n++)t.push.apply(t,e[n]._getMonoCurves());return t},reorient:function(){var e=this.removeChildren().sort(function(e,t){return t.getBounds().getArea()-e.getBounds().getArea()});if(e.length>0){this.addChildren(e);for(var t=e[0].isClockwise(),n=1,r=e.length;r>n;n++){for(var i=e[n].getInteriorPoint(),s=0,a=n-1;a>=0;a--)e[a].contains(i)&&s++;e[n].setClockwise(s%2===0&&t)}}return this}});var B=a.extend({_class:"PathIterator",initialize:function(e,t,n,r){function i(e,t){var n=E.getValues(e,t,r);o.push(n),s(n,e._index,0,1)}function s(e,t,r,i){if(i-r>c&&!E.isFlatEnough(e,n||.25)){var a=E.subdivide(e),o=(r+i)/2;s(a[0],t,r,o),s(a[1],t,o,i)}else{var l=e[6]-e[0],d=e[7]-e[1],f=Math.sqrt(l*l+d*d);f>1e-6&&(h+=f,u.push({offset:h,value:i,index:t}))}}for(var a,o=[],u=[],h=0,c=1/(t||32),l=e._segments,d=l[0],f=1,p=l.length;p>f;f++)a=l[f],i(d,a),d=a;e._closed&&i(a,l[0]),this.curves=o,this.parts=u,this.length=h,this.index=0},getParameterAt:function(e){for(var t,n=this.index;t=n,!(0==n||this.parts[--n].offset<e););for(var r=this.parts.length;r>t;t++){var i=this.parts[t];if(i.offset>=e){this.index=t;var s=this.parts[t-1],a=s&&s.index==i.index?s.value:0,o=s?s.offset:0;return{value:a+(i.value-a)*(e-o)/(i.offset-o),index:i.index}}}var i=this.parts[this.parts.length-1];return{value:1,index:i.index}},evaluate:function(e,t){var n=this.getParameterAt(e);return E.evaluate(this.curves[n.index],n.value,t)},drawPart:function(e,t,n){t=this.getParameterAt(t),n=this.getParameterAt(n);for(var r=t.index;r<=n.index;r++){var i=E.getPart(this.curves[r],r==t.index?t.value:0,r==n.index?n.value:1);r==t.index&&e.moveTo(i[0],i[1]),e.bezierCurveTo.apply(e,i.slice(2))}}},a.each(["getPoint","getTangent","getNormal","getCurvature"],function(e,t){this[e+"At"]=function(e){return this.evaluate(e,t)}},{})),F=a.extend({initialize:function(e,t){for(var n,r=this.points=[],i=e._segments,s=0,a=i.length;a>s;s++){var o=i[s].point.clone();n&&n.equals(o)||(r.push(o),n=o)}e._closed&&(this.closed=!0,r.unshift(r[r.length-1]),r.push(r[1])),this.error=t},fit:function(){var e=this.points,t=e.length,n=this.segments=t>0?[new L(e[0])]:[];return t>1&&this.fitCubic(0,t-1,e[1].subtract(e[0]).normalize(),e[t-2].subtract(e[t-1]).normalize()),this.closed&&(n.shift(),n.pop()),n},fitCubic:function(e,t,n,r){if(t-e==1){var i=this.points[e],s=this.points[t],a=i.getDistance(s)/3;return void this.addCurve([i,i.add(n.normalize(a)),s.add(r.normalize(a)),s])}for(var o,u=this.chordLengthParameterize(e,t),h=Math.max(this.error,this.error*this.error),c=0;4>=c;c++){var l=this.generateBezier(e,t,u,n,r),d=this.findMaxError(e,t,l,u);if(d.error<this.error)return void this.addCurve(l);if(o=d.index,d.error>=h)break;this.reparameterize(e,t,u,l),h=d.error}var f=this.points[o-1].subtract(this.points[o]),p=this.points[o].subtract(this.points[o+1]),g=f.add(p).divide(2).normalize();this.fitCubic(e,o,n,g),this.fitCubic(o,t,g.negate(),r)},addCurve:function(e){var t=this.segments[this.segments.length-1];t.setHandleOut(e[1].subtract(e[0])),this.segments.push(new L(e[3],e[2].subtract(e[3])))},generateBezier:function(e,t,n,r,i){for(var s=1e-12,a=this.points[e],o=this.points[t],u=[[0,0],[0,0]],h=[0,0],c=0,l=t-e+1;l>c;c++){var d=n[c],f=1-d,p=3*d*f,g=f*f*f,m=p*f,v=p*d,_=d*d*d,y=r.normalize(m),x=i.normalize(v),b=this.points[e+c].subtract(a.multiply(g+m)).subtract(o.multiply(v+_));u[0][0]+=y.dot(y),u[0][1]+=y.dot(x),u[1][0]=u[0][1],u[1][1]+=x.dot(x),h[0]+=y.dot(b),h[1]+=x.dot(b)}var w,S,C=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(Math.abs(C)>s){var T=u[0][0]*h[1]-u[1][0]*h[0],O=h[0]*u[1][1]-h[1]*u[0][1];w=O/C,S=T/C}else{var k=u[0][0]+u[0][1],M=u[1][0]+u[1][1];w=S=Math.abs(k)>s?h[0]/k:Math.abs(M)>s?h[1]/M:0}var P=o.getDistance(a);return s*=P,(s>w||s>S)&&(w=S=P/3),[a,a.add(r.normalize(w)),o.add(i.normalize(S)),o]},reparameterize:function(e,t,n,r){for(var i=e;t>=i;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e])},findRoot:function(e,t,n){for(var r=[],i=[],s=0;2>=s;s++)r[s]=e[s+1].subtract(e[s]).multiply(3);for(var s=0;1>=s;s++)i[s]=r[s+1].subtract(r[s]).multiply(2);var a=this.evaluate(3,e,n),o=this.evaluate(2,r,n),u=this.evaluate(1,i,n),h=a.subtract(t),c=o.dot(o)+h.dot(u);return Math.abs(c)<1e-6?n:n-h.dot(o)/c},evaluate:function(e,t,n){for(var r=t.slice(),i=1;e>=i;i++)for(var s=0;e-i>=s;s++)r[s]=r[s].multiply(1-n).add(r[s+1].multiply(n));return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;t>=r;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,i=t-e;i>=r;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),s=0,a=e+1;t>a;a++){var o=this.evaluate(3,n,r[a-e]),u=o.subtract(this.points[a]),h=u.x*u.x+u.y*u.y;h>=s&&(s=h,i=a)}return{error:s,index:i}}}),z=C.extend({_class:"TextItem",_boundsSelected:!0,_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",initialize:function(e){this._content="",this._lines=[];var n=e&&a.isPlainObject(e)&&e.x===t&&e.y===t;this._initialize(n&&e,!n&&f.read(arguments))},_equals:function(e){return this._content===e._content},_clone:function ke(e,t){return e.setContent(this._content),ke.base.call(this,e,t)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),H=z.extend({_class:"PointText",initialize:function(){z.apply(this,arguments)},clone:function(e){return this._clone(new H(C.NO_INSERT),e)},getPoint:function(){var e=this._matrix.getTranslation();return new p(e.x,e.y,this,"setPoint")},setPoint:function(){var e=f.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e){if(this._content){this._setStyles(e);var t=this._style,n=this._lines,r=t.getLeading(),i=e.shadowColor;e.font=t.getFontStyle(),e.textAlign=t.getJustification();for(var s=0,a=n.length;a>s;s++){e.shadowColor=i;var o=n[s];t.hasFill()&&(e.fillText(o,0,0),e.shadowColor="rgba(0,0,0,0)"),t.hasStroke()&&e.strokeText(o,0,0),e.translate(0,r)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,s=n.getJustification(),a=n.getLeading(),o=this.getView().getTextWidth(n.getFontStyle(),r),u=0;"left"!==s&&(u-=o/("center"===s?2:1));var h=new _(u,i?-.75*a:0,o,i*a);return t?t._transformBounds(h,h):h}}),W=a.extend(new function(){function e(e){var n,r=e.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(r){n=[0,0,0];for(var s=0;3>s;s++){var a=r[s+1];n[s]=parseInt(1==a.length?a+a:a,16)/255}}else if(r=e.match(/^rgba?\((.*)\)$/)){n=r[1].split(",");for(var s=0,o=n.length;o>s;s++){var a=+n[s];n[s]=3>s?a/255:a}}else{var u=i[e];if(!u){t||(t=re.getContext(1,1),t.globalCompositeOperation="copy"),t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var h=t.getImageData(0,0,1,1).data;u=i[e]=[h[0]/255,h[1]/255,h[2]/255]}n=u.slice()}return n}var t,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},i={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],o={"rgb-hsb":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),s=r-i,a=0===s?0:60*(r==e?(t-n)/s+(n>t?6:0):r==t?(n-e)/s+2:(e-t)/s+4);return[a,0===r?0:s/r,r]},"hsb-rgb":function(e,t,n){e=(e/60%6+6)%6;var r=Math.floor(e),i=e-r,r=s[r],a=[n,n*(1-t),n*(1-t*i),n*(1-t*(1-i))];return[a[r[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),s=r-i,a=0===s,o=a?0:60*(r==e?(t-n)/s+(n>t?6:0):r==t?(n-e)/s+2:(e-t)/s+4),u=(r+i)/2,h=a?0:.5>u?s/(r+i):s/(2-r-i);return[o,h,u]},"hsl-rgb":function(e,t,n){if(e=(e/360%1+1)%1,0===t)return[n,n,n];for(var r=[e+1/3,e,e-1/3],i=.5>n?n*(1+t):n+t-n*t,s=2*n-i,a=[],o=0;3>o;o++){var u=r[o];0>u&&(u+=1),u>1&&(u-=1),a[o]=1>6*u?s+6*(i-s)*u:1>2*u?i:2>3*u?s+(i-s)*(2/3-u)*6:s}return a},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return a.each(n,function(e,t){r[t]=[],a.each(e,function(e,i){var s=a.capitalize(e),o=/^(hue|saturation)$/.test(e),u=r[t][i]="gradient"===e?function(e){var t=this._components[0];return e=q.read(Array.isArray(e)?e:arguments,0,{readNull:!0}),t!==e&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:"gradient"===t?function(){return f.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:e};this["get"+s]=function(){return this._type===t||o&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(t)[i]},this["set"+s]=function(e){this._type===t||o&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(t),this._properties=n[t],this._type=t),e=u.call(this,e),null!=e&&(this._components[i]=e,this._changed())}},this)},{_class:"Color",_readIndex:!0,initialize:function u(t){var i,s,a,o,h=Array.prototype.slice,c=arguments,l=0;Array.isArray(t)&&(c=t,t=c[0]);var d=null!=t&&typeof t;if("string"===d&&t in n&&(i=t,t=c[1],Array.isArray(t)?(s=t,a=c[2]):(this.__read&&(l=1),c=h.call(c,1),d=typeof t)),!s){if(o="number"===d?c:"object"===d&&null!=t.length?t:null){i||(i=o.length>=3?"rgb":"gray");var f=n[i].length;a=o[f],this.__read&&(l+=o===arguments?f+(null!=a?1:0):1),o.length>f&&(o=h.call(o,0,f))}else if("string"===d)i="rgb",s=e(t),4===s.length&&(a=s[3],s.length--);else if("object"===d)if(t.constructor===u){if(i=t._type,s=t._components.slice(),a=t._alpha,"gradient"===i)for(var p=1,g=s.length;g>p;p++){var m=s[p];m&&(s[p]=m.clone())}}else if(t.constructor===q)i="gradient",o=c;else{i="hue"in t?"lightness"in t?"hsl":"hsb":"gradient"in t||"stops"in t||"radial"in t?"gradient":"gray"in t?"gray":"rgb";var v=n[i];y=r[i],this._components=s=[];for(var p=0,g=v.length;g>p;p++){var _=t[v[p]];null==_&&0===p&&"gradient"===i&&"stops"in t&&(_={stops:t.stops,radial:t.radial}),_=y[p].call(this,_),null!=_&&(s[p]=_)}a=t.alpha}this.__read&&i&&(l=1)}if(this._type=i||"rgb","gradient"===i&&(this._id=u._id=(u._id||0)+1),!s){this._components=s=[];for(var y=r[this._type],p=0,g=y.length;g>p;p++){var _=y[p].call(this,o&&o[p]);null!=_&&(s[p]=_)}}this._components=s,this._properties=n[this._type],this._alpha=a,this.__read&&(this.__read=l)},_serialize:function(e,t){var n=this.getComponents();return a.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(e){var t;return this._type===e?this._components.slice():(t=o[this._type+"-"+e])?t.apply(this,this._components):o["rgb-"+e].apply(this,o[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new W(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=n[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=a.isPlainValue(e,!0)?W.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this._alpha===t._alpha&&a.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,r=c.instance,i=0,s=e.length;s>i;i++){var a=this._components[i];null!=a&&t.push(e[i]+": "+(n?a:r.number(a)))}return null!=this._alpha&&t.push("alpha: "+r.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){function t(e){return Math.round(255*(0>e?0:e>1?1:e))}var n=this._convert("rgb"),r=e||null==this._alpha?1:this._alpha;return n=[t(n[0]),t(n[1]),t(n[2])],1>r&&n.push(0>r?0:r),e?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var t,n=this._components,r=n[0],i=r._stops,s=n[1],a=n[2];if(r._radial){var o=a.getDistance(s),u=n[3];if(u){var h=u.subtract(s);h.getLength()>o&&(u=s.add(h.normalize(o-.1)))}var c=u||s;t=e.createRadialGradient(c.x,c.y,0,s.x,s.y,o)}else t=e.createLinearGradient(s.x,s.y,a.x,a.y);for(var l=0,d=i.length;d>l;l++){var f=i[l];t.addColorStop(f._rampPoint,f._color.toCanvasStyle())}return this._canvasStyle=t},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,r=t.length;r>n;n++){var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:n,random:function(){var e=Math.random;return new W(e(),e(),e())}}})},new function(){var e={add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}};return a.each(e,function(e,t){this[t]=function(t){t=W.read(arguments);for(var n=this._type,r=this._components,i=t._convert(n),s=0,a=r.length;a>s;s++)i[s]=e(r[s],i[s]);return new W(n,i,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})});a.each(W._types,function(e,t){var n=this[a.capitalize(t)+"Color"]=function(e){var n=null!=e&&typeof e,r="object"===n&&null!=e.length?e:"string"===n?null:arguments;return r?new W(t,r):new W(e)};if(3==t.length){var r=t.toUpperCase();W[r]=this[r+"Color"]=n}},a.exports);var q=a.extend({_class:"Gradient",initialize:function Me(e,t){this._id=Me._id=(Me._id||0)+1,e&&this._set(e)&&(e=t=null),this._stops||this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,function(){return a.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;t>e;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var n=this._owners?this._owners.indexOf(e):-1;-1!=n&&(this._owners.splice(n,1),0===this._owners.length&&(this._owners=t))},clone:function(){for(var e=[],t=0,n=this._stops.length;n>t;t++)e[t]=this._stops[t].clone();return new q(e)},getStops:function(){return this._stops},setStops:function(e){if(this.stops)for(var n=0,r=this._stops.length;r>n;n++)this._stops[n]._owner=t;if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");this._stops=G.readAll(e,0,{clone:!0});for(var n=0,r=this._stops.length;r>n;n++){var i=this._stops[n];i._owner=this,i._defaultRamp&&i.setRampPoint(n/(r-1))}this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class&&this._stops.length===e._stops.length){for(var t=0,n=this._stops.length;n>t;t++)if(!this._stops[t].equals(e._stops[t]))return!1;return!0}return!1}}),G=a.extend({_class:"GradientStop",initialize:function(e,n){if(e){var r,i;n===t&&Array.isArray(e)?(r=e[0],i=e[1]):e.color?(r=e.color,i=e.rampPoint):(r=e,i=n),this.setColor(r),this.setRampPoint(i)}},clone:function(){return new G(this._color.clone(),this._rampPoint)},_serialize:function(e,t){return a.serialize([this._color,this._rampPoint],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){return this._rampPoint},setRampPoint:function(e){this._defaultRamp=null==e,this._rampPoint=e||0,this._changed()},getColor:function(){return this._color},setColor:function(e){this._color=W.read(arguments),this._color===e&&(this._color=e.clone()),this._color._owner=this,this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._rampPoint==e._rampPoint||!1}}),V=a.extend(new function(){var e={fillColor:t,strokeColor:t,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],windingRule:"nonzero",shadowColor:t,shadowBlur:0,shadowOffset:new f,selectedColor:t,fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,justification:"left"},n={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},i={_defaults:e,_textDefaults:new a(e,{fillColor:new W}),beans:!0};return a.each(e,function(e,s){var o=/Color$/.test(s),u="shadowOffset"===s,h=a.capitalize(s),c=n[s],l="set"+h,d="get"+h;i[l]=function(e){var n=this._owner,r=n&&n._children;if(r&&r.length>0&&!(n instanceof U))for(var i=0,a=r.length;a>i;i++)r[i]._style[l](e);else{var u=this._values[s];u!==e&&(o&&(u&&(u._owner=t),e&&e.constructor===W&&(e._owner&&(e=e.clone()),e._owner=n)),this._values[s]=e,n&&n._changed(c||65))}},i[d]=function(e){var n,r=this._owner,i=r&&r._children;if(!i||0===i.length||e||r instanceof U){var n=this._values[s];if(n===t)n=this._defaults[s],n&&n.clone&&(n=n.clone());else{var h=o?W:u?f:null;!h||n&&n.constructor===h||(this._values[s]=n=h.read([n],0,{readNull:!0,clone:!0}),n&&o&&(n._owner=r))}return n}for(var c=0,l=i.length;l>c;c++){var p=i[c]._style[d]();if(0===c)n=p;else if(!a.equals(n,p))return t}return n},r[d]=function(e){return this._style[d](e)},r[l]=function(e){this._style[l](e)}}),C.inject(r),i},{_class:"Style",initialize:function(e,t,n){this._values={},this._owner=t,this._project=t&&t._project||n||s.project,t instanceof z&&(this._defaults=this._textDefaults),e&&this.set(e)},set:function(e){var t=e instanceof V,n=t?e._values:e;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}},equals:function(e){return e===this||e&&this._class===e._class&&a.equals(this._values,e._values)||!1},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){return this._project.getView()},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function Pe(){var e=Pe.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),null!=e?e:1.2*t}}),X=new function(){function e(e,t,n,r){for(var i=["","webkit","moz","Moz","ms","o"],s=t[0].toUpperCase()+t.substring(1),a=0;6>a;a++){var o=i[a],u=o?o+s:t;if(u in e){if(!n)return e[u];e[u]=r;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,r=e.ownerDocument,i=r.body,s=r.documentElement;try{n=e.getBoundingClientRect()}catch(a){n={left:0,top:0,width:0,height:0}}var o=n.left-(s.clientLeft||i.clientLeft||0),u=n.top-(s.clientTop||i.clientTop||0);if(!t){var h=r.defaultView;o+=h.pageXOffset||s.scrollLeft||i.scrollLeft,u+=h.pageYOffset||s.scrollTop||i.scrollTop}return new _(o,u,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;return new _(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){return X.getBounds(e,t).getPoint()},getSize:function(e){return X.getBounds(e,!0).getSize()},isInvisible:function(e){return X.getSize(e).equals(new g(0,0))},isInView:function(e){return!X.isInvisible(e)&&X.getViewportBounds(e).intersects(X.getBounds(e,!0))},getPrefixed:function(t,n){return e(t,n)},setPrefixed:function(t,n,r){if("object"==typeof n)for(var i in n)e(t,i,!0,n[i]);else e(t,n,!0,r)}}},Y={add:function(e,t){for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),s=0,a=i.length;a>s;s++)e.addEventListener(i[s],r,!1)},remove:function(e,t){for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),s=0,a=i.length;a>s;s++)e.removeEventListener(i[s],r,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new f(t.pageX||t.clientX+document.documentElement.scrollLeft,t.pageY||t.clientY+document.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return Y.getPoint(e).subtract(X.getOffset(t||Y.getTarget(e)))},stop:function(e){e.stopPropagation(),e.preventDefault()}};Y.requestAnimationFrame=new function(){function e(){for(var t=i.length-1;t>=0;t--){var a=i[t],o=a[0],h=a[1];(!h||("true"==u.getAttribute(h,"keepalive")||s)&&X.isInView(h))&&(i.splice(t,1),o())}n&&(i.length?n(e):r=!1)}var t,n="object"==typeof window&&X.getPrefixed(window,"requestAnimationFrame"),r=!1,i=[],s=!0;return"object"==typeof window&&Y.add(window,{focus:function(){s=!0},blur:function(){s=!1}}),function(s,a){i.push([s,a]),n?r||(n(e),r=!0):t||(t=setInterval(e,1e3/60))}};var $=a.extend(o,{_class:"View",initialize:function Ae(e,t){function n(e){return t[e]||parseInt(t.getAttribute(e),10)}function i(){var e=X.getSize(t);return e.isNaN()||e.isZero()?new g(n("width"),n("height")):e}this._project=e,this._scope=e._scope,this._element=t;var s;if(r)this._pixelRatio||(this._pixelRatio=1),this._id="view-"+Ae._id++,s=new g(t.width,t.height);else{this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),this._id=t.getAttribute("id"),null==this._id&&t.setAttribute("id",this._id="view-"+Ae._id++),Y.add(t,this._viewEvents);var a="none";if(X.setPrefixed(t.style,{userSelect:a,touchAction:a,touchCallout:a,contentZooming:a,userDrag:a,tapHighlightColor:"rgba(0,0,0,0)"}),u.hasAttribute(t,"resize")){var o=this;Y.add(window,this._windowEvents={resize:function(){o.setViewSize(i())}})}if(this._setViewSize(s=i()),u.hasAttribute(t,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var h=this._stats.domElement,c=h.style,l=X.getOffset(t);c.position="absolute",c.left=l.x+"px",c.top=l.y+"px",document.body.appendChild(h)}}Ae._views.push(this),Ae._viewsById[this._id]=this,this._viewSize=s,(this._matrix=new x)._owner=this,this._zoom=1,Ae._focused||(Ae._focused=this),this._frameItems={},this._frameItemCount=0},remove:function(){return this._project?($._focused===this&&($._focused=null),$._views.splice($._views.indexOf(this),1),delete $._viewsById[this._id],this._project._view===this&&(this._project._view=null),Y.remove(this._element,this._viewEvents),Y.remove(window,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0):!1},_events:{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}},onResize:{}},_animate:!1,_time:0,_count:0,_requestFrame:function(){var e=this;Y.requestAnimationFrame(function(){e._requested=!1,e._animate&&(e._requestFrame(),e._handleFrame())},this._element),this._requested=!0},_handleFrame:function(){s=this._scope;var e=Date.now()/1e3,t=this._before?e-this._before:0;this._before=e,
this._handlingFrame=!0,this.emit("frame",new a({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new a(e,{time:n.time+=e.delta,count:n.count++}))}},_update:function(){this._project._needsUpdate=!0,this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(e){1&e&&(this._project._needsUpdate=!0)},_transform:function(e){this._matrix.concatenate(e),this._bounds=null,this._update()},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new v(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=g.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._viewSize.set(e.width,e.height),this._setViewSize(e),this._bounds=null,this.emit("resize",{size:e,delta:t}),this._update())},_setViewSize:function(e){var t=this._element;t.width=e.width,t.height=e.height},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new _(new f,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=f.read(arguments);this.scrollBy(e.subtract(this.getCenter()))},getZoom:function(){return this._zoom},setZoom:function(e){this._transform((new x).scale(e/this._zoom,this.getCenter())),this._zoom=e},isVisible:function(){return X.isInView(this._element)},scrollBy:function(){this._transform((new x).translate(f.read(arguments).negate()))},play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(f.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(f.read(arguments))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return"string"==typeof t&&(t=document.getElementById(t)),new Z(e,t)}}},new function(){function e(e){var t=Y.getTarget(e);return t.getAttribute&&$._viewsById[t.getAttribute("id")]}function t(e,t){return e.viewToProject(Y.getOffset(t,e._element))}function n(){if(!$._focused||!$._focused.isVisible())for(var e=0,t=$._views.length;t>e;e++){var n=$._views[e];if(n&&n.isVisible()){$._focused=o=n;break}}}function i(e,t,n){e._handleEvent("mousemove",t,n);var r=e._scope.tool;return r&&r._handleEvent(l&&r.responds("mousedrag")?"mousedrag":"mousemove",t,n),e.update(),r}if(!r){var s,a,o,u,h,c,l=!1,d=window.navigator;d.pointerEnabled||d.msPointerEnabled?(u="pointerdown MSPointerDown",h="pointermove MSPointerMove",c="pointerup pointercancel MSPointerUp MSPointerCancel"):(u="touchstart",h="touchmove",c="touchend touchcancel","ontouchstart"in window&&d.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(u+=" mousedown",h+=" mousemove",c+=" mouseup"));var f={"selectstart dragstart":function(e){l&&e.preventDefault()}},p={mouseout:function(e){var n=$._focused,r=Y.getRelatedTarget(e);!n||r&&"HTML"!==r.nodeName||i(n,t(n,e),e)},scroll:n};return f[u]=function(n){var r=$._focused=e(n),i=t(r,n);l=!0,r._handleEvent("mousedown",i,n),(s=r._scope.tool)&&s._handleEvent("mousedown",i,n),r.update()},p[h]=function(r){var u=$._focused;if(!l){var h=e(r);h?(u!==h&&i(u,t(u,r),r),a=u,u=$._focused=o=h):o&&o===u&&(u=$._focused=a,n())}if(u){var c=t(u,r);(l||u.getBounds().contains(c))&&(s=i(u,c,r))}},p[c]=function(e){var n=$._focused;if(n&&l){var r=t(n,e);l=!1,n._handleEvent("mouseup",r,e),s&&s._handleEvent("mouseup",r,e),n.update()}},Y.add(document,p),Y.add(window,{load:n}),{_viewEvents:f,_handleEvent:function(){},statics:{updateFocus:n}}}}),Z=$.extend({_class:"CanvasView",initialize:function(e,t){if(!r){if(!(t instanceof HTMLCanvasElement)){var n=g.read(arguments);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));t=re.getCanvas(n)}this._context=t.getContext("2d")}if(this._eventCounters={},this._pixelRatio=1,!r&&!/^off|false$/.test(u.getAttribute(t,"hidpi"))){var i=window.devicePixelRatio||1,s=X.getPrefixed(this._context,"backingStorePixelRatio")||1;this._pixelRatio=i/s}$.call(this,e,t)},_setViewSize:function(e){var t=this._element,n=this._pixelRatio,r=e.width,i=e.height;if(t.width=r*n,t.height=i*n,1!==n){if(!u.hasAttribute(t,"resize")){var s=t.style;s.width=r+"px",s.height=i+"px"}this._context.scale(n,n)}},getPixelSize:function(e){var t=this._context,n=t.font;return t.font=e+" serif",e=parseFloat(t.font),t.font=n,e},getTextWidth:function(e,t){var n=this._context,r=n.font,i=0;n.font=e;for(var s=0,a=t.length;a>s;s++)i=Math.max(i,n.measureText(t[s]).width);return n.font=r,i},update:function(){var e=this._project;if(!e||!e._needsUpdate)return!1;var t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e.draw(t,this._matrix,this._pixelRatio),e._needsUpdate=!1,!0}},new function(){function e(e,t,n,r,i,s){function a(e){return e.responds(t)&&(o||(o=new ee(t,n,r,i,s?r.subtract(s):null)),e.emit(t,o)&&o.isStopped)?(n.preventDefault(),!0):void 0}for(var o,u=i;u;){if(a(u))return!0;u=u.getParent()}return a(e)?!0:!1}var t,n,r,i,s,a,o,u,h;return{_handleEvent:function(c,l,d){if(this._eventCounters[c]){var f=this._project,p=f.hitTest(l,{tolerance:0,fill:!0,stroke:!0}),g=p&&p.item,m=!1;switch(c){case"mousedown":for(m=e(this,c,d,l,g),u=s==g&&Date.now()-h<300,i=s=g,t=n=r=l,o=!m&&g;o&&!o.responds("mousedrag");)o=o._parent;break;case"mouseup":m=e(this,c,d,l,g,t),o&&(n&&!n.equals(l)&&e(this,"mousedrag",d,l,o,n),g!==o&&(r=l,e(this,"mousemove",d,l,g,r))),!m&&g&&g===i&&(h=Date.now(),e(this,u&&i.responds("doubleclick")?"doubleclick":"click",d,t,g),u=!1),i=o=null;break;case"mousemove":o&&(m=e(this,"mousedrag",d,l,o,n)),m||(g!==a&&(r=l),m=e(this,c,d,l,g,r)),n=r=l,g!==a&&(e(this,"mouseleave",d,l,a),a=g,e(this,"mouseenter",d,l,g))}return m}}}}),J=a.extend({_class:"Event",initialize:function(e){this.event=e},isPrevented:!1,isStopped:!1,preventDefault:function(){this.isPrevented=!0,this.event.preventDefault()},stopPropagation:function(){this.isStopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getModifiers:function(){return K.modifiers}}),Q=J.extend({_class:"KeyEvent",initialize:function(e,t,n,r){J.call(this,r),this.type=e?"keydown":"keyup",this.key=t,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),K=new function(){function e(e,t,r,i){var c,l=r?String.fromCharCode(r):"",d=n[t],f=d||l.toLowerCase(),p=e?"keydown":"keyup",g=$._focused,m=g&&g.isVisible()&&g._scope,v=m&&m.tool;h[f]=e,d&&(c=a.camelize(d))in o&&(o[c]=e),e?u[t]=r:delete u[t],v&&v.responds(p)&&(s=m,v.emit(p,new Q(e,f,l,i)),g&&g.update())}if(!r){var t,n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"option",19:"pause",20:"caps-lock",27:"escape",32:"space",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete",91:"command",93:"command",224:"command"},i={9:!0,13:!0,32:!0},o=new a({shift:!1,control:!1,option:!1,command:!1,capsLock:!1,space:!1}),u={},h={};return Y.add(document,{keydown:function(r){var s=r.which||r.keyCode;s in n||o.command?e(!0,s,s in i||o.command?s:0,r):t=s},keypress:function(n){null!=t&&(e(!0,t,n.which||n.keyCode,n),t=null)},keyup:function(t){var n=t.which||t.keyCode;n in u&&e(!1,n,u[n],t)}}),Y.add(window,{blur:function(t){for(var n in u)e(!1,n,u[n],t)}}),{modifiers:o,isDown:function(e){return!!h[e]}}}},ee=J.extend({_class:"MouseEvent",initialize:function(e,t,n,r,i){J.call(this,t),this.type=e,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),te=J.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e?e:t?t.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),ne=(h.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onActivate","onDeactivate","onEditOptions","onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onKeyDown","onKeyUp"],initialize:function(e){h.call(this),this._firstMove=!0,this._count=0,this._downCount=0,this._set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,null!=this._minDistance&&null!=this._maxDistance&&this._minDistance>this._maxDistance&&(this._maxDistance=this._minDistance)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=this._maxDistance&&this._maxDistance<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=e,this._maxDistance=e},_updateEvent:function(e,t,n,r,i,s,a){if(!i){if(null!=n||null!=r){var o=null!=n?n:0,u=t.subtract(this._point),h=u.getLength();if(o>h)return!1;var c=null!=r?r:0;if(0!=c)if(h>c)t=this._point.add(u.normalize(c));else if(a)return!1}if(s&&t.equals(this._point))return!1}switch(this._lastPoint=i&&"mousemove"==e?t:this._point,this._point=t,e){case"mousedown":this._lastPoint=this._downPoint,this._downPoint=this._point,this._downCount++;break;case"mouseup":this._lastPoint=this._downPoint}return this._count=i?0:this._count+1,!0},_fireEvent:function(e,t){var n=s.project._removeSets;if(n){"mouseup"===e&&(n.mousedrag=null);var r=n[e];if(r){for(var i in r){var a=r[i];for(var o in n){var u=n[o];u&&u!=r&&delete u[a._id]}a.remove()}n[e]=null}}return this.responds(e)&&this.emit(e,new te(this,e,t))},_handleEvent:function(e,t,n){s=this._scope;var r=!1;switch(e){case"mousedown":this._updateEvent(e,t,null,null,!0,!1,!1),r=this._fireEvent(e,n);break;case"mousedrag":for(var i=!1,a=!1;this._updateEvent(e,t,this.minDistance,this.maxDistance,!1,i,a);)r=this._fireEvent(e,n)||r,i=!0,a=!0;break;case"mouseup":!t.equals(this._point)&&this._updateEvent("mousedrag",t,this.minDistance,this.maxDistance,!1,!1,!1)&&(r=this._fireEvent("mousedrag",n)),this._updateEvent(e,t,null,this.maxDistance,!1,!1,!1),r=this._fireEvent(e,n)||r,this._updateEvent(e,t,null,null,!0,!1,!1),this._firstMove=!0;break;case"mousemove":for(;this._updateEvent(e,t,this.minDistance,this.maxDistance,this._firstMove,!0,!1);)r=this._fireEvent(e,n)||r,this._firstMove=!1}return r&&n.preventDefault(),r}}),{request:function(e,t,n){var r=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");return r.open(e.toUpperCase(),t,!0),"overrideMimeType"in r&&r.overrideMimeType("text/plain"),r.onreadystatechange=function(){if(4===r.readyState){var e=r.status;if(0!==e&&200!==e)throw new Error("Could not load "+t+" (Error "+e+")");n.call(r,r.responseText)}},r.send(null)}}),re={canvases:[],getCanvas:function(e,t){var n,i=!0;if("object"==typeof e&&(t=e.height,e=e.width),r)return{getContext:function(){}};n=this.canvases.length?this.canvases.pop():document.createElement("canvas");var s=n.getContext("2d");return n.width===e&&n.height===t?i&&s.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),s.save(),n},getContext:function(e,t){return this.getCanvas(e,t).getContext("2d")},release:function(e){var t=e.canvas?e.canvas:e;t.getContext("2d").restore(),this.canvases.push(t)}},ie=new function(){function e(e,t,n){return.2989*e+.587*t+.114*n}function t(t,n,r,i){var s=i-e(t,n,r);p=t+s,g=n+s,m=r+s;var i=e(p,g,m),a=v(p,g,m),o=_(p,g,m);if(0>a){var u=i-a;p=i+(p-i)*i/u,g=i+(g-i)*i/u,m=i+(m-i)*i/u}if(o>255){var h=255-i,c=o-i;p=i+(p-i)*h/c,g=i+(g-i)*h/c,m=i+(m-i)*h/c}}function n(e,t,n){return _(e,t,n)-v(e,t,n)}function i(e,t,n,r){var i,s=[e,t,n],a=_(e,t,n),o=v(e,t,n);o=o===e?0:o===t?1:2,a=a===e?0:a===t?1:2,i=0===v(o,a)?1===_(o,a)?2:1:0,s[a]>s[o]?(s[i]=(s[i]-s[o])*r/(s[a]-s[o]),s[a]=r):s[i]=s[a]=0,s[o]=0,p=s[0],g=s[1],m=s[2]}if(!r){var s,o,u,h,c,l,d,f,p,g,m,v=Math.min,_=Math.max,y=Math.abs,x={multiply:function(){p=c*s/255,g=l*o/255,m=d*u/255},screen:function(){p=c+s-c*s/255,g=l+o-l*o/255,m=d+u-d*u/255},overlay:function(){p=128>c?2*c*s/255:255-2*(255-c)*(255-s)/255,g=128>l?2*l*o/255:255-2*(255-l)*(255-o)/255,m=128>d?2*d*u/255:255-2*(255-d)*(255-u)/255},"soft-light":function(){var e=s*c/255;p=e+c*(255-(255-c)*(255-s)/255-e)/255,e=o*l/255,g=e+l*(255-(255-l)*(255-o)/255-e)/255,e=u*d/255,m=e+d*(255-(255-d)*(255-u)/255-e)/255},"hard-light":function(){p=128>s?2*s*c/255:255-2*(255-s)*(255-c)/255,g=128>o?2*o*l/255:255-2*(255-o)*(255-l)/255,m=128>u?2*u*d/255:255-2*(255-u)*(255-d)/255},"color-dodge":function(){p=0===c?0:255===s?255:v(255,255*c/(255-s)),g=0===l?0:255===o?255:v(255,255*l/(255-o)),m=0===d?0:255===u?255:v(255,255*d/(255-u))},"color-burn":function(){p=255===c?255:0===s?0:_(0,255-255*(255-c)/s),g=255===l?255:0===o?0:_(0,255-255*(255-l)/o),m=255===d?255:0===u?0:_(0,255-255*(255-d)/u)},darken:function(){p=s>c?c:s,g=o>l?l:o,m=u>d?d:u},lighten:function(){p=c>s?c:s,g=l>o?l:o,m=d>u?d:u},difference:function(){p=c-s,0>p&&(p=-p),g=l-o,0>g&&(g=-g),m=d-u,0>m&&(m=-m)},exclusion:function(){p=c+s*(255-c-c)/255,g=l+o*(255-l-l)/255,m=d+u*(255-d-d)/255},hue:function(){i(s,o,u,n(c,l,d)),t(p,g,m,e(c,l,d))},saturation:function(){i(c,l,d,n(s,o,u)),t(p,g,m,e(c,l,d))},luminosity:function(){t(c,l,d,e(s,o,u))},color:function(){t(s,o,u,e(c,l,d))},add:function(){p=v(c+s,255),g=v(l+o,255),m=v(d+u,255)},subtract:function(){p=_(c-s,0),g=_(l-o,0),m=_(d-u,0)},average:function(){p=(c+s)/2,g=(l+o)/2,m=(d+u)/2},negation:function(){p=255-y(255-s-c),g=255-y(255-o-l),m=255-y(255-u-d)}},b=this.nativeModes=a.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){this[e]=!0},{}),w=re.getContext(1,1);a.each(x,function(e,t){var n="darken"===t,r=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=t,w.globalCompositeOperation===t&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),r=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(i){}w.restore(),b[t]=r}),re.release(w),this.process=function(e,t,n,r,i){var a=t.canvas,v="normal"===e;if(v||b[e])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,v||(n.globalCompositeOperation=e),n.drawImage(a,i.x,i.y),n.restore();else{var _=x[e];if(!_)return;for(var y=n.getImageData(i.x,i.y,a.width,a.height),w=y.data,S=t.getImageData(0,0,a.width,a.height).data,C=0,T=w.length;T>C;C+=4){s=S[C],c=w[C],o=S[C+1],l=w[C+1],u=S[C+2],d=w[C+2],h=S[C+3],f=w[C+3],_();var O=h*r/255,k=1-O;w[C]=O*p+k*c,w[C+1]=O*g+k*l,w[C+2]=O*m+k*d,w[C+3]=h*r+k*f}n.putImageData(y,i.x,i.y)}}}},se=a.each({fillColor:["fill","color"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(e,t){return!t&&(e instanceof R||e instanceof M||e instanceof z)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","string"]},function(e,t){var n=a.capitalize(t),r=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:r,fromSVG:r&&a.each(r,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{}),ae={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"};return new function(){function e(e,t){for(var n in t){var r=t[n],i=ae[n];"number"==typeof r&&(r=S.number(r)),i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}return e}function t(t,n){return e(document.createElementNS("http://www.w3.org/2000/svg",t),n)}function n(e,t,n){var r=new a,i=e.getTranslation();if(t){e=e.shiftless();var s=e._inverseTransform(i);r[n?"cx":"x"]=s.x,r[n?"cy":"y"]=s.y,i=null}if(!e.isIdentity()){var o=e.decompose();if(o&&!o.shearing){var u=[],h=o.rotation,c=o.scaling;i&&!i.isZero()&&u.push("translate("+S.point(i)+")"),d.isZero(c.x-1)&&d.isZero(c.y-1)||u.push("scale("+S.point(c)+")"),h&&u.push("rotate("+S.number(h)+")"),r.transform=u.join(" ")}else r.transform="matrix("+e.getValues().join(",")+")"}return r}function r(r,i){for(var s=n(r._matrix),a=r._children,o=t("g",s),u=0,h=a.length;h>u;u++){var c=a[u],l=x(c,i);if(l)if(c.isClipMask()){var d=t("clipPath");d.appendChild(l),_(c,d,"clip"),e(o,{"clip-path":"url(#"+d.id+")"})}else o.appendChild(l)}return o}function s(e){var r=n(e._matrix,!0),i=e.getSize();return r.x-=i.width/2,r.y-=i.height/2,r.width=i.width,r.height=i.height,r.href=e.toDataURL(),t("image",r)}function o(e,r){if(r.matchShapes){var s=e.toShape(!1);if(s)return u(s,r)}var a,o=e._segments,h=n(e._matrix);if(0===o.length)return null;if(e.isPolygon())if(o.length>=3){a=e._closed?"polygon":"polyline";var c=[];for(i=0,l=o.length;i<l;i++)c.push(S.point(o[i]._point));h.points=c.join(" ")}else{a="line";var d=o[0]._point,f=o[o.length-1]._point;h.set({x1:d.x,y1:d.y,x2:f.x,y2:f.y})}else a="path",h.d=e.getPathData(null,r.precision);return t(a,h)}function u(e){var r=e._type,i=e._radius,s=n(e._matrix,!0,"rectangle"!==r);if("rectangle"===r){r="rect";var a=e._size,o=a.width,u=a.height;s.x-=o/2,s.y-=u/2,s.width=o,s.height=u,i.isZero()&&(i=null)}return i&&("circle"===r?s.r=i:(s.rx=i.width,s.ry=i.height)),t(r,s)}function h(e,r){var i=n(e._matrix),s=e.getPathData(null,r.precision);return s&&(i.d=s),t("path",i)}function f(e,r){var i=n(e._matrix,!0),s=e.getSymbol(),a=v(s,"symbol"),o=s.getDefinition(),u=o.getBounds();return a||(a=t("symbol",{viewBox:S.rectangle(u)}),a.appendChild(x(o,r)),_(s,a,"symbol")),i.href="#"+a.id,i.x+=u.x,i.y+=u.y,i.width=S.number(u.width),i.height=S.number(u.height),i.overflow="visible",t("use",i)}function p(e){var n=v(e,"color");if(!n){var r,i=e.getGradient(),s=i._radial,a=e.getOrigin().transform(),o=e.getDestination().transform();if(s){r={cx:a.x,cy:a.y,r:a.getDistance(o)};var u=e.getHighlight();u&&(u=u.transform(),r.fx=u.x,r.fy=u.y)}else r={x1:a.x,y1:a.y,x2:o.x,y2:o.y};r.gradientUnits="userSpaceOnUse",n=t((s?"radial":"linear")+"Gradient",r);for(var h=i._stops,c=0,l=h.length;l>c;c++){var d=h[c],f=d._color,p=f.getAlpha();r={offset:d._rampPoint,"stop-color":f.toCSS(!0)},1>p&&(r["stop-opacity"]=p),n.appendChild(t("stop",r))}_(e,n,"color")}return"url(#"+n.id+")"}function g(e){var r=t("text",n(e._matrix,!0));return r.textContent=e._content,r}function m(t,n,r){var i={},s=!r&&t.getParent();return null!=t._name&&(i.id=t._name),a.each(se,function(e){var n=e.get,r=e.type,o=t[n]();if(e.exportFilter?e.exportFilter(t,o):!s||!a.equals(s[n](),o)){if("color"===r&&null!=o){var u=o.getAlpha();1>u&&(i[e.attribute+"-opacity"]=u)}i[e.attribute]=null==o?"none":"number"===r?S.number(o):"color"===r?o.gradient?p(o,t):o.toCSS(!0):"array"===r?o.join(","):"lookup"===r?e.toSVG[o]:o}}),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),e(n,i)}function v(e,t){return T||(T={ids:{},svgs:{}}),e&&T.svgs[t+"-"+e._id]}function _(e,t,n){T||v();var r=T.ids[n]=(T.ids[n]||0)+1;t.id=n+"-"+r,T.svgs[n+"-"+e._id]=t}function y(e,n){var r=e,i=null;if(T){r="svg"===e.nodeName.toLowerCase()&&e;for(var s in T.svgs)i||(r||(r=t("svg"),r.appendChild(e)),i=r.insertBefore(t("defs"),r.firstChild)),i.appendChild(T.svgs[s]);T=null}return n.asString?(new XMLSerializer).serializeToString(r):r}function x(e,t,n){var r=O[e._class],i=r&&r(e,t);if(i){var s=t.onExport;s&&(i=s(e,i,t)||i);var a=JSON.stringify(e._data);a&&"{}"!==a&&"null"!==a&&i.setAttribute("data-paper-data",a)}return i&&m(e,i,n)}function b(e){return e||(e={}),S=new c(e.precision),e}var S,T,O={Group:r,Layer:r,Raster:s,Path:o,Shape:u,CompoundPath:h,PlacedSymbol:f,PointText:g};C.inject({exportSVG:function(e){return e=b(e),y(x(this,e,!0),e)}}),w.inject({exportSVG:function(e){e=b(e);var r=this.layers,i=this.getView(),s=i.getViewSize(),a=t("svg",{x:0,y:0,width:s.width,height:s.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),o=a,u=i._matrix;u.isIdentity()||(o=a.appendChild(t("g",n(u))));for(var h=0,c=r.length;c>h;h++)o.appendChild(x(r[h],e,!0));return y(a,e)}})},new function(){function e(e,t,n,r){var i=ae[t],s=i?e.getAttributeNS(i,t):e.getAttribute(t);return"null"===s&&(s=null),null==s?r?null:n?"":0:n?s:parseFloat(s)}function n(t,n,r,i){return n=e(t,n,!1,i),r=e(t,r,!1,i),!i||null!=n&&null!=r?new f(n,r):null}function r(t,n,r,i){return n=e(t,n,!1,i),r=e(t,r,!1,i),!i||null!=n&&null!=r?new g(n,r):null}function i(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?v(e)||e:"lookup"===t?n[e]:e}function o(e,t,n,r){var i=e.childNodes,s="clippath"===t,a=new T,o=a._project,u=o._currentStyle,h=[];s||(a=m(a,e,r),o._currentStyle=a._style.clone());for(var c=0,l=i.length;l>c;c++){var d,f=i[c];1!==f.nodeType||!(d=y(f,n,!1))||d instanceof S||h.push(d)}return a.addChildren(h),s&&(a=m(a.reduce(),e,r)),o._currentStyle=u,(s||"defs"===t)&&(a.remove(),a=null),a}function u(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,s=n.length;s>i;i+=2)r.push(new f(parseFloat(n[i]),parseFloat(n[i+1])));var a=new D(r);return"polygon"===t&&a.closePath(),a}function h(e){var t=e.getAttribute("d"),n={pathData:t};return(t.match(/m/gi)||[]).length>1||/z\S+/i.test(t)?new U(n):new D(n)}function c(t,r){var i,s=(e(t,"href",!0)||"").substring(1),a="radialgradient"===r;if(s)i=k[s].getGradient();else{for(var o=t.childNodes,u=[],h=0,c=o.length;c>h;h++){var l=o[h];1===l.nodeType&&u.push(m(new G,l))}i=new q(u,a)}var d,f,p;return a?(d=n(t,"cx","cy"),f=d.add(e(t,"r"),0),p=n(t,"fx","fy",!0)):(d=n(t,"x1","y1"),f=n(t,"x2","y2")),m(new W(i,d,f,p),t),null}function l(e,t,n,r){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),s=new x,a=0,o=i.length;o>a;a++){var u=i[a];if(!u)break;for(var h=u.split(/\(\s*/),c=h[0],l=h[1].split(/[\s,]+/g),d=0,f=l.length;f>d;d++)l[d]=parseFloat(l[d]);switch(c){case"matrix":s.concatenate(new x(l[0],l[1],l[2],l[3],l[4],l[5]));break;case"rotate":s.rotate(l[0],l[1],l[2]);break;case"translate":s.translate(l[0],l[1]);break;case"scale":s.scale(l);break;case"skewX":s.skew(l[0],0);break;case"skewY":s.skew(0,l[0])}}e.transform(s)}function d(e,t,n){var r=e["fill-opacity"===n?"getFillColor":"getStrokeColor"]();r&&r.setAlpha(parseFloat(t))}function p(e,n,r){var i=e.attributes[n],s=i&&i.value;if(!s){var o=a.camelize(n);s=e.style[o],s||r.node[o]===r.parent[o]||(s=r.node[o])}return s?"none"===s?null:s:t}function m(e,n,r){var i={node:X.getStyles(n)||{},parent:!r&&X.getStyles(n.parentNode)||{}};return a.each(O,function(r,s){var o=p(n,s,i);o!==t&&(e=a.pick(r(e,o,s,n,i),e))}),e}function v(e){var t=e&&e.match(/\((?:#|)([^)']+)/);return t&&k[t[1]]}function y(e,t,n){function r(e){s=a;var r=y(e,t,n),i=t.onLoad,o=a.project&&a.getView();i&&i.call(this,r),o.update()}if(!e)return null;t?"function"==typeof t&&(t={onLoad:t}):t={};var i=e,a=s;if(n)if("string"!=typeof e||/^.*</.test(e)){if("undefined"!=typeof File&&e instanceof File){var o=new FileReader;return o.onload=function(){r(o.result)},o.readAsText(e)}}else{if(i=document.getElementById(e),!i)return ne.request("get",e,r);e=null}if("string"==typeof e&&(i=(new DOMParser).parseFromString(e,"image/svg+xml")),!i.nodeName)throw new Error("Unsupported SVG source: "+e);var u,h=i.nodeName.toLowerCase(),c=b[h],l=i.getAttribute&&i.getAttribute("data-paper-data"),d=a.settings,f=d.applyMatrix;if(d.applyMatrix=!1,u=c&&c(i,h,t,n)||null,d.applyMatrix=f,u){"#document"===h||u instanceof T||(u=m(u,i,n));var p=t.onImport;p&&(u=p(i,u,t)||u),t.expandShapes&&u instanceof M&&(u.remove(),u=u.toPath()),l&&(u._data=JSON.parse(l))}return n&&(k={},f&&u&&u.matrix.apply(!0,!0)),u}var b={"#document":function(e,t,n,r){for(var i=e.childNodes,s=0,a=i.length;a>s;s++){var o=i[s];if(1===o.nodeType){var u=o.nextSibling;document.body.appendChild(o);var h=y(o,n,r);return u?e.insertBefore(o,u):e.appendChild(o),h}}},g:o,svg:o,clippath:o,polygon:u,polyline:u,path:h,lineargradient:c,radialgradient:c,image:function(t){var i=new P(e(t,"href",!0));return i.on("load",function(){var e=r(t,"width","height");this.setSize(e);var i=this._matrix._transformPoint(n(t,"x","y").add(e.divide(2)));this.translate(i)}),i},symbol:function(e,t,n,r){return new S(o(e,t,n,r),!0)},defs:o,use:function(t){var r=(e(t,"href",!0)||"").substring(1),i=k[r],s=n(t,"x","y");return i?i instanceof S?i.place(s):i.clone().translate(s):null},circle:function(t){return new M.Circle(n(t,"cx","cy"),e(t,"r"))},ellipse:function(e){return new M.Ellipse({center:n(e,"cx","cy"),radius:r(e,"rx","ry")})},rect:function(e){var t=n(e,"x","y"),i=r(e,"width","height"),s=r(e,"rx","ry");return new M.Rectangle(new _(t,i),s)},line:function(e){return new D.Line(n(e,"x1","y1"),n(e,"x2","y2"))},text:function(e){var t=new H(n(e,"x","y").add(n(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),t}},O=a.each(se,function(e){this[e.attribute]=function(t,n){if(t[e.set](i(n,e.type,e.fromSVG)),"color"===e.type&&t instanceof M){var r=t[e.get]();r&&r.transform((new x).translate(t.getPosition(!0).negate()))}}},{id:function(e,t){k[t]=e,e.setName&&e.setName(t)},"clip-path":function(e,t){var n=v(t);if(n){if(n=n.clone(),n.setClipMask(!0),!(e instanceof T))return new T(n,e);e.insertChild(0,n)}},gradientTransform:l,transform:l,"fill-opacity":d,"stroke-opacity":d,visibility:function(e,t){e.setVisible("visible"===t)},display:function(e,t){e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){var n=t.match(/(.*)%$/);e.setRampPoint(n?n[1]/100:parseFloat(t))},viewBox:function(e,t,n,s,a){var o=new _(i(t,"array")),u=r(s,"width","height",!0);if(e instanceof T){var h=u?o.getSize().divide(u):1,c=(new x).translate(o.getPoint()).scale(h);e.transform(c.inverted())}else if(e instanceof S){u&&o.setSize(u);var l="visible"!=p(s,"overflow",a),d=e._definition;l&&!o.contains(d.getBounds())&&(l=new M.Rectangle(o).transform(d._matrix),l.setClipMask(!0),d.addChild(l))}}}),k={};C.inject({importSVG:function(e,t){return this.addChild(y(e,t,!0))}}),w.inject({importSVG:function(e,t){return this.activate(),y(e,t,!0)}})},s=new(u.inject(a.exports,{enumerable:!0,Base:a,Numerical:d,Key:K})),"function"==typeof e&&e.amd?e("paper",s):"object"==typeof n&&n&&(n.exports=s),s}},{}],3:[function(e,t,n){function r(e){return 1===arguments.length&&e instanceof r?e:((arguments.length>1||!Array.isArray(e))&&(e=[].slice.call(arguments,0)),this.length=0,e.forEach(function(e){if(e instanceof r)for(var t=-1;++t<e.length;)this[this.length++]=e[t];else this[this.length++]=e},this),this)}function i(e,t,n){return function i(){var s,a,o=[];return this instanceof i?(s=Object.create(t),a=e.apply(s,arguments),n?a:s):(Array.isArray(arguments[0])?arguments[0].forEach(function(r,i){o.push(Object.create(t)),s=e.call(o[i],r),n&&(o[i]=s)}):(o.push(Object.create(t)),s=e.apply(o[0],arguments),n&&(o[0]=s)),new r(o))}}function s(e){return"function"==typeof this[e]&&u.test(e)}function a(e,t,n){if(e&&e[t]instanceof r)e[t]=n?[].slice.call(e[t],0):e[t][0];else if(e&&e[t].length&&e[t][0]instanceof r)for(var i=-1;++i<e[t].length;)e[t][i]=e[t][i][0]}function o(){var e,t,n=this.isPlural,r=[].slice.call(arguments,0);if(r[0]&&r[0].constructor===Object)"children"in r[0]?e="children":"segments"in r[0]?e="segments":"nodes"in r[0]&&(e="nodes"),a(r[0],e,!0);else for(t=-1;++t<r.length;)a(r,t,t===r.length-1&&n);return r}r.prototype.forEach=function(e,t){for(var n=-1;++n<this.length;)e.call(t||this[n],this[n],n,this);return this},r.prototype.prop=function(e,t){var n;if("object"==typeof e){for(n=-1;++n<this.length;)this[n].set(e);return this}if(void 0===t)return this[0][e];for(n=-1;++n<this.length;)this[n][e]=t;return this};var u=/(^|\.)[A-Z][A-z]+$/;r.proxy=function(e){var t=this;t.paper=e;var n={};Object.getOwnPropertyNames(e.PaperScope.prototype).filter(s,e.PaperScope.prototype).forEach(function(e){t[e]=i(this[e],this[e].prototype),"Collection"!==e&&Object.getOwnPropertyNames(this[e].prototype).forEach(function(e){Object.getOwnPropertyDescriptor(this,e).get||"function"!=typeof this[e]||(n[e]=!0)},this[e].prototype)},e.PaperScope.prototype),Object.keys(e.PaperScope.prototype.Path).filter(s,e.PaperScope.prototype.Path).forEach(function(e){t.Path[e]=i(this[e],this.prototype,!0)},e.PaperScope.prototype.Path),Object.keys(e.PaperScope.prototype.Shape).filter(s,e.PaperScope.prototype.Shape).forEach(function(e){t.Shape[e]=i(this[e],this.prototype,!0)},e.PaperScope.prototype.Shape),t.setup=e.setup.bind(e),Object.keys(n).sort().forEach(function(e){"constructor"!==e&&(r.prototype[e]=function(){var t,n,r=o.apply(null,arguments);for(t=-1;++t<this.length;)n=this[t][e].apply(this[t],r);return n})});var a=["set","setX","setY","insertAbove","insertBelow","sendToBack","bringToFront","remove","removeChildren","reverseChildren","translate","rotate","scale","shear","skew","transform","fitBounds","emit","activate","setPixel","smooth","moveTo","lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","closePath","moveBy","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy","removeSegments","simplify","reverse","include","expand","scale","addChild","insertChild","addChildren","insertChildren","replaceWith","appendTop","appendBottom","add","insert","addSegments","insertSegments","addNode","addNodes","insertNodes","addGlyph","addGlyphs","addContour","insertContour","addContours","insertContours","addAnchor","addAnchors","addComponent","addComponents","addUnicode","prepareOt","addToFonts","download"],u=["addChildren","insertChildren","addSegments","insertSegments","addNodes","insertNodes","addGlyphs","addAnchors","addContours","insertContours","addComponents"];a.forEach(function(e){r.prototype[e]=function(){var t,n=o.apply({isPlural:-1!==u.indexOf(e)},arguments);for(t=-1;++t<this.length;)this[t][e].apply(this[t],n);return this}})},t.exports=r},{}],4:[function(e,t,n){function r(e){s.Group.prototype.constructor.apply(this),e||(e={}),e.styleName||(e.styleName="Regular"),e.unitsPerEm||(e.unitsPerEm=1024),this.fontinfo=this.ot=new i.Font(e),this.glyphMap={},this.charMap={},this.altMap={},
this._subset=!1,this.addGlyph(new a({name:".notdef",unicode:0})),e&&e.glyphs&&this.addGlyphs(e.glyphs),"object"==typeof window&&window.document&&(document.fonts?(this.addedFonts=[],setInterval(function(){for(;this.addedFonts.length>1;)document.fonts["delete"](this.addedFonts.shift())}.bind(this),1e3)):(document.head.appendChild(this.styleElement=document.createElement("style")),this.styleSheet=document.styleSheets[[].map.call(document.styleSheets,function(e){return e.ownerNode}).indexOf(this.styleElement)]))}var i=e("../node_modules/opentype.js/dist/opentype.js"),s=e("../node_modules/paper/dist/paper-core.js"),a=e("./Glyph.js");if(r.prototype=Object.create(s.Group.prototype),r.prototype.constructor=r,Object.defineProperty(r.prototype,"glyphs",Object.getOwnPropertyDescriptor(s.Item.prototype,"children")),r.prototype.addGlyph=function(e){return this.addChild(e),this.glyphMap[e.name]=e,void 0===e.ot.unicode?e:((!this.charMap[e.ot.unicode]||1===e.name.length&&e.name.charCodeAt(0)===e.ot.unicode)&&(this.charMap[e.ot.unicode]=e),this.altMap[e.ot.unicode]||(this.altMap[e.ot.unicode]=[]),this.altMap[e.ot.unicode].push(e),this._lastSubset=void 0,e)},r.prototype.addGlyphs=function(e){return e.forEach(function(e){this.addGlyph(e)},this)},Object.defineProperty(r.prototype,"subset",{get:function(){return this.getGlyphSubset()},set:function(e){this._subset="boolean"==typeof e?e:r.normalizeSubset(e)}}),r.prototype.getGlyphSubset=function(e){var t=void 0===e?this._subset:"boolean"==typeof e?e:r.normalizeSubset(e);return t===!0?this.children:t.length&&"number"!=typeof t[0]?(-1===t.indexOf(this.glyphMap[".notdef"])&&t.unshift(this.glyphMap[".notdef"]),t):this._lastSubset&&this._lastSubset[0]===("object"==typeof t?t.join():t)?this._lastSubset[1]:(this._lastSubset=["object"==typeof t?t.join():t,this.children.filter(function(e){return t===!1&&(void 0!==e.ot.unicode||e.ot.unicodes&&e.ot.unicodes.length)?!0:t&&-1!==t.indexOf(e.ot.unicode)||0===e.ot.unicode?!0:!1},this)],this._lastSubset[1])},r.prototype.interpolate=function(e,t,n,r){if(this.getGlyphSubset(r).map(function(r){r.interpolate(e.glyphMap[r.name],t.glyphMap[r.name],n)}),this.ot.kerningPairs)for(var i in this.ot.kerningPairs)this.ot.kerningPairs[i]=e.ot.kerningPairs[i]+(t.ot.kerningPairs[i]-e.ot.kerningPairs[i])*n;return this.ot.ascender=e.ot.ascender+(t.ot.ascender-e.ot.ascender)*n,this.ot.descender=e.ot.descender+(t.ot.descender-e.ot.descender)*n,this},r.prototype.updateSVGData=function(e){return this.getGlyphSubset(e).map(function(e){return e.updateSVGData()}),this},r.prototype.updateOTCommands=function(e){return this.getGlyphSubset(e).map(function(e){return e.updateOTCommands()}),this.ot.glyphs=this.getGlyphSubset().map(function(e){return e.ot}),this},r.prototype.importOT=function(e){return this.ot=e,e.glyphs.forEach(function(e){var t=new a({name:e.name,unicode:e.unicode});this.addGlyph(t),t.importOT(e)},this),this},"object"==typeof window&&window.document){var o=window.URL||window.webkitURL;r.prototype.addToFonts=document.fonts?function(e){var t=new window.FontFace(this.ot.familyName,e||this.ot.toBuffer());return document.fonts.add(t),this.addedFonts.push(t),this}:function(e){var t=o.createObjectURL(new Blob([new DataView(e||this.ot.toBuffer())],{type:"font/opentype"}));return this.fontObjectURL&&(o.revokeObjectURL(this.fontObjectURL),this.styleSheet.deleteRule(0)),this.styleSheet.insertRule('@font-face { font-family: "'+this.ot.familyName+'";src: url('+t+"); }",0),this.fontObjectURL=t,this},r.prototype.download=function(e){var t=new FileReader;return t.onloadend=function(){window.location=t.result},t.readAsDataURL(new Blob([new DataView(e||this.ot.toBuffer())],{type:"font/opentype"})),this}}r.normalizeSubset=function(e){return("string"==typeof e?e.split("").map(function(e){return e.charCodeAt(0)}):e||[]).filter(function(e,t,n){return n.lastIndexOf(e)===t}).sort()},t.exports=r},{"../node_modules/opentype.js/dist/opentype.js":1,"../node_modules/paper/dist/paper-core.js":2,"./Glyph.js":5}],5:[function(e,t,n){function r(e){s.Group.prototype.constructor.apply(this),e&&"string"==typeof e.unicode&&(e.unicode=e.unicode.charCodeAt(0)),this.ot=new i.Glyph(e),this.ot.path=new i.Path,this.name=e.name,this.ot.unicode=e.unicode,this.addChild(new a),this.addChild(new s.Group),this.anchors=e&&e.anchors||[],this.parentAnchors=e&&e.parentAnchors||[],this.visible=!1,this.fillColor=new s.Color(0,0,0),this.strokeColor=new s.Color(0,0,0),this.strokeScaling=!1}var i=e("../node_modules/opentype.js/dist/opentype.js"),s=e("../node_modules/paper/dist/paper-core.js"),a=e("./Outline.js");r.prototype=Object.create(s.Group.prototype),r.prototype.constructor=r,Object.defineProperty(r.prototype,"unicode",{set:function(e){this.ot.unicode="string"==typeof e?e.charCodeAt(0):e},get:function(){return this.ot.unicode}}),Object.defineProperty(r.prototype,"contours",{get:function(){return this.children[0].children}}),Object.defineProperty(r.prototype,"components",{get:function(){return this.children[1].children}}),Object.getOwnPropertyNames(s.Item.prototype).forEach(function(e){var t=this;Object.getOwnPropertyDescriptor(t,e).get||"function"!=typeof t[e]||(-1!==e.indexOf("Children")?(t[e.replace("Children","Contours")]=function(){t[e].apply(this.children[0],arguments)},t[e.replace("Children","Components")]=function(){t[e].apply(this.children[1],arguments)}):-1!==e.indexOf("Child")&&(t[e.replace("Child","Contour")]=function(){t[e].apply(this.children[0],arguments)},t[e.replace("Child","Component")]=function(){t[e].apply(this.children[1],arguments)}))},s.Item.prototype),r.prototype.addAnchor=function(e){return this.anchors.push(e),e},r.prototype.addAnchors=function(e){return e.forEach(function(e){this.addAnchor(e)},this)},r.prototype.addParentAnchor=function(e){return this.parentAnchors.push(e),e},r.prototype.addUnicode=function(e){return this.ot.addUnicode(e),this},r.prototype.interpolate=function(e,t,n){return this.children[0].interpolate(e.children[0],t.children[0]),this.children[1].children.forEach(function(r,i){r.interpolate(e.children[1].children[i],t.children[1].children[i],n)}),this.ot.advanceWidth=e.ot.advanceWidth+(t.ot.advanceWidth-e.ot.advanceWidth)*n,this.ot.leftSideBearing=e.ot.leftSideBearing+(t.ot.leftSideBearing-e.ot.leftSideBearing)*n,this.ot.xMax=e.ot.xMax+(t.ot.xMax-e.ot.xMax)*n,this.ot.xMin=e.ot.xMin+(t.ot.xMin-e.ot.xMin)*n,this.ot.yMax=e.ot.yMax+(t.ot.yMax-e.ot.yMax)*n,this.ot.yMin=e.ot.yMin+(t.ot.yMin-e.ot.yMin)*n,this},r.prototype.updateSVGData=function(e){return e||(this.svgData=[],e=this.svgData),this.children[0].updateSVGData(e),this.children[1].children.forEach(function(t){t.updateSVGData(e)}),this.svgData},r.prototype.updateOTCommands=function(e){return e||(this.ot.path.commands=[],e=this.ot.path),this.children[0].updateOTCommands(e),this.children[1].children.forEach(function(t){t.updateOTCommands(e)}),this.ot},r.prototype.importOT=function(e){var t;return this.ot=e,e.path&&e.path.commands?(this.ot.path.commands.forEach(function(e){switch(e.type){case"M":t=new s.Path,this.addContour(t),t.moveTo(e);break;case"L":t.lineTo(e);break;case"C":t.cubicCurveTo([e.x1,e.y1],[e.x2,e.y2],e);break;case"Q":t.quadraticCurveTo([e.x1,e.y1],e);break;case"Z":t&&t.closePath()}},this),this):this},t.exports=r},{"../node_modules/opentype.js/dist/opentype.js":1,"../node_modules/paper/dist/paper-core.js":2,"./Outline.js":7}],6:[function(e,t,n){var r=e("../node_modules/paper/dist/paper-core.js");Object.defineProperty(r.Segment.prototype,"x",{get:function(){return this.point.x},set:function(e){this.point.x=e}}),Object.defineProperty(r.Segment.prototype,"y",{get:function(){return this.point.y},set:function(e){this.point.y=e}}),t.exports=r.Segment},{"../node_modules/paper/dist/paper-core.js":2}],7:[function(e,t,n){function r(){i.CompoundPath.prototype.constructor.apply(this)}var i=e("../node_modules/paper/dist/paper-core.js");r.prototype=Object.create(i.CompoundPath.prototype),r.prototype.constructor=r,r.prototype.insertChildren=function(e,t,n){return Array.isArray(t)&&(t=[].concat.apply([],t.map(function(e){return e instanceof i.Path?e:e.children}))),i.Item.prototype.insertChildren.call(this,e,t,n,i.Path)},r.prototype.interpolate=function(e,t,n){for(var r=0,i=this.contours.length;i>r&&(e.children[r]&&t.children[r]);r++)this.children[r].interpolate(e.children[r],t.children[r],n);return this},r.prototype.updateSVGData=function(e){return e||(this.svgData=[],e=this.svgData),this.children.forEach(function(t){t.updateSVGData(e,t.globalMatrix)},this),this.svgData},r.prototype.updateOTCommands=function(e){return e||(this.ot.path.commands=[],e=this.ot.path),this.children.forEach(function(t){t.updateOTCommands(e,t.globalMatrix)},this),this.ot},t.exports=r},{"../node_modules/paper/dist/paper-core.js":2}],8:[function(e,t,n){var r=e("../node_modules/paper/dist/paper-core.js"),i=r.PaperScope.prototype.Path.prototype;["add","insert","remove"].forEach(function(e){i[e+"Nodes"]=i[e+"Segments"]}),Object.defineProperties(i,{nodes:Object.getOwnPropertyDescriptor(i,"segments"),firstNode:Object.getOwnPropertyDescriptor(i,"firstSegment"),lastNode:Object.getOwnPropertyDescriptor(i,"lastSegment")}),i._updateData=function(e,t,n,i){if(this.visible===!1)return e;var s="clockwise"===this["export"]&&!this.clockwise||"anticlockwise"===this["export"]&&this.clockwise,a=this.curves,o=a[s?a.length-1:0]["point"+(s?2:1)].transform(t);n("M",Math.round(o.x)||0,Math.round(o.y)||0);for(var u=-1,h=a.length;++u<h;){var c=a[s?h-1-u:u],l=c["point"+(s?1:2)].transform(t);if(c.isLinear())n("L",Math.round(l.x)||0,Math.round(l.y)||0);else{var d=new r.Point(c.point1.x+c.handle1.x,c.point1.y+c.handle1.y).transform(t),f=new r.Point(c.point2.x+c.handle2.x,c.point2.y+c.handle2.y).transform(t);s?i("C",Math.round(f.x)||0,Math.round(f.y)||0,Math.round(d.x)||0,Math.round(d.y)||0,Math.round(l.x)||0,Math.round(l.y)||0):i("C",Math.round(d.x)||0,Math.round(d.y)||0,Math.round(f.x)||0,Math.round(f.y)||0,Math.round(l.x)||0,Math.round(l.y)||0)}}return this.closed&&n("Z"),e},i.updateOTCommands=function(e,t){return this._updateData(e,t,function(){e.commands.push({type:arguments[0],x:arguments[1],y:arguments[2]})},function(){e.commands.push({type:arguments[0],x1:arguments[1],y1:arguments[2],x2:arguments[3],y2:arguments[4],x:arguments[5],y:arguments[6]})})},i.updateSVGData=function(e,t){return this._updateData(e,t,function(){e.push.apply(e,arguments)},function(){e.push.apply(e,arguments)})},t.exports=r.Path},{"../node_modules/paper/dist/paper-core.js":2}],9:[function(e,t,n){function r(e){if(1===arguments.length&&e instanceof l)return e;var t=Object.create(l.prototype);return l.apply(t,arguments),t}var i=e("../node_modules/opentype.js/dist/opentype.js"),s=e("../node_modules/paper/dist/paper-core.js"),a=e("./Font.js"),o=e("./Glyph.js"),u=e("./Outline"),h=e("./Path.js"),c=e("./Node.js"),l=e("./Collection.js");s.PaperScope.prototype.Font=a,s.PaperScope.prototype.Glyph=o,s.PaperScope.prototype.Outline=u,s.PaperScope.prototype.Path=h,s.PaperScope.prototype.Node=c,s.PaperScope.prototype.Collection=l,r.opentype=i,r.proxy=l.proxy.bind(r),r.proxy(s),t.exports=r},{"../node_modules/opentype.js/dist/opentype.js":1,"../node_modules/paper/dist/paper-core.js":2,"./Collection.js":3,"./Font.js":4,"./Glyph.js":5,"./Node.js":6,"./Outline":7,"./Path.js":8}]},{},[9,2])(9)})},{}],36:[function(e,t,n){var r=e("plumin.js"),i=e("deptree"),s=e("lodash/lang/clone"),a=e("es6-object-assign").assign,o=e("./updateUtils.js"),u=r.paper,h=o,c={assign:a,clone:s};h.ufoToPaper=function(e){return e.parameter&&(e.parameters=e.parameter,delete e.parameter),e.anchor&&(e.anchors=e.anchor,delete e.anchor),e.outline&&e.outline.contour&&(e.contours=e.outline.contour,delete e.outline.contour),e.contours&&e.contours.forEach(function(e){e.point&&(e.nodes=e.point,delete e.point)}),e.outline&&e.outline.component&&(e.components=e.outline.component,e.components.forEach(function(e){e.anchor&&(e.parentAnchors=e.anchor,delete e.anchor),e.parameter&&(e.parentParameters=e.parameter,delete e.parameter)}),delete e.outline.component),delete e.outline,e.lib&&e.lib.transforms&&(e.transforms=e.lib.transforms,delete e.lib.transforms),e.lib&&e.lib.transformOrigin&&(e.transformOrigin=e.lib.transformOrigin,delete e.lib.transformOrigin),e.lib&&e.lib.parameters&&(e.parameters=e.lib.parameters,delete e.lib.parameters),e.lib&&e.lib.solvingOrder&&(e.solvingOrder=e.lib.solvingOrder,delete e.lib.solvingOrder),e},h.fontFromSrc=function(e){e.fontinfo||(e.fontinfo=e.info);var t=new u.Font(e.fontinfo);t.src=h.ufoToPaper(e);var n=c.assign({},e);return delete n.controls,delete n.presets,delete n.glyphs,h.createUpdaters(n,"font_"+e.fontinfo.familyName),t.parameters={},h.mergeStatic(t.parameters,t.src.parameters),t.solvingOrder=t.src.solvingOrder,t.solvingOrder||(t.solvingOrder=n.solvingOrder=h.solveDependencyTree(t,n)),t},h.glyphFromSrc=function(e,t,n,r){var i=new u.Glyph({name:e.name,unicode:e.unicode});return i.src=c.clone(e,!0),h.mergeStatic(i,i.src),i.parameters={},h.mergeStatic(i.parameters,i.src.parameters),i.solvingOrder=i.src.solvingOrder,(i.src.anchors||[]).forEach(function(e){var t=new u.Node;t.src=e,h.mergeStatic(t,e),i.addAnchor(t)}),(i.src.contours||[]).forEach(function(e){var t=new u.Path;t.src=e,h.mergeStatic(t,e),i.addContour(t),e.nodes.forEach(function(e){var n=new u.Node;n.src=e,h.mergeStatic(n,e),t.add(n)})}),i.src.components?(i.embedComponents=function(){i.src.components.forEach(function(e){var r=h.glyphFromSrc(t.glyphs[e.base],t,n,!0);r.parentParameters={},h.mergeStatic(r.parentParameters,e.parentParameters),n.annotator(r),i.addComponent(r),(e.parentAnchors||[]).forEach(function(e){var t=new u.Node;t.src=e,h.mergeStatic(t,e),r.addParentAnchor(t)})}),delete i.embedComponents},r&&i.embedComponents(),i):i},h.cursor=function(){for(var e=[],t=-1;++t<arguments.length;)0===t&&"number"==typeof arguments[0]&&e.push("contours"),1===t&&"number"==typeof arguments[0]&&e.push("nodes"),e.push(arguments[t]);return e.join(".")},h.propFromCursor=function(e,t,n){void 0===n&&(n=e.length);for(var r=-1;++r<n;)t=t[e[r]];return t},h.mergeStatic=function(e,t){for(var n in t)"object"!=typeof t[n]?e[n]=t[n]:t[n]._dependencies&&0===t[n]._dependencies.length&&0===t[n]._parameters.length&&(e[n]=t[n]._updaters[0].apply(e,[null,null,null,null,h]),delete t[n])},h.createUpdaters=function(e,t){if(e.constructor===Object&&("string"==typeof e._operation||"function"==typeof e._operation)){var n=["propName","contours","anchors","parentAnchors","Utils"].concat(e._parameters||[]).concat(("string"==typeof e._operation&&-1===e._operation.indexOf("return ")?"return ":"")+e._operation.toString().replace(/function\s*\(\)\s*\{([\s\S]*?)\}$/,"$1").trim()+"\n\n//# sourceURL="+t);return e._updaters=[Function.apply(null,n)],e._updaters}if(e.constructor===Object)for(var r in e)h.createUpdaters(e[r],t+"."+r);e.constructor===Array&&e.forEach(function(e,n){h.createUpdaters(e,t+"."+n)})},h.solveDependencyTree=function(e,t){var n=h.dependencyTree(t||e.src,null),r=n.resolve().map(function(e){return e.split(".")}),i=h.simplifyResolutionOrder(e,r);return i},h.dependencyTree=function(e,t,n){return n||(n=new i),Object.keys(e).forEach(function(r){if("parameters"!==r&&0!==r.indexOf("_")&&"object"==typeof e[r]){var i=e[r],s=t?t+"."+r:r;(i._updaters&&i._updaters.length||i._dependencies&&i._dependencies.length)&&n.add(s,i._dependencies.filter(function(e){return!/^parentAnchors/.test(e)})),i._operation||h.dependencyTree(i,s,n)}}),n},h.simplifyResolutionOrder=function(e,t){return t.filter(function(t){var n=h.propFromCursor(t,e.src);return n&&n._updaters})};var l=/deg$/;h.transformsToMatrix=function(e,t){var n=new Float32Array(6),r=new Float32Array(6),i=new Float32Array([1,0,0,1,0,0]);return t&&Array.isArray(t)?(e.unshift(["translate",t[0],t[1]]),e.push(["translate",-t[0],-t[1]])):t&&(e.unshift(["translate",t.x,t.y]),e.push(["translate",-t.x,-t.y])),e.forEach(function(e){r[0]=r[3]=1,r[1]=r[2]=r[4]=r[5]=0;for(var t=1;t<e.length;t++)e[t]&&"string"==typeof e[t]&&l.test(e[t])&&(e[t]=parseFloat(e[t])*(2*Math.PI/360));switch(e[0]){case"translateX":r[4]=e[1];break;case"translateY":r[5]=e[1];break;case"translate":r[4]=e[1],r[5]=e[2]||0;break;case"rotate":r[0]=Math.cos(e[1]),r[1]=Math.sin(e[1]),r[2]=-r[1],r[3]=r[0];break;case"scaleX":r[0]=e[1];break;case"scaleY":r[3]=e[1];break;case"scale":r[0]=e[1],r[3]=e.length>2?e[2]:e[1];break;case"skewX":if(e[1]=e[1]%(2*Math.PI),e[1]===Math.PI/2||e[1]===-Math.PI/2)return i;r[2]=Math.tan(e[1]);break;case"skewY":if(e[1]=e[1]%(2*Math.PI),e[1]===Math.PI/2||e[1]===-Math.PI/2)return i;r[1]=Math.tan(e[1]);break;case"matrix":r[0]=e[1],r[1]=e[2],r[2]=e[3],r[3]=e[4],r[4]=e[5],r[5]=e[6]}n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],i[0]=n[0]*r[0]+n[2]*r[1],i[1]=n[1]*r[0]+n[3]*r[1],i[2]=(n[0]*r[2]||0)+n[2]*r[3],i[3]=(n[1]*r[2]||0)+n[3]*r[3],i[4]=n[0]*r[4]+n[2]*r[5]+n[4],i[5]=n[1]*r[4]+n[3]*r[5]+n[5]}),new u.Matrix(i[0],i[1],i[2],i[3],i[4],i[5])},h.updateParameters=function(e,t){Object.keys(e.src&&e.src.parameters||[]).forEach(function(n){var r=e.src.parameters[n];r._updaters&&(t[n]=r._updaters[0].apply(null,[n,[],[],e.parentAnchors,h].concat((r._parameters||[]).map(function(e){return t[e]}))))})},h.updateProperties=function(e,t){(e.solvingOrder||[]).forEach(function(n){var r=n[n.length-1],i=h.propFromCursor(n,e.src),s=h.propFromCursor(n,e,n.length-1),a=i&&i._updaters&&i._updaters[0].apply(s,[r,e.contours,e.anchors,e.parentAnchors,h].concat((i._parameters||[]).map(function(e){return t[e]})));void 0!==a&&(s[r]=a)},this)},t.exports=h},{"./updateUtils.js":39,deptree:1,"es6-object-assign":2,"lodash/lang/clone":26,"plumin.js":35}],37:[function(e,t,n){function r(e,t,n,r){return{point:{_dependencies:[c.cursor(t,n,"x"),c.cursor(t,n,"y")]},all:{_dependencies:Object.keys(e.src).map(function(e){return c.cursor(t,n,e)})},_dependencies:r?[]:[c.cursor("contours",t,"all")]}}function i(e,t,n,r,i){return{x:{_dependencies:[c.cursor(t,n,"expandedTo",r,"point")]},y:{_dependencies:[c.cursor(t,n,"expandedTo",r,"point")]},point:{_dependencies:[c.cursor(t,n,"x"),c.cursor(t,n,"y"),c.cursor(t,n,"expand")],_parameters:["width"],_updaters:[function(){var t=arguments[arguments.length-1];d.expandedNodeUpdater(e.expandedTo[r],0===r,t)}]},all:{_dependencies:Object.keys(e.src).map(function(e){return c.cursor(t,n,e)}).concat([c.cursor(t,n,"expandedTo",r,"point")]),_updaters:[function(){d.skeletonCopier(e)}]},_dependencies:[c.cursor("contours",t,"expandedTo",i?r:0,"all")]}}function s(e,t,n,r,i){return{point:{_dependencies:[c.cursor(t,n,"expandedTo",r,"x"),c.cursor(t,n,"expandedTo",r,"y")]},all:{_dependencies:Object.keys(e.src).map(function(e){return c.cursor(t,n,"expandedTo",r,e)})},_dependencies:[c.cursor("contours",t,"expandedTo",i?r:0,"points")]}}function a(e,t,n){var r=e.nodes.length/2;return{all:{_dependencies:e.nodes.map(function(e,i){return void 0!==n?c.cursor(t,i,"expandedTo",n,"all"):c.cursor(t,i%r,"expandedTo",r>i?0:1,"all")}),_parameters:["curviness"],_updaters:[function(){var t=arguments[arguments.length-1];d.prepareContour(e),d.updateContour(e,t)}]},_dependencies:[c.cursor("contours",t,"expandedTo",n||0,"all")]}}function o(e,t){return{all:{_dependencies:e.nodes.map(function(e,n){return c.cursor(t,n,"all")}),_parameters:["curviness"],_updaters:[function(){var t=arguments[arguments.length-1];d.prepareContour(e),d.updateContour(e,t)}]},_dependencies:e.nodes.map(function(e,n){return c.cursor(t,n)})}}var u=e("plumin.js"),h=e("es6-object-assign").assign,c=e("./Utils.js"),l=u.paper,d={},f={assign:h};d.annotator=function(e){var t=[];e.contours.forEach(function(e,n){if(e.skeleton!==!0)return e.nodes.forEach(function(e,t){f.assign(e.src,r(e,n,t))}),void f.assign(e.src,o(e,n));var u,h,d,p,g=[],m=[],v=[],_=[];e.visible=!1,e.nodes.forEach(function(t,a){var o,u,h=new l.Node,d=new l.Node;g.push(h),m.unshift(d),t.expandedTo=[h,d],h.expandedFrom=d.expandedFrom=t,t.src.expandedTo?t.src.expandedTo[0]&&!t.src.expandedTo[0]._updaters&&(t.src.expandedTo.forEach(function(e,n){c.mergeStatic(t.expandedTo[n],e)}),o=f.assign(t.src.expandedTo[0],s(t,n,a,0,e.closed)),u=f.assign(t.src.expandedTo[1],s(t,n,a,1,e.closed))):(o=i(t,n,a,0,e.closed),u=i(t,n,a,1,e.closed),t.src.expandedTo=[o,u],f.assign(t.src,r(t,n,a,!0)))}),e.expandedTo||e.closed?!e.expandedTo&&e.closed&&(u=new l.Path({closed:!0,segments:g}),t.push(u),h=new l.Path({closed:!0,segments:m}),t.push(h),e.expandedTo=[u,h],e.src.expandedTo=[a(u,n,0,v),a(h,n,1,_)],u.expandedFrom=h.expandedFrom=e):(u=new l.Path({closed:!0,segments:g.concat(m)}),e.expandedTo=[u],e.src.expandedTo=[a(u,n)],u.expandedFrom=e,t.push(u),d=e.firstNode,p=e.lastNode,d.type="corner",p.type="corner",d.expandedTo[0].type="corner",d.expandedTo[1].type="corner",p.expandedTo[0].type="corner",p.expandedTo[1].type="corner",d.expandedTo[0].typeIn="line",d.expandedTo[1].typeOut="line",p.expandedTo[0].typeOut="line",p.expandedTo[1].typeIn="line")}),e.addContours(t)},d.expandedNodeUpdater=function(e,t,n){var r=e.expandedFrom,i=r.expand,s=i&&void 0!==i.width?i.width:n,a=i&&void 0!==i.distr?t?i.distr:1-i.distr:.5,o=(t?Math.PI:0)+(i&&void 0!==i.angle?i.angle:void 0!==r._dirOut?r._dirOut-Math.PI/2:r._dirIn+Math.PI/2);e.point.x=r.point.x+s*a*Math.cos(o),e.point.y=r.point.y+s*a*Math.sin(o)},d.skeletonCopier=function(e){var t=e.expand&&e.expand.angle||0,n=e.expandedTo[0],r=e.expandedTo[1];void 0!==e.type&&(n.type=r.type=e.type),void 0!==e.typeIn&&(n.typeIn=r.typeOut=e.typeIn),void 0!==e.typeOut&&(n.typeOut=r.typeIn=e.typeOut),void 0!==e._dirIn&&(n._dirIn=r._dirOut=e._dirIn,"smooth"===e.type&&void 0===e._dirOut&&(n._dirOut=r._dirIn=e._dirIn+Math.PI)),void 0!==e._dirOut&&(n._dirOut=r._dirIn=e._dirOut,"smooth"===e.type&&void 0===e._dirIn&&(n._dirIn=r._dirOut=e._dirOut+Math.PI)),void 0===n._dirIn&&(n._dirIn=t-Math.PI/2,r._dirOut=t+Math.PI/2),void 0===n._dirOut&&(n._dirOut=t+Math.PI/2,r._dirIn=t-Math.PI/2),n.tensionIn=r.tensionOut=void 0!==e.tensionIn?e.tensionIn:void 0!==e.tension?e.tension:1,n.tensionOut=r.tensionIn=void 0!==e.tensionOut?e.tensionOut:void 0!==e.tension?e.tension:1},d.prepareContour=function(e){e.nodes.forEach(function(e){"line"===e.typeIn&&e.previous&&(e.previous.typeOut="line","smooth"===e.type&&(e._dirIn=c.lineAngle(e.point,e.previous.point),e._dirOut=e._dirIn+Math.PI)),"line"===e.typeOut&&e.next&&(e.next.typeIn="line","smooth"===e.type&&(e._dirOut=c.lineAngle(e.point,e.next.point),e._dirIn=e._dirOut+Math.PI))})},d.updateContour=function(e,t){void 0===t&&(t=2/3),e.nodes.forEach(function(e){var n,r,i,s,a,o,u,h,l,d,f=e;if(e.next){if(n=e.next,r=f.handleOut,i=n.handleIn,s=f.typeOut,a=n.typeIn,"line"===s||"line"===a)return r.x=0,r.y=0,i.x=0,void(i.y=0);if(o=void 0!==f.tensionOut?f.tensionOut:void 0!==f.tension?f.tension:1,u=void 0!==n.tensionIn?n.tensionIn:void 0!==n.tension?n.tension:1,h=void 0!==f._dirOut?f._dirOut:"smooth"===f.type?f._dirIn+Math.PI:0,l=void 0!==n._dirIn?n._dirIn:"smooth"===n.type?n._dirOut-Math.PI:0,d=c.rayRayIntersection(f._point,h,n._point,l),null===d){var p=c.lineAngle(f._point,n._point),g={x:(n._point.x-f._point.x)/2+f._point.x,y:(n._point.y-f._point.y)/2+f._point.y},m=c.rayRayIntersection(f._point,h,g,p-Math.PI/2),v=c.rayRayIntersection(g,p+Math.PI/2,n._point,l);return null===m?(r.x=0,r.y=0,i.x=0,void(i.y=0)):(r.x=(Math.round(m[0])-f._point.x)*t*o,r.y=(Math.round(m[1])-f._point.y)*t*o,i.x=(Math.round(v[0])-n._point.x)*t*u,void(i.y=(Math.round(v[1])-n._point.y)*t*u))}r.x=(Math.round(d[0])-f.point.x)*t*o,r.y=(Math.round(d[1])-f.point.y)*t*o,i.x=(Math.round(d[0])-n.point.x)*t*u,i.y=(Math.round(d[1])-n.point.y)*t*u}})};var p=/deg$/;Object.defineProperties(l.PaperScope.prototype.Segment.prototype,{expand:{get:function(){return this._expand},set:function(e){"string"==typeof e.angle&&p.test(e.angle)&&(e.angle=parseFloat(e.angle)*(2*Math.PI/360)),this._expand=e}},dirIn:{get:function(){return this._dirIn},set:function(e){this._dirIn="string"==typeof e&&p.test(e)?parseFloat(e)*(2*Math.PI/360):e}},dirOut:{get:function(){return this._dirOut},set:function(e){this._dirOut="string"==typeof e&&p.test(e)?parseFloat(e)*(2*Math.PI/360):e}}}),t.exports=d},{"./Utils.js":36,"es6-object-assign":2,"plumin.js":35}],38:[function(e,t,n){function r(e){var t=a.fontFromSrc(e);return Object.keys(e.glyphs).forEach(function(n){var r=e.glyphs[n];a.ufoToPaper(r),a.createUpdaters(r,"glyphs/glyph_"+n);var i=a.glyphFromSrc(r,e,o);t.addGlyph(i),o.annotator(i),i.solvingOrder||(i.solvingOrder=r.solvingOrder=a.solveDependencyTree(i))}),t.glyphs.forEach(function(e){e.embedComponents&&e.embedComponents()}),t}var i=e("plumin.js"),s=e("es6-object-assign").assign,a=e("./Utils.js"),o=e("./naive.js"),u=i.paper,h={assign:s};i.parametricFont=r,i.Utils=a,i.Utils.naive=o,u.PaperScope.prototype.Font.prototype.update=function(e,t){var n,r=this;return a.updateParameters(r,e),a.updateProperties(r,e),this.getGlyphSubset(t).map(function(t){return t.update(e)},this),r.transforms&&(n=a.transformsToMatrix(r.transforms.slice(0),r.transformOrigin),r.applyMatrix=!1,r.matrix=n),this},u.PaperScope.prototype.Glyph.prototype.update=function(e){var t,n,r=this,i=r.parent;if(n=h.assign({},e,r.parameters,r.parentParameters),a.updateParameters(r,n),h.assign(n,r.parentParameters),a.updateProperties(r,n),this.contours.forEach(function(e){e.nodes.forEach(function(n){n.transforms&&(t=a.transformsToMatrix(n.transforms.slice(0),n.transformOrigin),e.skeleton!==!0?(n.applyMatrix=!1,n.matrix=t):n.expandedTo.forEach(function(e){e.applyMatrix=!1,e.matrix=t}))}),e.transforms&&(t=a.transformsToMatrix(e.transforms.slice(0),e.transformOrigin),e.skeleton!==!0?(e.applyMatrix=!1,e.matrix=t):e.expandedTo.forEach(function(e){e.applyMatrix=!1,e.matrix=t}))},this),this.components.length&&i){for(;!("glyphs"in i);)i=i.parent;this.components.forEach(function(e){e.update(n),e.transforms&&(t=a.transformsToMatrix(e.transforms.slice(0),e.transformOrigin),e.applyMatrix=!1,e.matrix=t)},this)}return r.transforms&&(t=a.transformsToMatrix(r.transforms.slice(0),r.transformOrigin),r.applyMatrix=!1,r.matrix=t),this},u.PaperScope.prototype.Outline.prototype.prepareDataUpdate=function(){this.children.forEach(function(e){e.expandedFrom||(e.skeleton!==!0?e["export"]="clockwise":(e.expandedTo[0]["export"]="clockwise",e.expandedTo[1]&&(e.expandedTo[0]["export"]=e.clockwise?"clockwise":"anticlockwise",e.expandedTo[1]["export"]=e.clockwise?"anticlockwise":"clockwise")))})};var c=u.PaperScope.prototype.Outline.prototype.updateSVGData,l=u.PaperScope.prototype.Outline.prototype.updateOTCommands;u.PaperScope.prototype.Outline.prototype.updateSVGData=function(){this.isPrepared||(this.prepareDataUpdate(),this.isPrepared=!0),c.apply(this,arguments)},u.PaperScope.prototype.Outline.prototype.updateOTCommands=function(){this.isPrepared||(this.prepareDataUpdate(),this.isPrepared=!0),l.apply(this,arguments)},t.exports=i},{"./Utils.js":36,"./naive.js":37,"es6-object-assign":2,"plumin.js":35}],39:[function(e,t,n){var r={};r.lineLineIntersection=function(e,t,n,r){var i=e.x,s=e.y,a=t.x,o=t.y,u=n.x,h=n.y,c=r.x,l=r.y,d=(i-a)*(h-l)-(s-o)*(u-c);return 0===d?null:new Float32Array([((i*o-s*a)*(u-c)-(i-a)*(u*l-h*c))/d,((i*o-s*a)*(h-l)-(s-o)*(u*l-h*c))/d])},r.rayRayIntersection=function(e,t,n,r){var i,s,a=Math.tan(t),o=Math.tan(r),u=e.y-a*e.x,h=n.y-o*n.x;return t%=Math.PI,0>t&&(t+=Math.PI),r%=Math.PI,0>r&&(r+=Math.PI),t===r?null:(0===t?s=e.y:t===Math.PI/2&&(i=e.x),0===r?s=n.y:r===Math.PI/2&&(i=n.x),new Float32Array(void 0!==i&&void 0!==s?[i,s]:0===t?[(s-h)/o,s]:t===Math.PI/2?[i,o*i+h]:0===r?[(s-u)/a,s]:r===Math.PI/2?[i,a*i+u]:[i=(h-u)/(a-o),a*i+u]))},r.lineAngle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},r.onLine=function(e){var t=e.on[0],n=[e.on[1].x-e.on[0].x,e.on[1].y-e.on[0].y];return"x"in e?(e.x-t.x)/n[0]*n[1]+t.y:(e.y-t.y)/n[1]*n[0]+t.x},r.pointOnCurve=function(e,t,n,i,s){s=s||3;var a,o,u=0;o=i?[t.point,t.point.add(t.handleIn),e.point.add(e.handleOut),e.point]:[e.point,e.point.add(e.handleOut),t.point.add(t.handleIn),t.point];for(var h=0;s>h;h++){var c=r.deCasteljau(o,h/(s-1));a&&(u+=r.distance(a.x,a.y,c.x,c.y)),a=c}var l=0===u?0:n/u;return l=Math.max(.1,Math.min(1,l)),r.deCasteljau(o,l)},r.deCasteljau=function(e,t){for(var n=[],i=1;i<e.length;i++)n.push(e[i-1].multiply(1-t).add(e[i].multiply(t)));if(1===n.length){var s={x:0,y:0},a={x:e[1].x-e[0].x,y:e[1].y-e[0].y};return{x:n[0].x,y:n[0].y,normal:r.lineAngle(s,a)}}return r.deCasteljau(n,t)},r.distance=function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(t-r,2))},r.log=function(){return console.log.apply(console,arguments),arguments[0]},t.exports=r},{}]},{},[38])(38)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PrototypoCanvas=e()}}(function(){return function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var s=Object.keys(Object(i)),a=0,o=s.length;o>a;a++){var u=s[a],h=Object.getOwnPropertyDescriptor(i,u);void 0!==h&&h.enumerable&&(n[u]=i[u])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}t.exports={assign:r,polyfill:i}},{}],2:[function(e,t,n){function r(e,t,n,r,i){function u(t){var n,s=Math.round(o[t]),u=Math.round(o[t+1]);(o[0]!==o[t]||o[1]!==o[t+1])&&(e.beginPath(),e.strokeStyle=r.handleColor,e.fillStyle=r.handleColor,e.moveTo(h,c),e.lineTo(s,u),e.stroke(),e.beginPath(),e.arc(s,u,d,0,2*Math.PI,!0),e.fill(),r.drawCoords&&(n=Math.round(a[t])+","+Math.round(a[t+1]),1.7>i?e.globalAlpha=.2:3>i&&(e.globalAlpha=.4),e.fillText(n,s-d-3-e.measureText(n).width,u-2),3>i&&(e.globalAlpha=1)))}for(var h,c,l=r.handleSize,d=l/2,f=0,p=t.length;p>f;f++){var g=t[f];g._transformCoordinates(null,a,!1),g._transformCoordinates(n,o,!1);var m=g._selectionState;h=Math.round(o[0]),c=Math.round(o[1]),m&s.HANDLE_IN&&u(2),m&s.HANDLE_OUT&&u(4),e.fillStyle=r.nodeColor,e.fillRect(h-d,c-d,l,l),e.font=r.handleFont,r.drawCoords&&(1.7>i&&(e.globalAlpha=.4),e.fillText(Math.round(a[0])+","+Math.round(a[1]),h+d+5,c-2),1.7>i&&(e.globalAlpha=1))}}function i(e,t){e.beginPath(),e.stroke(),r(e,this._segments,t,this._project._scope.settings,this._project._view._zoom)}var s={HANDLE_IN:1,HANDLE_OUT:2,POINT:4,SEGMENT:7},a=new Float32Array(6),o=new Float32Array(6);t.exports={_drawSelected:i}},{}],3:[function(e,t,n){t.exports=function(e){this.isWorkerBusy=!1,e.data instanceof ArrayBuffer&&(this.latestBuffer=e.data,this.font.addToFonts(e.data),this.latestWorkerValues?(this.isWorkerBusy=!0,this.worker.postMessage({type:"update",data:this.latestWorkerValues}),delete this.latestWorkerValues):this.latestSubset&&(this.isWorkerBusy=!0,this.worker.postMessage({type:"subset",data:this.latestSubset}),delete this.latestSubset))}},{}],4:[function(e,t,n){function r(e){var t=this;return e=a.assign({fontUrl:"font.json",prototypoUrl:"prototypo.js"},e),Promise.all([!e.fontSource&&e.fontUrl,!e.prototypoSource&&e.prototypoUrl].map(function(e){return e&&fetch(e)})).then(function(e){return Promise.all([e[0]&&e[0].text(),e[1]&&e[1].text()])}).then(function(t){return t[0]&&(e.fontSource=t[0]),t[1]&&(e.prototypoSource=t[1]),e.fontObj=JSON.parse(e.fontSource),e.workerUrl?e.workerUrl+="?bundleurl="+encodeURIComponent(e.prototypoUrl):e.workerUrl=o.createObjectURL(new Blob([e.prototypoSource+";\n\n("+i.toString()+")();//",{type:"text/javascript"}])),new Promise(function(t){var n=new Worker(e.workerUrl);n.onmessage=function(r){
"ready"===r.data.type?n.postMessage({type:"font",data:e.fontSource}):"solvingOrders"===r.data.type&&(e.worker=n,Object.keys(r.data.data).forEach(function(t){r.data.data[t]&&(e.fontObj.glyphs[t].solvingOrder=r.data.data[t])}),t())}})}).then(function(){return new t(e)})}var i=e("./worker"),s=e("es6-object-assign").assign,a={assign:s},o="undefined"!=typeof window&&(window.URL||window.webkitURL);t.exports=r},{"./worker":6,"es6-object-assign":1}],5:[function(e,t,n){function r(e){if(c.setup(e.canvas),e.canvas.setAttribute("touch-action","none"),this.opts=h.assign({fill:!0,shoNodes:!1,zoomFactor:.05,jQueryListeners:!0},e),this.canvas=e.canvas,this.view=c.view,this.view.center=[0,0],this.project=c.project,this.project.activeLayer.applyMatrix=!1,this.project.activeLayer.scale(1,-1),this.worker=e.worker,this._fill=this.opts.fill,this._showNodes=this.opts.showNodes,this.font=i.parametricFont(e.fontObj),this.isMousedown=!1,this.worker&&(this.worker.onmessage=this.fontBufferHandler),"jQuery"in window&&this.opts.jQueryListeners){var t=window.jQuery,n="PointerEventsPolyfill"in window||"PointerEvent"in window?"pointer":"mouse";t(e.canvas).on("wheel",this.wheelHandler.bind(this)),t(e.canvas).on(n+"move",this.moveHandler.bind(this)),t(e.canvas).on(n+"down",this.downHandler.bind(this)),t(document).on(n+"up",this.upHandler.bind(this))}var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame,s=function(){r(s),this.latestRafValues&&this.currGlyph&&(this.font.update(this.latestRafValues,[this.currGlyph]),this.view.update(),delete this.latestRafValues)}.bind(this);s()}var i="undefined"!=typeof window?window.prototypo:"undefined"!=typeof global?global.prototypo:null,s=e("es6-object-assign").assign,a=e("./fontBufferHandler"),o=e("./drawNodes")._drawSelected,u=e("./load"),h={assign:s},c=i.paper;Object.defineProperties(r.prototype,{zoom:{get:function(){return this.view.zoom},set:function(e){this.view.zoom=e}},fill:{get:function(){return this._fill},set:function(e){this._fill=e,this.displayGlyph()}},showNodes:{get:function(){return this._showNodes},set:function(e){this._showNodes=e,this.displayGlyph()}},showCoords:{get:function(){return c.settings.drawCoords},set:function(e){c.settings.drawCoords=e,this.displayGlyph()}},subset:{get:function(){return this.font.subset},set:function(e){this.worker&&!this.isWorkerBusy?(void 0!==this.currSubset&&(this.isWorkerBusy=!0),this.worker.postMessage({type:"subset",data:e})):this.latestSubset=e,this.font.subset=this.currSubset=e}}}),r.prototype.fontBufferHandler=a,r.prototype.wheelHandler=function(e){var t=this.canvas.getBoundingClientRect(),n=new c.Point(e.clientX-t.left,e.clientY-t.top),r=this.view.viewToProject(n),i=1+this.opts.zoomFactor*Math.abs(e.deltaY/e.deltaMode?3:800),s=e.deltaY<0?this.view.zoom*i:e.deltaY>0?this.view.zoom/i:this.view.zoom,a=this.view.zoom/s,o=r.subtract(this.view.center),u=r.subtract(o.multiply(a));this.zoom=s,this.view.center=u,e.preventDefault()},r.prototype.moveHandler=function(e){if(this.isMousedown){var t=new c.Point(e.clientX,e.clientY),n=t.subtract(this.prevPos);this.prevPos=t,this.view.center=this.view.center.subtract(n.divide(this.view.zoom))}},r.prototype.downHandler=function(e){e.button&&0!==e.button||(this.isMousedown=!0,this.prevPos=new c.Point(e.clientX,e.clientY))},r.prototype.upHandler=function(){this.isMousedown=!1},r.prototype.zoomIn=function(){this.zoom=1*this.view.zoom+this.opts.zoomFactor},r.prototype.zoomOut=function(){this.zoom=this.view.zoom/1+this.opts.zoomFactor},r.prototype.displayGlyph=function(e){var t=void 0===e?this.currGlyph:"string"==typeof e?this.font.glyphMap[e]:e;void 0!==t&&(this.currGlyph&&this.currGlyph!==t&&(this.currGlyph.visible=!1,this.currGlyph.components.forEach(function(e){e.visible=!1},this)),this.currGlyph=t,e&&this.latestValues&&this.currGlyph.update(this.latestValues),this.currGlyph.visible=!0,this._fill?(this.currGlyph.fillColor="#333333",this.currGlyph.strokeWidth=0):(this.currGlyph.fillColor=null,this.currGlyph.strokeWidth=1),this.currGlyph.contours.forEach(function(e){e.fullySelected=this._showNodes&&!e.skeleton},this),this.currGlyph.components.forEach(function(e){e.visible=!0,e.contours.forEach(function(e){e.fullySelected=this._showNodes&&!e.skeleton},this)},this),this.view._project._needsUpdate=!0,this.view.update())},r.prototype.displayChar=function(e){this.displayGlyph("string"==typeof e?this.font.charMap[e.charCodeAt(0)]:e)},r.prototype.update=function(e){this.latestValues=this.latestRafValues=e,this.worker&&!this.isWorkerBusy?(this.isWorkerBusy=!0,this.worker.postMessage({type:"update",data:e})):this.latestWorkerValues=e},r.prototype.download=function(e,t){this.worker&&this.latestValues&&!this.fontCb&&(this.fontCb=t||!0,this.isWorkerBusy=!0,this.worker.postMessage({type:"otfFont"}))},r.prototype.openInGlyphr=function(e){this.worker&&this.latestValues&&!this.fontCb&&(this.fontCb=e||!0,this.isWorkerBusy=!0,this.worker.postMessage({type:"svgFont"}))},r.load=u,c.PaperScope.prototype.Path.prototype._drawSelected=o,h.assign(c.settings,{handleSize:6,handleColor:"#FF725E",nodeColor:"#00C4D6",drawCoords:!1,handleFont:"12px monospace"}),t.exports=r},{"./drawNodes":2,"./fontBufferHandler":3,"./load":4,"es6-object-assign":1}],6:[function(e,t,n){function r(){var e,t,n={},r=[];self.postMessage({type:"ready"}),prototypo.paper.setup({width:1024,height:1024}),prototypo.paper.Font.prototype.addToFonts=function(){var e=this.ot.toBuffer();self.postMessage(e,[e])},self.onmessage=function(e){n[e.data.type](e.data.data)},n.font=function(t){e=prototypo.parametricFont(JSON.parse(t));var n={};Object.keys(e.glyphMap).forEach(function(t){n[t]=e.glyphMap[t].solvingOrder}),self.postMessage({type:"solvingOrders",data:n})},n.update=function(n){t=n,r=[],e.update(n),e._project._updateVersion++,e.updateOTCommands().addToFonts()},n.subset=function(n){var i=r.map(function(e){return e.name});e.subset=n,r=e.subset,r.filter(function(e){return-1===i.indexOf(e.name)}).forEach(function(e){e.update(t),e.updateOTCommands()}),e.updateOTCommands([]),e.addToFonts()}}"undefined"==typeof global&&"importScripts"in self&&self.importScripts(decodeURIComponent(self.location.search.replace(/(\?|&)bundleurl=(.*?)(&|$)/,"$2"))),"undefined"==typeof global&&"importScripts"in self?r():t.exports=r},{}]},{},[5])(5)}),window.fontObj={glyphs:{A_cap:{unicode:65,ot:{advanceWidth:{_operation:"contours[0].nodes[1].expandedTo[1].x + (serifWidth + 50) + 25 * spacing + 150",_parameters:["serifWidth","spacing"],_dependencies:["contours.0.nodes.1.expandedTo.1.x"]}},tags:["all","latin","uppercase"],name:"A_cap",anchor:[{x:{_operation:"(495 + 20) * width",_parameters:["width"],_dependencies:[]},y:0},{x:{_operation:"50 + 9",_parameters:[],_dependencies:[]},y:0}],outline:{contour:[{skeleton:!0,closed:!1,point:[{x:{_operation:"(490 + 20) * width",_parameters:["width"],_dependencies:[]},y:0,typeOut:"line",expand:{_operation:"Object({\n	'width': thickness * (105 / 85) * opticThickness,\n	'angle': 0 + 'deg',\n	'distr': 0.25\n})",_parameters:["thickness","opticThickness"],_dependencies:[]}},{x:{_operation:"(495 + 20) * width * ((295 + 10) / 495)",_parameters:["width"],_dependencies:[]},y:{_operation:"capHeight - capHeight * (30 / 750) * thickness / 85",_parameters:["capHeight","capHeight","thickness"],_dependencies:[]},typeOut:"line",expand:{_operation:"Object({\n	'width': thickness * (100 / 85) * opticThickness,\n	'angle': 0 + 'deg',\n	'distr': 0.25\n})",_parameters:["thickness","opticThickness"],_dependencies:[]}}]},{skeleton:!0,closed:!1,point:[{x:{_operation:"Utils.onLine({\n	'y': 0,\n	'on': [\n		contours[0].nodes[1].point,\n		anchors[1].point\n	]\n})",_parameters:[],_dependencies:["contours.0.nodes.1.point","anchors.1.point"]},y:0,typeOut:"line",expand:{_operation:"Object({\n	'width': thickness * (30 / 85) * opticThickness * contrast,\n	'angle': 0 + 'deg',\n	'distr': 0.25\n})",_parameters:["thickness","opticThickness","contrast"],_dependencies:[]}},{x:{_operation:"Utils.onLine({\n	'y': contours[0].nodes[1].y - 10,\n	'on': [\n		contours[0].nodes[0].expandedTo[0].point,\n		contours[0].nodes[1].expandedTo[0].point\n	]\n})",_parameters:[],_dependencies:["contours.0.nodes.1.y","contours.0.nodes.0.expandedTo.0.point","contours.0.nodes.1.expandedTo.0.point"]},y:{_operation:"contours[0].nodes[1].y - 10",_parameters:[],_dependencies:["contours.0.nodes.1.y"]},typeOut:"line",expand:{_operation:"Object({\n	'width': thickness * (20 / 85) * opticThickness * contrast,\n	'angle': 0 + 'deg',\n	'distr': 0\n})",_parameters:["thickness","opticThickness","contrast"],_dependencies:[]}}]},{skeleton:!0,closed:!1,point:[{x:{_operation:"Utils.onLine({\n	'y': capHeight * (280 / 750) * crossbar,\n	'on': [\n		contours[0].nodes[0].point,\n		contours[0].nodes[1].point\n	]\n})",_parameters:["capHeight","crossbar"],_dependencies:["contours.0.nodes.0.point","contours.0.nodes.1.point"]},y:{_operation:"capHeight * (298 / 750) * crossbar",_parameters:["capHeight","crossbar"],_dependencies:[]},typeOut:"line",expand:{_operation:"Object({\n	'width': thickness * (26 / 85) * opticThickness * contrast,\n	'angle': 90 + 'deg',\n	'distr': 0.75\n})",_parameters:["thickness","opticThickness","contrast"],_dependencies:[]}},{x:{_operation:"Utils.onLine({\n	'y': contours[2].nodes[0].y,\n	'on': [\n		contours[1].nodes[1].point,\n		contours[1].nodes[0].point\n	]\n})",_parameters:[],_dependencies:["contours.2.nodes.0.y","contours.1.nodes.1.point","contours.1.nodes.0.point"]},y:{_operation:"contours[2].nodes[0].y",_parameters:[],_dependencies:["contours.2.nodes.0.y"]},typeOut:"line",expand:{_operation:"Object({\n	'width': thickness * (26 / 85) * opticThickness * contrast,\n	'angle': 90 + 'deg',\n	'distr': 0.75\n})",_parameters:["thickness","opticThickness","contrast"],_dependencies:[]}}]},{skeleton:!1,closed:!1,point:[{x:{_operation:"contours[0].nodes[1].expandedTo[1].x",_parameters:[],_dependencies:["contours.0.nodes.1.expandedTo.1.x"]},y:{_operation:"contours[0].nodes[1].expandedTo[1].y",_parameters:[],_dependencies:["contours.0.nodes.1.expandedTo.1.y"]},typeOut:"line"},{x:{_operation:"Utils.onLine({\n	'y': capHeight + overshoot * 2,\n	'on': [\n		contours[0].nodes[0].expandedTo[1].point,\n		contours[0].nodes[1].expandedTo[1].point\n	]\n})",_parameters:["capHeight","overshoot"],_dependencies:["contours.0.nodes.0.expandedTo.1.point","contours.0.nodes.1.expandedTo.1.point"]},y:{_operation:"capHeight + overshoot * 2",_parameters:["capHeight","overshoot"],_dependencies:[]},typeOut:"line"},{x:{_operation:"contours[3].nodes[1].x - Math.min(15, thickness * (10 / 85))",_parameters:["thickness"],_dependencies:["contours.3.nodes.1.x"]},y:{_operation:"contours[3].nodes[1].y",_parameters:[],_dependencies:["contours.3.nodes.1.y"]},dirOut:{_operation:"Math.min(-116, -100 - serifCurve) + 'deg'",_parameters:["serifCurve"],_dependencies:[]},tensionOut:{_operation:"serifRoundness",_parameters:["serifRoundness"],_dependencies:[]}},{x:{_operation:"contours[0].nodes[1].expandedTo[0].x",_parameters:[],_dependencies:["contours.0.nodes.1.expandedTo.0.x"]},y:{_operation:"contours[0].nodes[1].expandedTo[0].y",_parameters:[],_dependencies:["contours.0.nodes.1.expandedTo.0.y"]},dirIn:{_operation:"8 + 'deg'",_parameters:[],_dependencies:[]},tensionIn:{_operation:"serifRoundness",_parameters:["serifRoundness"],_dependencies:[]}}]}],component:[{base:"serif",anchor:[{x:{_operation:"Utils.onLine({\n	'y': serifHeight + serifCurve * (150 / 15),\n	'on': [\n		contours[1].nodes[1].expandedTo[1].point,\n		contours[1].nodes[0].expandedTo[1].point\n	]\n})",_parameters:["serifHeight","serifCurve"],_dependencies:["contours.1.nodes.1.expandedTo.1.point","contours.1.nodes.0.expandedTo.1.point"]},y:{_operation:"serifHeight + serifCurve * (150 / 15)",_parameters:["serifHeight","serifCurve"],_dependencies:[]}},{x:{_operation:"Utils.onLine({\n	'y': serifHeight + serifCurve * (150 / 15),\n	'on': [\n		contours[1].nodes[1].expandedTo[0].point,\n		contours[1].nodes[0].expandedTo[0].point\n	]\n})",_parameters:["serifHeight","serifCurve"],_dependencies:["contours.1.nodes.1.expandedTo.0.point","contours.1.nodes.0.expandedTo.0.point"]},y:{_operation:"serifHeight + serifCurve * (150 / 15)",_parameters:["serifHeight","serifCurve"],_dependencies:[]}},{anchorLine:0,leftWidth:70,rightWidth:100,baseRight:{_operation:"contours[1].nodes[0].expandedTo[1].point",_parameters:[],_dependencies:["contours.1.nodes.0.expandedTo.1.point"]},baseLeft:{_operation:"contours[1].nodes[0].expandedTo[0].point",_parameters:[],_dependencies:["contours.1.nodes.0.expandedTo.0.point"]},anchor_0:{_operation:"contours[1].nodes[0].expandedTo[1].x",_parameters:[],_dependencies:["contours.1.nodes.0.expandedTo.1.x"]},anchor_1:{_operation:"contours[1].nodes[0].expandedTo[0].x",_parameters:[],_dependencies:["contours.1.nodes.0.expandedTo.0.x"]},angle:{_operation:"Utils.lineAngle(contours[1].nodes[0].point, contours[1].nodes[1].point)",_parameters:[],_dependencies:["contours.1.nodes.0.point","contours.1.nodes.1.point"]}}],parameter:{}},{base:"serif",anchor:[{x:{_operation:"Utils.onLine({\n	'y': serifHeight + serifCurve * (120 / 15),\n	'on': [\n		contours[0].nodes[0].expandedTo[1].point,\n		contours[0].nodes[1].expandedTo[1].point\n	]\n})",_parameters:["serifHeight","serifCurve"],_dependencies:["contours.0.nodes.0.expandedTo.1.point","contours.0.nodes.1.expandedTo.1.point"]},y:{_operation:"serifHeight + serifCurve * (120 / 15)",_parameters:["serifHeight","serifCurve"],_dependencies:[]}},{x:{_operation:"Utils.onLine({\n	'y': serifHeight + serifCurve * (120 / 15),\n	'on': [\n		contours[0].nodes[0].expandedTo[0].point,\n		contours[0].nodes[1].expandedTo[0].point\n	]\n})",_parameters:["serifHeight","serifCurve"],_dependencies:["contours.0.nodes.0.expandedTo.0.point","contours.0.nodes.1.expandedTo.0.point"]},y:{_operation:"serifHeight + serifCurve * (120 / 15)",_parameters:["serifHeight","serifCurve"],_dependencies:[]}},{anchorLine:0,leftWidth:70,rightWidth:30,baseRight:{_operation:"contours[0].nodes[0].expandedTo[1].point",_parameters:[],_dependencies:["contours.0.nodes.0.expandedTo.1.point"]},baseLeft:{_operation:"contours[0].nodes[0].expandedTo[0].point",_parameters:[],_dependencies:["contours.0.nodes.0.expandedTo.0.point"]},anchor_0:{_operation:"contours[0].nodes[0].expandedTo[1].x",_parameters:[],_dependencies:["contours.0.nodes.0.expandedTo.1.x"]},anchor_1:{_operation:"contours[0].nodes[0].expandedTo[0].x",_parameters:[],_dependencies:["contours.0.nodes.0.expandedTo.0.x"]},angle:{_operation:"Utils.lineAngle(contours[0].nodes[0].point, contours[0].nodes[1].point)",_parameters:[],_dependencies:["contours.0.nodes.0.point","contours.0.nodes.1.point"]}}],parameter:{}}]},lib:{}},serif:{tags:["component"],name:"serif",anchor:[{x:{_operation:"parentAnchors[0].x",_parameters:[],_dependencies:["parentAnchors.0.x"]},y:{_operation:"parentAnchors[0].y",_parameters:[],_dependencies:["parentAnchors.0.y"]}},{x:{_operation:"parentAnchors[1].x",_parameters:[],_dependencies:["parentAnchors.1.x"]},y:{_operation:"parentAnchors[1].y",_parameters:[],_dependencies:["parentAnchors.1.y"]}},{anchorLine:{_operation:"parentAnchors[2].anchorLine || 0",_parameters:[],_dependencies:["parentAnchors.2.anchorLine"]},leftWidth:{_operation:"parentAnchors[2].leftWidth * Math.min(serifWidth / 65, 1) || 0",_parameters:["serifWidth"],_dependencies:["parentAnchors.2.leftWidth"]},rightCurve:{_operation:"parentAnchors[2].rightCurve || 1",_parameters:[],_dependencies:["parentAnchors.2.rightCurve"]},leftCurve:{_operation:"parentAnchors[2].leftCurve || 1",_parameters:[],_dependencies:["parentAnchors.2.leftCurve"]},rightWidth:{_operation:"parentAnchors[2].rightWidth * Math.min(serifWidth / 65, 1) || 0",_parameters:["serifWidth"],_dependencies:["parentAnchors.2.rightWidth"]},angle:{_operation:"parentAnchors[2].angle || -90 + 'deg'",_parameters:[],_dependencies:["parentAnchors.2.angle"]},directionY:{_operation:"parentAnchors[2].directionY || 1",_parameters:[],_dependencies:["parentAnchors.2.directionY"]},directionX:{_operation:"parentAnchors[2].directionX || 1",_parameters:[],_dependencies:["parentAnchors.2.directionX"]},anchor_0:{_operation:"parentAnchors[2].anchor_0 || parentAnchors[0].x",_parameters:[],_dependencies:["parentAnchors.2.anchor_0","parentAnchors.0.x"]},anchor_1:{_operation:"parentAnchors[2].anchor_1 || parentAnchors[1].x",_parameters:[],_dependencies:["parentAnchors.2.anchor_1","parentAnchors.1.x"]},baseRight:{_operation:"typeof parentAnchors[2].baseRight !== 'undefined' ? parentAnchors[2].baseRight : {\n    'x': parentAnchors[0].x,\n    'y': anchors[2].anchorLine\n}",_parameters:[],_dependencies:["parentAnchors.2.baseRight","parentAnchors.2.baseRight","parentAnchors.0.x","anchors.2.anchorLine"]},baseLeft:{_operation:"typeof parentAnchors[2].baseLeft !== 'undefined' ? parentAnchors[2].baseLeft : {\n    'x': parentAnchors[1].x,\n    'y': anchors[2].anchorLine\n}",_parameters:[],_dependencies:["parentAnchors.2.baseLeft","parentAnchors.2.baseLeft","parentAnchors.1.x","anchors.2.anchorLine"]},max0:{_operation:"parentAnchors[2].max0 || anchors[0].point",_parameters:[],_dependencies:["parentAnchors.2.max0","anchors.0.point"]},max1:{_operation:"parentAnchors[2].max1 || anchors[1].point",_parameters:[],_dependencies:["parentAnchors.2.max1","anchors.1.point"]},left:{_operation:"typeof parentAnchors[2].left !== 'undefined' ? parentAnchors[2].left : true",_parameters:[],_dependencies:["parentAnchors.2.left","parentAnchors.2.left"]},right:{_operation:"typeof parentAnchors[2].right !== 'undefined' ? parentAnchors[2].right : true",_parameters:[],_dependencies:["parentAnchors.2.right","parentAnchors.2.right"]},attaque:{_operation:"typeof parentAnchors[2].attaque !== 'undefined' ? parentAnchors[2].attaque : false",_parameters:[],_dependencies:["parentAnchors.2.attaque","parentAnchors.2.attaque"]},vertical:{_operation:"typeof parentAnchors[2].vertical !== 'undefined' ? parentAnchors[2].vertical : false",_parameters:[],_dependencies:["parentAnchors.2.vertical","parentAnchors.2.vertical"]},rightSerifBound:{_operation:"Utils.onLine({\n    'y': contours[0].nodes[2].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n})",_parameters:[],_dependencies:["contours.0.nodes.2.y","anchors.2.baseRight","contours.0.nodes.0.point"]},leftSerifBound:{_operation:"Utils.onLine({\n    'y': contours[0].nodes[8].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n})",_parameters:[],_dependencies:["contours.0.nodes.8.y","anchors.2.baseLeft","contours.0.nodes.10.point"]}}],outline:{contour:[{closed:!0,point:[{x:{_operation:"Math.max(anchors[0].x, anchors[2].max0.x)",_parameters:[],_dependencies:["anchors.0.x","anchors.2.max0.x"]},y:{_operation:"Math.max(anchors[0].y, anchors[2].max0.y)",_parameters:[],_dependencies:["anchors.0.y","anchors.2.max0.y"]},dirOut:{_operation:"anchors[2].angle",_parameters:[],_dependencies:["anchors.2.angle"]},tensionOut:{_operation:"1.4 * serifRoundness * anchors[2].rightCurve",_parameters:["serifRoundness"],_dependencies:["anchors.2.rightCurve"]}},{x:{_operation:"anchors[2].right === false ? anchors[2].baseRight.x : parentAnchors[2].baseRight ? Math.min(Utils.onLine({\n    'y': contours[0].nodes[1].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n}) + (serifCurve + serifHeight + anchors[2].rightWidth * anchors[2].rightCurve), contours[0].nodes[2].x + 20 / (serifCurve + serifHeight + anchors[2].rightWidth * anchors[2].rightCurve) * -(contours[0].nodes[2].x - Utils.onLine({\n    'y': contours[0].nodes[1].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n}))) : Math.min(contours[0].nodes[2].x - serifWidth / 5, anchors[0].x + serifHeight + serifCurve + anchors[2].rightWidth * anchors[2].rightCurve)",_parameters:["serifCurve","serifHeight","serifCurve","serifHeight","serifWidth","serifHeight","serifCurve"],_dependencies:["anchors.2.right","anchors.2.baseRight.x","parentAnchors.2.baseRight","contours.0.nodes.1.y","anchors.2.baseRight","contours.0.nodes.0.point","anchors.2.rightWidth","anchors.2.rightCurve","contours.0.nodes.2.x","anchors.2.rightWidth","anchors.2.rightCurve","contours.0.nodes.2.x","contours.0.nodes.1.y","anchors.2.baseRight","contours.0.nodes.0.point","contours.0.nodes.2.x","anchors.0.x","anchors.2.rightWidth","anchors.2.rightCurve"]},y:{_operation:"anchors[2].right === false ? anchors[2].baseRight.y : anchors[2].anchorLine + serifHeight * anchors[2].directionY",_parameters:["serifHeight"],_dependencies:["anchors.2.right","anchors.2.baseRight.y","anchors.2.anchorLine","anchors.2.directionY"]},tensionOut:{_operation:"serifRoundness",_parameters:["serifRoundness"],_dependencies:[]},type:"smooth",dirIn:{_operation:"anchors[2].attaque === true ? Utils.lineAngle(contours[0].nodes[4].point, contours[0].nodes[5].point) : Utils.lineAngle(contours[0].nodes[1].point, contours[0].nodes[2].point)",_parameters:[],_dependencies:["anchors.2.attaque","contours.0.nodes.4.point","contours.0.nodes.5.point","contours.0.nodes.1.point","contours.0.nodes.2.point"]}},{x:{_operation:"anchors[2].right === false ? anchors[2].baseRight.x : parentAnchors[2].baseRight ? anchors[2].baseRight.x > contours[0].nodes[0].x ? Utils.onLine({\n    'y': contours[0].nodes[2].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n}) + (serifWidth + anchors[2].rightWidth * Math.min(1, serifWidth)) : anchors[2].rightSerifBound > anchors[2].baseRight.x + serifWidth + anchors[2].rightWidth * Math.min(1, serifWidth) ? Utils.onLine({\n    'y': contours[0].nodes[2].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n}) : anchors[2].baseRight.x + serifWidth + anchors[2].rightWidth * Math.min(1, serifWidth) : anchors[2].anchor_0 + serifWidth + anchors[2].rightWidth * Math.min(1, serifWidth)",_parameters:["serifWidth","serifWidth","serifWidth","serifWidth","serifWidth","serifWidth","serifWidth","serifWidth"],_dependencies:["anchors.2.right","anchors.2.baseRight.x","parentAnchors.2.baseRight","anchors.2.baseRight.x","contours.0.nodes.0.x","contours.0.nodes.2.y","anchors.2.baseRight","contours.0.nodes.0.point","anchors.2.rightWidth","anchors.2.rightSerifBound","anchors.2.baseRight.x","anchors.2.rightWidth","contours.0.nodes.2.y","anchors.2.baseRight","contours.0.nodes.0.point","anchors.2.baseRight.x","anchors.2.rightWidth","anchors.2.anchor_0","anchors.2.rightWidth"]},y:{_operation:"anchors[2].right === false ? anchors[2].baseRight.y : anchors[2].attaque === true ? contours[0].nodes[4].y + serifHeight * serifMedian + (serifWidth + anchors[2].rightWidth) * (anchors[2].anchorLine + (spurHeight * 50 - 50) * anchors[2].directionY) / (anchors[2].baseRight.x + serifWidth * midWidth + anchors[2].rightWidth) : contours[0].nodes[4].y + serifHeight * serifMedian * anchors[2].directionY",_parameters:["serifHeight","serifMedian","serifWidth","spurHeight","serifWidth","midWidth","serifHeight","serifMedian"],_dependencies:["anchors.2.right","anchors.2.baseRight.y","anchors.2.attaque","contours.0.nodes.4.y","anchors.2.rightWidth","anchors.2.anchorLine","anchors.2.directionY","anchors.2.baseRight.x","anchors.2.rightWidth","contours.0.nodes.4.y","anchors.2.directionY"]},tensionOut:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]},type:"smooth",typeIn:"line"},{x:{_operation:"anchors[2].right === false ? anchors[2].baseRight.x : contours[0].nodes[2].x + (contours[0].nodes[4].x - contours[0].nodes[2].x) / 2 + serifTerminal * serifWidth",_parameters:["serifTerminal","serifWidth"],_dependencies:["anchors.2.right","anchors.2.baseRight.x","contours.0.nodes.2.x","contours.0.nodes.4.x","contours.0.nodes.2.x"]},y:{_operation:"anchors[2].right === false ? anchors[2].baseRight.y : contours[0].nodes[4].y + serifHeight * serifMedian / 2 * anchors[2].directionY",_parameters:["serifHeight","serifMedian"],_dependencies:["anchors.2.right","anchors.2.baseRight.y","contours.0.nodes.4.y","anchors.2.directionY"]},dirOut:{_operation:"Utils.lineAngle(contours[0].nodes[2].point, contours[0].nodes[4].point)",_parameters:[],_dependencies:["contours.0.nodes.2.point","contours.0.nodes.4.point"]},type:"smooth",tensionOut:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]},tensionIn:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]}},{x:{_operation:"anchors[2].right === false ? anchors[2].baseRight.x : parentAnchors[2].baseRight ? anchors[2].baseRight.x < contours[0].nodes[0].x ? anchors[2].baseRight.x + serifWidth * midWidth + anchors[2].rightWidth * Math.min(1, serifWidth) : anchors[2].baseRight.x > anchors[2].baseRight.x + serifWidth * midWidth + anchors[2].rightWidth * Math.min(1, serifWidth) - Math.abs(Utils.onLine({\n    'y': contours[0].nodes[2].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n}) - anchors[2].baseRight.x) ? anchors[2].baseRight.x : anchors[2].baseRight.x + serifWidth * midWidth + anchors[2].rightWidth * Math.min(1, serifWidth) - Math.abs(Utils.onLine({\n    'y': contours[0].nodes[2].y,\n    'on': [\n        anchors[2].baseRight,\n        contours[0].nodes[0].point\n    ]\n}) - anchors[2].baseRight.x) : contours[0].nodes[0].x - (contours[0].nodes[0].x - contours[0].nodes[2].x) * midWidth",_parameters:["serifWidth","midWidth","serifWidth","serifWidth","midWidth","serifWidth","serifWidth","midWidth","serifWidth","midWidth"],_dependencies:["anchors.2.right","anchors.2.baseRight.x","parentAnchors.2.baseRight","anchors.2.baseRight.x","contours.0.nodes.0.x","anchors.2.baseRight.x","anchors.2.rightWidth","anchors.2.baseRight.x","anchors.2.baseRight.x","anchors.2.rightWidth","contours.0.nodes.2.y","anchors.2.baseRight","contours.0.nodes.0.point","anchors.2.baseRight.x","anchors.2.baseRight.x","anchors.2.baseRight.x","anchors.2.rightWidth","contours.0.nodes.2.y","anchors.2.baseRight","contours.0.nodes.0.point","anchors.2.baseRight.x","contours.0.nodes.0.x","contours.0.nodes.0.x","contours.0.nodes.2.x"]},y:{_operation:"anchors[2].right === false ? anchors[2].baseRight.y : anchors[2].anchorLine",_parameters:[],_dependencies:["anchors.2.right","anchors.2.baseRight.y","anchors.2.anchorLine"]},tensionOut:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]},type:"smooth",dirIn:{_operation:"180 + 'deg'",_parameters:[],_dependencies:[]},dirOut:{_operation:"0 + 'deg'",_parameters:[],_dependencies:[]}},{x:{_operation:"anchors[2].attaque === true ? anchors[0].x + 10 / 85 * thickness : contours[0].nodes[4].x - (contours[0].nodes[4].x - contours[0].nodes[6].x) / 2",_parameters:["thickness"],_dependencies:["anchors.2.attaque","anchors.0.x","contours.0.nodes.4.x","contours.0.nodes.4.x","contours.0.nodes.6.x"]},y:{_operation:"anchors[2].anchorLine + serifHeight * serifArc * anchors[2].directionY",_parameters:["serifHeight","serifArc"],_dependencies:["anchors.2.anchorLine","anchors.2.directionY"]},dirIn:{_operation:"anchors[2].attaque === true ? Utils.lineAngle(contours[0].nodes[4].point, contours[0].nodes[5].point) : 0 + 'deg'",_parameters:[],_dependencies:["anchors.2.attaque","contours.0.nodes.4.point","contours.0.nodes.5.point"]},dirOut:{_operation:"180 + 'deg'",_parameters:[],_dependencies:[]}},{x:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.x : parentAnchors[2].baseLeft ? anchors[2].baseLeft.x > contours[0].nodes[10].x ? anchors[2].baseLeft.x - serifWidth * midWidth - anchors[2].leftWidth * Math.min(1, serifWidth) : anchors[2].baseLeft.x < anchors[2].baseLeft.x - serifWidth * midWidth - anchors[2].leftWidth * Math.min(1, serifWidth) + Math.abs(Utils.onLine({\n    'y': contours[0].nodes[8].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n}) - anchors[2].baseLeft.x) ? anchors[2].baseLeft.x : anchors[2].baseLeft.x - serifWidth * midWidth - anchors[2].leftWidth * Math.min(1, serifWidth) + Math.abs(Utils.onLine({\n    'y': contours[0].nodes[8].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n}) - anchors[2].baseLeft.x) : contours[0].nodes[10].x - (contours[0].nodes[10].x - contours[0].nodes[8].x) * midWidth",_parameters:["serifWidth","midWidth","serifWidth","serifWidth","midWidth","serifWidth","serifWidth","midWidth","serifWidth","midWidth"],_dependencies:["anchors.2.left","anchors.2.baseLeft.x","parentAnchors.2.baseLeft","anchors.2.baseLeft.x","contours.0.nodes.10.x","anchors.2.baseLeft.x","anchors.2.leftWidth","anchors.2.baseLeft.x","anchors.2.baseLeft.x","anchors.2.leftWidth","contours.0.nodes.8.y","anchors.2.baseLeft","contours.0.nodes.10.point","anchors.2.baseLeft.x","anchors.2.baseLeft.x","anchors.2.baseLeft.x","anchors.2.leftWidth","contours.0.nodes.8.y","anchors.2.baseLeft","contours.0.nodes.10.point","anchors.2.baseLeft.x","contours.0.nodes.10.x","contours.0.nodes.10.x","contours.0.nodes.8.x"]},y:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.y : anchors[2].anchorLine",_parameters:[],_dependencies:["anchors.2.left","anchors.2.baseLeft.y","anchors.2.anchorLine"]},tensionOut:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]},dirOut:{_operation:"0 + 'deg'",_parameters:[],_dependencies:[]}},{x:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.x : contours[0].nodes[8].x - (contours[0].nodes[8].x - contours[0].nodes[6].x) / 2 - serifTerminal * serifWidth",_parameters:["serifTerminal","serifWidth"],_dependencies:["anchors.2.left","anchors.2.baseLeft.x","contours.0.nodes.8.x","contours.0.nodes.8.x","contours.0.nodes.6.x"]},y:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.y : anchors[2].anchorLine + serifHeight * serifMedian / 2 * anchors[2].directionY",_parameters:["serifHeight","serifMedian"],_dependencies:["anchors.2.left","anchors.2.baseLeft.y","anchors.2.anchorLine","anchors.2.directionY"]},type:"smooth",dirOut:{_operation:"Utils.lineAngle(contours[0].nodes[6].point, contours[0].nodes[8].point)",_parameters:[],_dependencies:["contours.0.nodes.6.point","contours.0.nodes.8.point"]},tensionOut:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]},tensionIn:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],_dependencies:[]}},{x:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.x : parentAnchors[2].baseLeft ? anchors[2].baseLeft.x < contours[0].nodes[10].x ? Utils.onLine({\n    'y': contours[0].nodes[8].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n}) - (serifWidth + anchors[2].leftWidth * Math.min(1, serifWidth)) : anchors[2].leftSerifBound < anchors[2].baseLeft.x - (serifWidth + anchors[2].leftWidth * Math.min(1, serifWidth)) ? Utils.onLine({\n    'y': contours[0].nodes[8].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n}) : anchors[2].baseLeft.x - (serifWidth + anchors[2].leftWidth * Math.min(1, serifWidth)) : anchors[2].anchor_1 - (serifWidth + anchors[2].leftWidth * Math.min(1, serifWidth))",_parameters:["serifWidth","serifWidth","serifWidth","serifWidth","serifWidth","serifWidth","serifWidth","serifWidth"],_dependencies:["anchors.2.left","anchors.2.baseLeft.x","parentAnchors.2.baseLeft","anchors.2.baseLeft.x","contours.0.nodes.10.x","contours.0.nodes.8.y","anchors.2.baseLeft","contours.0.nodes.10.point","anchors.2.leftWidth","anchors.2.leftSerifBound","anchors.2.baseLeft.x","anchors.2.leftWidth","contours.0.nodes.8.y","anchors.2.baseLeft","contours.0.nodes.10.point","anchors.2.baseLeft.x","anchors.2.leftWidth","anchors.2.anchor_1","anchors.2.leftWidth"]},y:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.y : anchors[2].anchorLine + serifHeight * serifMedian * anchors[2].directionY",_parameters:["serifHeight","serifMedian"],_dependencies:["anchors.2.left","anchors.2.baseLeft.y","anchors.2.anchorLine","anchors.2.directionY"]},tensionIn:{_operation:"serifTerminalCurve",_parameters:["serifTerminalCurve"],
_dependencies:[]},typeOut:"line",dirIn:{_operation:"0 + 'deg'",_parameters:[],_dependencies:[]}},{x:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.x : parentAnchors[2].baseLeft ? Math.max(Utils.onLine({\n    'y': contours[0].nodes[9].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n}) - (serifCurve + serifHeight + anchors[2].leftWidth * anchors[2].leftCurve), contours[0].nodes[8].x + 20 / (serifCurve + serifHeight + anchors[2].leftWidth * anchors[2].leftCurve) * -(contours[0].nodes[8].x - Utils.onLine({\n    'y': contours[0].nodes[9].y,\n    'on': [\n        anchors[2].baseLeft,\n        contours[0].nodes[10].point\n    ]\n}))) : Math.max(contours[0].nodes[8].x + serifWidth / 5, anchors[1].x - serifHeight - serifCurve - anchors[2].leftWidth * anchors[2].leftCurve)",_parameters:["serifCurve","serifHeight","serifCurve","serifHeight","serifWidth","serifHeight","serifCurve"],_dependencies:["anchors.2.left","anchors.2.baseLeft.x","parentAnchors.2.baseLeft","contours.0.nodes.9.y","anchors.2.baseLeft","contours.0.nodes.10.point","anchors.2.leftWidth","anchors.2.leftCurve","contours.0.nodes.8.x","anchors.2.leftWidth","anchors.2.leftCurve","contours.0.nodes.8.x","contours.0.nodes.9.y","anchors.2.baseLeft","contours.0.nodes.10.point","contours.0.nodes.8.x","anchors.1.x","anchors.2.leftWidth","anchors.2.leftCurve"]},y:{_operation:"anchors[2].left === false ? anchors[2].baseLeft.y : anchors[2].anchorLine + serifHeight * anchors[2].directionY",_parameters:["serifHeight"],_dependencies:["anchors.2.left","anchors.2.baseLeft.y","anchors.2.anchorLine","anchors.2.directionY"]},tensionOut:{_operation:"serifRoundness",_parameters:["serifRoundness"],_dependencies:[]},type:"smooth"},{x:{_operation:"Math.max(anchors[1].x, anchors[2].max1.x)",_parameters:[],_dependencies:["anchors.1.x","anchors.2.max1.x"]},y:{_operation:"Math.max(anchors[1].y, anchors[2].max1.y)",_parameters:[],_dependencies:["anchors.1.y","anchors.2.max1.y"]},dirIn:{_operation:"anchors[2].angle",_parameters:[],_dependencies:["anchors.2.angle"]},typeOut:"line",tensionIn:{_operation:"1.4 * serifRoundness * anchors[2].leftCurve",_parameters:["serifRoundness"],_dependencies:["anchors.2.leftCurve"]}}]}],component:[]},lib:{}}},fontinfo:{familyName:"genese",version:"0.1.0",description:"The first parametric typeface",tags:["all","component","latin","lowercase","uppercase","punctuation","figures","diacritic","smallcap"],ascender:{_operation:"Math.max(ascenderHeight, capHeight) * 1.3",_parameters:["ascenderHeight","capHeight"],_dependencies:[]},descender:{_operation:"descender - 50",_parameters:["descender"],_dependencies:[]},"cap-height":{_operation:"Math.max(ascenderHeight, capHeight) * 1.3",_parameters:["ascenderHeight","capHeight"],_dependencies:[]},"descendent-height":{_operation:"descender - 50",_parameters:["descender"],_dependencies:[]}},lib:{parameters:{capHeight:{_operation:"xHeight + capDelta",_parameters:["xHeight","capDelta"],_dependencies:[]},contrast:{_operation:"_contrast * -1",_parameters:["_contrast"],_dependencies:[]},ascenderHeight:{_operation:"xHeight + ascender",_parameters:["xHeight","ascender"],_dependencies:[]},spacing:1.1},transforms:{_operation:"Array([\n	'skewX',\n	slant + 'deg'\n])",_parameters:["slant"],_dependencies:[]}}},$(function(){function e(){window.location.hash&&($(window.location.hash).hasClass("focus")||($(".Question").removeClass("focus"),$(window.location.hash).addClass("focus").find(".Question-header").trigger("click")))}$("#toggleMainNav").on("click",function(){$("body").toggleClass("js-showMainNav"),$(this).toggleClass("active")}),$(".Question-header").not(".Question-anchor").on("click",function(){$(this).parent().find(".Question-content").slideToggle(200)}),$(".Question-anchor").on("click",function(){window.location.reload()}),e(),$(".js_annualBilling").on("mousedown",function(){$(".Pricing").removeClass("showMonthlyBilling").addClass("showAnnualBilling")}),$(".js_monthlyBilling").on("mousedown",function(){$(".Pricing").removeClass("showAnnualBilling").addClass("showMonthlyBilling")});var t=new PrototypoCanvas({canvas:document.querySelector("#DemoCanvas"),jQueryListeners:!1,fontObj:window.fontObj}),n={xHeight:500,capDelta:250,ascender:250,descender:-250,crossbar:1,width:1,roundness:.65,thickness:85,_contrast:-1,breakPath:0,aperture:1,axis:0,serifMedian:1,serifWidth:65,serifHeight:20,serifCurve:15,serifArc:0,serifTerminal:0,serifRotate:1,serifRoundness:1,midWidth:1,serifTerminalCurve:1,spurHeight:1,overshoot:10,slant:0,curviness:.6,opticThickness:1,serifBall:1};t.update(n),t.displayChar("A"),t.currGlyph.fillColor="#444",t.zoom=.29,t.view.center=[200,-350];var r=$(".DemoControls-Potentiometer").css("background-image").replace(/^.*?(rgb\(.*?\)).*?(rgb\(.*?\)).*$/," $1 | $2 ").split("|"),i=function(e){var t=e.max-e.min,n=100*(e.value-e.min+.05*t)/(e.max-e.min+.1*t);e.style["background-image"]="linear-gradient( to right,"+r[0]+n+"%,"+r[1]+(n+.01)+"%)"};$(".DemoControls").on("input",".DemoControls-Potentiometer",function(e){i(e.target),n[e.target.getAttribute("data-param")]=+e.target.value,t.update(n)}),$(".DemoControls-Potentiometer").each(function(){i(this)})});